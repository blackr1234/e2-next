1:"$Sreact.fragment"
2:I[8287,["7829","static/chunks/7829-b7b9eb1dbe0d40e4.js","2153","static/chunks/2153-45fd9844831c6348.js","7177","static/chunks/app/layout-ea91c2d128ec48c2.js"],"default"]
3:I[3339,["7829","static/chunks/7829-b7b9eb1dbe0d40e4.js","8974","static/chunks/app/page-c8b940db14fac9a0.js"],"default"]
4:I[1367,["7829","static/chunks/7829-b7b9eb1dbe0d40e4.js","2153","static/chunks/2153-45fd9844831c6348.js","7177","static/chunks/app/layout-ea91c2d128ec48c2.js"],"default"]
5:I[5244,[],""]
6:I[3866,[],""]
7:I[4798,["7829","static/chunks/7829-b7b9eb1dbe0d40e4.js","8974","static/chunks/app/page-c8b940db14fac9a0.js"],"default"]
8:I[6121,["7829","static/chunks/7829-b7b9eb1dbe0d40e4.js","8974","static/chunks/app/page-c8b940db14fac9a0.js"],"default"]
9:I[3667,["7829","static/chunks/7829-b7b9eb1dbe0d40e4.js","8974","static/chunks/app/page-c8b940db14fac9a0.js"],"default"]
a:I[8407,["7829","static/chunks/7829-b7b9eb1dbe0d40e4.js","2153","static/chunks/2153-45fd9844831c6348.js","7177","static/chunks/app/layout-ea91c2d128ec48c2.js"],"default"]
b:I[8173,["7829","static/chunks/7829-b7b9eb1dbe0d40e4.js","8974","static/chunks/app/page-c8b940db14fac9a0.js"],""]
c:I[3197,["7829","static/chunks/7829-b7b9eb1dbe0d40e4.js","2153","static/chunks/2153-45fd9844831c6348.js","7177","static/chunks/app/layout-ea91c2d128ec48c2.js"],"default"]
d:I[7933,["7829","static/chunks/7829-b7b9eb1dbe0d40e4.js","2153","static/chunks/2153-45fd9844831c6348.js","7177","static/chunks/app/layout-ea91c2d128ec48c2.js"],"default"]
e:I[3800,["7829","static/chunks/7829-b7b9eb1dbe0d40e4.js","2153","static/chunks/2153-45fd9844831c6348.js","7177","static/chunks/app/layout-ea91c2d128ec48c2.js"],"default"]
f:I[6213,[],"OutletBoundary"]
11:I[6213,[],"MetadataBoundary"]
13:I[6213,[],"ViewportBoundary"]
15:I[4835,[],""]
:HL["/e2-next/_next/static/css/d3df112486f97f47.css","style"]
:HL["/e2-next/_next/static/css/c3624a693ae5a0c4.css","style"]
:HL["/e2-next/_next/static/css/952e59b04e0cf1ba.css","style"]
0:{"P":null,"b":"6nWD8j8QAG8jPlD-QSgQT","p":"/e2-next","c":["","blog","rabbitmq-basics"],"i":false,"f":[[["",{"children":["blog",{"children":["(2024-04)",{"children":["rabbitmq-basics",{"children":["__PAGE__",{}]}]}]}]},"$undefined","$undefined",true],["",["$","$1","c",{"children":[[["$","link","0",{"rel":"stylesheet","href":"/e2-next/_next/static/css/d3df112486f97f47.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}],["$","link","1",{"rel":"stylesheet","href":"/e2-next/_next/static/css/c3624a693ae5a0c4.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}]],["$","html",null,{"lang":"en","children":[["$","head",null,{"children":[["$","link",null,{"href":"https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap","rel":"stylesheet"}],["$","link",null,{"rel":"stylesheet","href":"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css"}]]}],["$","body",null,{"children":["$","$L2",null,{"children":["$","$L3",null,{"gap":5,"children":[["$","$L3",null,{"gap":5,"className":"text-center","children":[["$","div",null,{"children":[["$","code",null,{"className":"SiteHeader_name__cwQmL","children":"Chung Cheuk Hang Michael"}],["$","code",null,{"className":"SiteHeader_title__CCfvI","children":"Java Web Developer"}]]}],["$","$L4",null,{}]]}],["$","$L5",null,{"parallelRouterKey":"children","segmentPath":["children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L6",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":[[],[["$","title",null,{"children":"404: This page could not be found."}],["$","div",null,{"style":{"fontFamily":"system-ui,\"Segoe UI\",Roboto,Helvetica,Arial,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\"","height":"100vh","textAlign":"center","display":"flex","flexDirection":"column","alignItems":"center","justifyContent":"center"},"children":["$","div",null,{"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}"}}],["$","h1",null,{"className":"next-error-h1","style":{"display":"inline-block","margin":"0 20px 0 0","padding":"0 23px 0 0","fontSize":24,"fontWeight":500,"verticalAlign":"top","lineHeight":"49px"},"children":404}],["$","div",null,{"style":{"display":"inline-block"},"children":["$","h2",null,{"style":{"fontSize":14,"fontWeight":400,"lineHeight":"49px","margin":0},"children":"This page could not be found."}]}]]}]}]]],"forbidden":"$undefined","unauthorized":"$undefined"}],["$","hr",null,{}],["$","$L3",null,{"gap":3,"children":["$","$L7",null,{"className":"text-center","children":["$","$L8",null,{"xs":1,"sm":2,"md":3,"className":"justify-content-center g-3","children":[["$","$L9","0",{"children":["$","$La",null,{"as":"$b","href":"tel:+85263301333","target":"_blank","rel":"external nofollow noopener noreferrer","className":"SiteFooter_contact-item__2JRRr","children":["$","$Lc",null,{"children":[["$","$Ld",null,{"children":["$","i",null,{"className":"fa-solid fa-phone","style":{"color":"#009688"}}]}],["$","$Le",null,{"className":"text-muted","children":["6330 1333"," "]}]]}]}]}],["$","$L9","1",{"children":["$","$La",null,{"as":"$b","href":"mailto:michaelboyboy@gmail.com","target":"_blank","rel":"external nofollow noopener noreferrer","className":"SiteFooter_contact-item__2JRRr","children":["$","$Lc",null,{"children":[["$","$Ld",null,{"children":["$","i",null,{"className":"fa-solid fa-envelope","style":{"color":"#f44336"}}]}],["$","$Le",null,{"className":"text-muted","children":["michaelboyboy@gmail.com"," "]}]]}]}]}],["$","$L9","2",{"children":["$","$La",null,{"as":"$b","href":"https://www.linkedin.com/in/mickchung","target":"_blank","rel":"external nofollow noopener noreferrer","className":"SiteFooter_contact-item__2JRRr","children":["$","$Lc",null,{"children":[["$","$Ld",null,{"children":["$","i",null,{"className":"fa-brands fa-linkedin","style":{"color":"#2196f3"}}]}],["$","$Le",null,{"className":"text-muted","children":["www.linkedin.com/in/mickchung"," "]}]]}]}]}]]}]}]}]]}]}]}]]}]]}],{"children":["blog",["$","$1","c",{"children":[null,["$","$L5",null,{"parallelRouterKey":"children","segmentPath":["children","blog","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L6",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","forbidden":"$undefined","unauthorized":"$undefined"}]]}],{"children":["(2024-04)",["$","$1","c",{"children":[null,["$","$L5",null,{"parallelRouterKey":"children","segmentPath":["children","blog","children","(2024-04)","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L6",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","forbidden":"$undefined","unauthorized":"$undefined"}]]}],{"children":["rabbitmq-basics",["$","$1","c",{"children":[null,["$","$L5",null,{"parallelRouterKey":"children","segmentPath":["children","blog","children","(2024-04)","children","rabbitmq-basics","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L6",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","forbidden":"$undefined","unauthorized":"$undefined"}]]}],{"children":["__PAGE__",["$","$1","c",{"children":[[["$","h1",null,{"style":{"fontWeight":"bold"},"children":"1 RabbitMQ 簡介"}],"\n",["$","p",null,{"className":"mdx-components_paragraph__AUxxF","children":["可以睇返呢篇：",["$","a",null,{"href":"/blog/spring-cloud-stream-rabbitmq","children":"Spring 項目中訂閱 RabbitMQ"}]]}],"\n",["$","hr",null,{}],"\n",["$","h1",null,{"style":{"fontWeight":"bold"},"children":"2 啟動 RabbitMQ"}],"\n",["$","p",null,{"className":"mdx-components_paragraph__AUxxF","children":"我地可以用 Docker Desktop，然後利用 RabbitMQ 既官方 Docker image 執行 Docker container。"}],"\n",["$","p",null,{"className":"mdx-components_paragraph__AUxxF","children":["Command 可以喺呢篇搵到：",["$","a",null,{"href":"/blog/docker-basics#337-rabbitmq","children":"Docker 基本操作 - 3.3.7 RabbitMQ"}],"。"]}],"\n",["$","hr",null,{}],"\n",["$","h1",null,{"style":{"fontWeight":"bold"},"children":"3 動手玩"}],"\n",["$","h2",null,{"style":{"fontWeight":"bold"},"children":"3.1 建立 virtual host"}],"\n",["$","p",null,{"className":"mdx-components_paragraph__AUxxF","children":"RabbitMQ 支援 multi-tenant，我地可以用 virtual host 黎 group 起相關既 resources。"}],"\n",["$","ol",null,{"children":["\n",["$","li",null,{"children":"去 Admin > Virtual Hosts。"}],"\n",["$","li",null,{"children":"打開「Add a new virtual host」。"}],"\n",["$","li",null,{"children":"輸入 Name，例如「rabbitmq-basics」。"}],"\n",["$","li",null,{"children":"撳「Add virtual host」。"}],"\n",["$","li",null,{"children":"Refresh 頁面。"}],"\n",["$","li",null,{"children":"右上角 > 揀新建立既 virtual host。"}],"\n"]}],"\n",["$","p",null,{"className":"mdx-components_paragraph__AUxxF","children":"完成之後，我地就可以喺呢個新既 virtual host 度玩啦！"}],"\n",["$","hr",null,{}],"\n",["$","h2",null,{"style":{"fontWeight":"bold"},"children":"3.2 測試 queue"}],"\n",["$","h3",null,{"style":{"fontWeight":"bold"},"children":"3.2.1 建立 queue"}],"\n",["$","ol",null,{"children":["\n",["$","li",null,{"children":"去 Queues and Streams。"}],"\n",["$","li",null,{"children":"打開「Add a new queue」。"}],"\n",["$","li",null,{"children":"我地可以揀 Virtual host、Type，亦可以由得佢用默認值。"}],"\n",["$","li",null,{"children":["輸入 Name，例如 ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"my-queue"}],"。"]}],"\n",["$","li",null,{"children":["Durability 由得佢用默認既 ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"Durable"}]," 就得。"]}],"\n",["$","li",null,{"children":"Arguments 可以唔輸入。"}],"\n",["$","li",null,{"children":"撳「Add queue」。"}],"\n"]}],"\n",["$","p",null,{"className":"mdx-components_paragraph__AUxxF","children":"完成之後，會見到有一個 queue："}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":["Name：",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"my-queue"}]]}],"\n",["$","li",null,{"children":["Type：",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"classic"}]]}],"\n",["$","li",null,{"children":["Features：","\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":[["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"D"}]," 係 durable。"]}],"\n",["$","li",null,{"children":[["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"Args"}]," 裡面有 ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"x-queue-type: classic"}],"。"]}],"\n"]}],"\n"]}],"\n",["$","li",null,{"children":["State：",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"idle"}]]}],"\n",["$","li",null,{"children":["Messages：",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"0"}]]}],"\n"]}],"\n",["$","hr",null,{}],"\n",["$","h3",null,{"style":{"fontWeight":"bold"},"children":"3.2.2 直接發送訊息到 queue"}],"\n",["$","ol",null,{"children":["\n",["$","li",null,{"children":"撳「my-queue」。"}],"\n",["$","li",null,{"children":"打開「Publish message」。"}],"\n",["$","li",null,{"children":["Delivery mode 由得佢用默認既 ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"1 - Non-persistent"}]," 就得。"]}],"\n",["$","li",null,{"children":"Headers、Properties 可以唔輸入。"}],"\n",["$","li",null,{"children":["Payload 係我地想發送既 message body，可以輸入 ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"foo"}],"。"]}],"\n",["$","li",null,{"children":["Payload encoding 由得佢用默認既 ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"String (default)"}]," 就得。"]}],"\n",["$","li",null,{"children":"撳「Publish message」。"}],"\n",["$","li",null,{"children":"如果發送成功，佢會彈出灰色底既 popup，寫住「Message published.」，撳「Close」就得。"}],"\n"]}],"\n",["$","hr",null,{}],"\n",["$","h3",null,{"style":{"fontWeight":"bold"},"children":"3.2.3 接收訊息"}],"\n",["$","ol",null,{"children":["\n",["$","li",null,{"children":"打開「Get messages」。"}],"\n",["$","li",null,{"children":["將 Ack mode 改成 ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"Automatic ack"}],"。"]}],"\n",["$","li",null,{"children":["Encoding 由得佢用默認既 ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"Auto string / base64"}]," 就得。"]}],"\n",["$","li",null,{"children":["Messages 影響接收既訊息數量，可以改成 ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"10"}],"，就算多過實際存在既訊息數量都冇問題。"]}],"\n",["$","li",null,{"children":"撳「Get Message(s)」。"}],"\n"]}],"\n",["$","p",null,{"className":"mdx-components_paragraph__AUxxF","children":"之後佢會顯示我地既「foo」訊息："}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":["Exchange：",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"(AMQP default)"}]]}],"\n",["$","li",null,{"children":["Routing key：",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"my-queue"}]]}],"\n",["$","li",null,{"children":["Redelivered：",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"○"}],"（白色代表 ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"false"}],"，requeue 既訊息先會係 ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"true"}],"）"]}],"\n",["$","li",null,{"children":["Properties","\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":["delivery_mode：",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"1"}]]}],"\n",["$","li",null,{"children":"headers：N/A"}],"\n"]}],"\n"]}],"\n",["$","li",null,{"children":["Payload：",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"foo"}]]}],"\n"]}],"\n",["$","p",null,{"className":"mdx-components_paragraph__AUxxF","children":"如果我地再撳「Get Message(s)」，佢就會彈出灰色底既 popup，寫住「Queue is empty」，咁係因為先前既訊息已經 acknowledge 左。"}],"\n",["$","hr",null,{}],"\n",["$","h3",null,{"style":{"fontWeight":"bold"},"children":"3.2.4 Requeue 訊息"}],"\n",["$","ol",null,{"children":["\n",["$","li",null,{"children":["重複上面既發送、接收步驟。","\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":"喺接收既步驟，Ack mode 揀「Nack message requeue true」或者「Reject requeue true」。"}],"\n"]}],"\n"]}],"\n"]}],"\n",["$","p",null,{"className":"mdx-components_paragraph__AUxxF","children":"結果："}],"\n",["$","ol",null,{"children":["\n",["$","li",null,{"children":["第一次接收訊息既時候，我地會見到 Redelivered 係「○」（",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"false"}],"），因為呢個訊息係第一次接收。"]}],"\n",["$","li",null,{"children":["第二次接收訊息既時候，我地會見到 Redelivered 係「●」（",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"true"}],"），因為呢個訊息喺第一次接收之後被 requeue，而家接收既係第二次傳遞同一個訊息。"]}],"\n"]}],"\n",["$","hr",null,{}],"\n",["$","h2",null,{"style":{"fontWeight":"bold"},"children":"3.3 測試 direct exchange"}],"\n",["$","h3",null,{"style":{"fontWeight":"bold"},"children":"3.3.1 建立 direct exchange"}],"\n",["$","ol",null,{"children":["\n",["$","li",null,{"children":"去 Exchanges。"}],"\n",["$","li",null,{"children":"打開「Add a new exchange」。"}],"\n",["$","li",null,{"children":["輸入 Name，例如 ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"my-direct-exchange"}],"。"]}],"\n",["$","li",null,{"children":"Type 揀「direct」。"}],"\n",["$","li",null,{"children":"我地可以揀 Virtual host、Durability、Auto delete、Internal，亦可以由得佢用默認值。"}],"\n",["$","li",null,{"children":"Arguments 可以唔輸入。"}],"\n",["$","li",null,{"children":"撳「Add exchange」。"}],"\n"]}],"\n",["$","hr",null,{}],"\n",["$","h3",null,{"style":{"fontWeight":"bold"},"children":"3.3.2 建立 queue"}],"\n",["$","ol",null,{"children":["\n",["$","li",null,{"children":["可以參考返上面建立 queue 既步驟。","\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":["Name 可以輸入 ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"my-direct-queue"}],"。"]}],"\n"]}],"\n"]}],"\n"]}],"\n",["$","hr",null,{}],"\n",["$","h3",null,{"style":{"fontWeight":"bold"},"children":"3.3.3 建立 binding"}],"\n",["$","ol",null,{"children":["\n",["$","li",null,{"children":"撳「my-direct-queue」。"}],"\n",["$","li",null,{"children":"打開「Bindings (1)」。"}],"\n",["$","li",null,{"children":["From exchange 輸入 ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"my-direct-exchange"}],"。"]}],"\n",["$","li",null,{"children":["Routing key 輸入 ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"foo"}],"。"]}],"\n",["$","li",null,{"children":"Arguments 可以唔輸入。"}],"\n",["$","li",null,{"children":"撳「Bind」。"}],"\n"]}],"\n",["$","hr",null,{}],"\n",["$","h3",null,{"style":{"fontWeight":"bold"},"children":"3.3.4 發送、接收訊息"}],"\n",["$","ol",null,{"children":["\n",["$","li",null,{"children":["去「my-direct-exchange」度發送訊息。","\n",["$","ol",null,{"children":["\n",["$","li",null,{"children":["Routing key 輸入 ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"foo"}],"（要同 binding key 一樣）。"]}],"\n",["$","li",null,{"children":"Headers、Properties 可以唔輸入。"}],"\n",["$","li",null,{"children":["輸入 Payload，例如 ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"my message content"}],"。"]}],"\n"]}],"\n"]}],"\n",["$","li",null,{"children":["去「my-direct-queue」度接收訊息。","\n",["$","ol",null,{"children":["\n",["$","li",null,{"children":["會收到 ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"1"}]," 個訊息。"]}],"\n"]}],"\n"]}],"\n"]}],"\n",["$","p",null,{"className":"mdx-components_paragraph__AUxxF","children":["如果我地發送既時候唔用 ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"foo"}]," 作為 routing key（唔輸入，或者輸入另一個值），佢就會彈出黃色底既 popup，寫住「Message published, but not routed.」，咁係因為冇一個 binding 既 binding key 係 match 到呢個 routing key。"]}],"\n",["$","hr",null,{}],"\n",["$","h2",null,{"style":{"fontWeight":"bold"},"children":"3.4 測試 fanout exchange"}],"\n",["$","h3",null,{"style":{"fontWeight":"bold"},"children":"3.4.1 建立 fanout exchange"}],"\n",["$","ol",null,{"children":["\n",["$","li",null,{"children":"去 Exchanges。"}],"\n",["$","li",null,{"children":"打開「Add a new exchange」。"}],"\n",["$","li",null,{"children":["輸入 Name，例如 ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"my-fanout-exchange"}],"。"]}],"\n",["$","li",null,{"children":"Type 揀「fanout」。"}],"\n",["$","li",null,{"children":"我地可以揀 Virtual host、Durability、Auto delete、Internal，亦可以由得佢用默認值。"}],"\n",["$","li",null,{"children":"Arguments 可以唔輸入。"}],"\n",["$","li",null,{"children":"撳「Add exchange」。"}],"\n"]}],"\n",["$","hr",null,{}],"\n",["$","h3",null,{"style":{"fontWeight":"bold"},"children":"3.4.2 建立 queue"}],"\n",["$","ol",null,{"children":["\n",["$","li",null,{"children":["可以參考返上面建立 queue 既步驟。","\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":["Name 可以輸入 ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"my-fanout-queue"}],"。"]}],"\n"]}],"\n"]}],"\n"]}],"\n",["$","hr",null,{}],"\n",["$","h3",null,{"style":{"fontWeight":"bold"},"children":"3.4.3 建立 binding"}],"\n",["$","ol",null,{"children":["\n",["$","li",null,{"children":"撳「my-fanout-queue」。"}],"\n",["$","li",null,{"children":"打開「Bindings (1)」。"}],"\n",["$","li",null,{"children":["From exchange 輸入 ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"my-fanout-exchange"}],"。"]}],"\n",["$","li",null,{"children":["Routing key 輸入 ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"foo"}],"，或者唔輸入都得。"]}],"\n",["$","li",null,{"children":"Arguments 可以唔輸入。"}],"\n",["$","li",null,{"children":"撳「Bind」。"}],"\n"]}],"\n",["$","hr",null,{}],"\n",["$","h3",null,{"style":{"fontWeight":"bold"},"children":"3.4.4 發送、接收訊息"}],"\n",["$","ol",null,{"children":["\n",["$","li",null,{"children":["去「my-fanout-exchange」度發送訊息。","\n",["$","ol",null,{"children":["\n",["$","li",null,{"children":"Routing key、Headers、Properties 可以唔輸入。"}],"\n",["$","li",null,{"children":["輸入 Payload，例如 ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"my message content"}],"。"]}],"\n"]}],"\n"]}],"\n",["$","li",null,{"children":["去「my-fanout-queue」度接收訊息。","\n",["$","ol",null,{"children":["\n",["$","li",null,{"children":["會收到 ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"1"}]," 個訊息。"]}],"\n"]}],"\n"]}],"\n"]}],"\n",["$","p",null,{"className":"mdx-components_paragraph__AUxxF","children":["我地發送既時候用咩作為 routing key（輸入 ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"foo"}],"、唔輸入，或者輸入另一個值），都一樣可以發送到訊息，咁係因為 fanout exchange 唔會理 routing key 或者 binding key。"]}],"\n",["$","hr",null,{}],"\n",["$","h2",null,{"style":{"fontWeight":"bold"},"children":"3.5 測試 headers exchange"}],"\n",["$","h3",null,{"style":{"fontWeight":"bold"},"children":"3.5.1 建立 headers exchange"}],"\n",["$","ol",null,{"children":["\n",["$","li",null,{"children":"去 Exchanges。"}],"\n",["$","li",null,{"children":"打開「Add a new exchange」。"}],"\n",["$","li",null,{"children":["輸入 Name，例如 ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"my-headers-exchange"}],"。"]}],"\n",["$","li",null,{"children":"Type 揀「headers」。"}],"\n",["$","li",null,{"children":"我地可以揀 Virtual host、Durability、Auto delete、Internal，亦可以由得佢用默認值。"}],"\n",["$","li",null,{"children":"Arguments 可以唔輸入。"}],"\n",["$","li",null,{"children":"撳「Add exchange」。"}],"\n"]}],"\n",["$","hr",null,{}],"\n",["$","h3",null,{"style":{"fontWeight":"bold"},"children":"3.5.2 建立 queue"}],"\n",["$","ol",null,{"children":["\n",["$","li",null,{"children":["可以參考返上面建立 queue 既步驟。","\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":["Name 可以輸入 ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"my-headers-queue"}],"。"]}],"\n"]}],"\n"]}],"\n"]}],"\n",["$","hr",null,{}],"\n",["$","h3",null,{"style":{"fontWeight":"bold"},"children":"3.5.3 建立 binding"}],"\n",["$","ol",null,{"children":["\n",["$","li",null,{"children":"撳「my-headers-queue」。"}],"\n",["$","li",null,{"children":"打開「Bindings (1)」。"}],"\n",["$","li",null,{"children":["From exchange 輸入 ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"my-headers-exchange"}],"。"]}],"\n",["$","li",null,{"children":"Routing key 唔洗輸入。"}],"\n",["$","li",null,{"children":["Arguments 輸入：","\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":[["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"h1"}]," = ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"foo"}],"（",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"String"}],"）"]}],"\n",["$","li",null,{"children":[["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"h2"}]," = ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"bar"}],"（",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"String"}],"）"]}],"\n"]}],"\n"]}],"\n",["$","li",null,{"children":"撳「Bind」。"}],"\n"]}],"\n",["$","hr",null,{}],"\n",["$","h3",null,{"style":{"fontWeight":"bold"},"children":"3.5.4 發送、接收訊息"}],"\n",["$","ol",null,{"children":["\n",["$","li",null,{"children":["去「my-headers-exchange」度發送訊息。","\n",["$","ol",null,{"children":["\n",["$","li",null,{"children":"Routing key、Properties 可以唔輸入。"}],"\n",["$","li",null,{"children":["Headers 輸入：","\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":[["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"h1"}]," = ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"foo"}],"（",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"String"}],"）"]}],"\n",["$","li",null,{"children":[["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"h2"}]," = ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"bar"}],"（",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"String"}],"）"]}],"\n"]}],"\n"]}],"\n",["$","li",null,{"children":["輸入 Payload，例如 ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"my message content"}],"。"]}],"\n"]}],"\n"]}],"\n",["$","li",null,{"children":["去「my-headers-queue」度接收訊息。","\n",["$","ol",null,{"children":["\n",["$","li",null,{"children":["會收到 ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"1"}]," 個訊息。"]}],"\n"]}],"\n"]}],"\n"]}],"\n",["$","p",null,{"className":"mdx-components_paragraph__AUxxF","children":"如果我地發送既時候，headers 一定要 match 曬 binding 既 arguments，只要有任何一個唔 match，佢都會彈出黃色底既 popup，寫住「Message published, but not routed.」，咁係因為冇一個 binding 既 arguments 係 match 到呢個訊息既 headers。"}],"\n",["$","hr",null,{}],"\n",["$","h2",null,{"style":{"fontWeight":"bold"},"children":"3.6 測試 topic exchange"}],"\n",["$","h3",null,{"style":{"fontWeight":"bold"},"children":"3.6.1 建立 topic exchange"}],"\n",["$","ol",null,{"children":["\n",["$","li",null,{"children":"去 Exchanges。"}],"\n",["$","li",null,{"children":"打開「Add a new exchange」。"}],"\n",["$","li",null,{"children":["輸入 Name，例如 ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"my-topic-exchange"}],"。"]}],"\n",["$","li",null,{"children":"Type 揀「topic」。"}],"\n",["$","li",null,{"children":"我地可以揀 Virtual host、Durability、Auto delete、Internal，亦可以由得佢用默認值。"}],"\n",["$","li",null,{"children":"Arguments 可以唔輸入。"}],"\n",["$","li",null,{"children":"撳「Add exchange」。"}],"\n"]}],"\n",["$","hr",null,{}],"\n",["$","h3",null,{"style":{"fontWeight":"bold"},"children":"3.6.2 建立 queue"}],"\n",["$","ol",null,{"children":["\n",["$","li",null,{"children":["可以參考返上面建立 queue 既步驟。","\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":["Name 可以輸入 ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"my-topic-queue"}],"。"]}],"\n"]}],"\n"]}],"\n"]}],"\n",["$","hr",null,{}],"\n",["$","h3",null,{"style":{"fontWeight":"bold"},"children":"3.6.3 建立 binding"}],"\n",["$","ol",null,{"children":["\n",["$","li",null,{"children":"撳「my-topic-queue」。"}],"\n",["$","li",null,{"children":"打開「Bindings (1)」。"}],"\n",["$","li",null,{"children":["From exchange 輸入 ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"my-topic-exchange"}],"。"]}],"\n",["$","li",null,{"children":["Routing key 輸入 ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"foo.#"}],"。"]}],"\n",["$","li",null,{"children":"Arguments 可以唔輸入。"}],"\n",["$","li",null,{"children":"撳「Bind」。"}],"\n"]}],"\n",["$","hr",null,{}],"\n",["$","h3",null,{"style":{"fontWeight":"bold"},"children":"3.6.4 發送、接收訊息"}],"\n",["$","ol",null,{"children":["\n",["$","li",null,{"children":["去「my-topic-exchange」度發送訊息。","\n",["$","ol",null,{"children":["\n",["$","li",null,{"children":["Routing key 輸入 ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"foo.123"}],"（要係一個 match 到 ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"foo.#"}]," 接受既值）。"]}],"\n",["$","li",null,{"children":"Headers、Properties 可以唔輸入。"}],"\n",["$","li",null,{"children":["輸入 Payload，例如 ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"my message content"}],"。"]}],"\n"]}],"\n"]}],"\n",["$","li",null,{"children":["去「my-topic-queue」度接收訊息。","\n",["$","ol",null,{"children":["\n",["$","li",null,{"children":["會收到 ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"1"}]," 個訊息。"]}],"\n"]}],"\n"]}],"\n"]}],"\n",["$","p",null,{"className":"mdx-components_paragraph__AUxxF","children":"如果我地發送既時候唔用 match 到個 binding key 既值作為 routing key（唔輸入，或者輸入唔 match 既值），佢就會彈出黃色底既 popup，寫住「Message published, but not routed.」，咁係因為冇一個 binding 既 binding key 係 match 到呢個 routing key。"}],"\n",["$","p",null,{"className":"mdx-components_paragraph__AUxxF","children":["✅ ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"foo.#"}]," binding key 接受既 routing key 例子："]}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":[["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"foo"}],"、",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"foo."}],"、",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"foo.."}],"、",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"foo.#"}],"、",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"foo.1"}],"、",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"foo.a"}],"、",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"foo.abc"}]]}],"\n"]}],"\n",["$","p",null,{"className":"mdx-components_paragraph__AUxxF","children":["❌ ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"foo.#"}]," binding key 唔接受既 routing key 例子："]}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":"唔輸入"}],"\n",["$","li",null,{"children":[["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"bar."}],"、",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"bar.123"}]]}],"\n"]}],"\n",["$","hr",null,{}],"\n",["$","h2",null,{"style":{"fontWeight":"bold"},"children":"3.7 測試 dead letter exchange"}],"\n",["$","h3",null,{"style":{"fontWeight":"bold"},"children":"3.7.1 建立 business exchange"}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":["Name：",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"biz-exchange"}]]}],"\n",["$","li",null,{"children":["Type：",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"direct"}]]}],"\n"]}],"\n",["$","hr",null,{}],"\n",["$","h3",null,{"style":{"fontWeight":"bold"},"children":"3.7.2 建立 business queue"}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":["Name：",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"biz-queue"}]]}],"\n",["$","li",null,{"children":["Arguments","\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":[["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"x-dead-letter-exchange"}],"：",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"my-dlx"}]]}],"\n",["$","li",null,{"children":[["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"x-dead-letter-routing-key"}],"：",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"my-dlkey"}]]}],"\n"]}],"\n"]}],"\n"]}],"\n",["$","hr",null,{}],"\n",["$","h3",null,{"style":{"fontWeight":"bold"},"children":"3.7.3 建立 business binding"}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":["Exchange：",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"biz-exchange"}]]}],"\n",["$","li",null,{"children":["Queue：",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"biz-queue"}]]}],"\n",["$","li",null,{"children":["Binding key：",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"biz-key"}]]}],"\n"]}],"\n",["$","hr",null,{}],"\n",["$","h3",null,{"style":{"fontWeight":"bold"},"children":"3.7.4 建立 dead letter exchange"}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":["Name：",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"my-dlx"}]]}],"\n",["$","li",null,{"children":["Type：",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"direct"}]]}],"\n"]}],"\n",["$","hr",null,{}],"\n",["$","h3",null,{"style":{"fontWeight":"bold"},"children":"3.7.5 建立 dead letter queue"}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":["Name：",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"my-dlq"}]]}],"\n",["$","li",null,{"children":["Arguments（可選）","\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":[["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"x-dead-letter-exchange"}],"：",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"biz-exchange"}],"（",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"String"}],"）"]}],"\n",["$","li",null,{"children":[["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"x-dead-letter-routing-key"}],"：",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"biz-key"}],"（",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"String"}],"）"]}],"\n",["$","li",null,{"children":[["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"x-message-ttl"}],"：",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"10000"}],"（",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"Number"}],"）（等於 ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"10"}]," 秒）"]}],"\n"]}],"\n"]}],"\n"]}],"\n",["$","hr",null,{}],"\n",["$","h3",null,{"style":{"fontWeight":"bold"},"children":"3.7.6 建立 dead letter binding"}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":["Exchange：",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"my-dlx"}]]}],"\n",["$","li",null,{"children":["Queue：",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"my-dlq"}]]}],"\n",["$","li",null,{"children":["Binding key：",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"my-dlkey"}]]}],"\n"]}],"\n",["$","hr",null,{}],"\n",["$","h3",null,{"style":{"fontWeight":"bold"},"children":"3.7.7 發送、接收訊息"}],"\n",["$","ol",null,{"children":["\n",["$","li",null,{"children":["去「biz-exchange」度發送訊息。","\n",["$","ol",null,{"children":["\n",["$","li",null,{"children":["Routing key 輸入 ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"biz-key"}],"。"]}],"\n",["$","li",null,{"children":"Headers、Properties 可以唔輸入。"}],"\n",["$","li",null,{"children":["輸入 Payload，例如 ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"my message content"}],"。"]}],"\n"]}],"\n"]}],"\n",["$","li",null,{"children":["去「biz-queue」度接收訊息。","\n",["$","ol",null,{"children":["\n",["$","li",null,{"children":"Ack mode 揀「Reject requeue false」。"}],"\n",["$","li",null,{"children":["會收到 ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"1"}]," 個訊息。"]}],"\n"]}],"\n"]}],"\n",["$","li",null,{"children":["去「my-dlq」度接收訊息。","\n",["$","ol",null,{"children":["\n",["$","li",null,{"children":"Ack mode 揀「Nack message requeue true」。"}],"\n",["$","li",null,{"children":["會收到 ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"1"}]," 個訊息。"]}],"\n"]}],"\n"]}],"\n"]}],"\n",["$","p",null,{"className":"mdx-components_paragraph__AUxxF","children":"如果 dead letter queue 有設定度可選既 arguments："}],"\n",["$","ol",null,{"children":["\n",["$","li",null,{"children":["等幾秒（message TTL 係 ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"10"}]," 秒）。"]}],"\n",["$","li",null,{"children":["去「biz-queue」度接收訊息。","\n",["$","ol",null,{"children":["\n",["$","li",null,{"children":"Ack mode 揀「Nack message requeue true」。"}],"\n",["$","li",null,{"children":["會收到 ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"1"}]," 個訊息。"]}],"\n"]}],"\n"]}],"\n"]}],"\n",["$","p",null,{"className":"mdx-components_paragraph__AUxxF","children":"解釋："}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":["上面既例子可以達到 retry dead letter queue 裡面既訊息既效果。","\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":"當訊息喺「biz-queue」度接收失敗，被轉移到「my-dlx」然後再到「my-dlq」之後，經過一段時間，當 message TTL 過期既時候，訊息又會自動被轉移到「biz-exchange」然後再到「biz-queue」。"}],"\n"]}],"\n"]}],"\n"]}],"\n",["$","hr",null,{}],"\n",["$","h1",null,{"style":{"fontWeight":"bold"},"children":"4 筆記"}],"\n",["$","h2",null,{"style":{"fontWeight":"bold"},"children":"4.1 Exchange 選項"}],"\n",["$","table",null,{"className":"mdx-components_table__bAy19","children":[["$","thead",null,{"children":["$","tr",null,{"children":[["$","th",null,{"children":"選項"}],["$","th",null,{"children":"解釋"}]]}]}],["$","tbody",null,{"children":[["$","tr",null,{"children":[["$","td",null,{"children":"Durable"}],["$","td",null,{"children":"個 exchange 會喺 RabbitMQ 重新啟動之後都繼續存在。"}]]}],["$","tr",null,{"children":[["$","td",null,{"children":"Auto-delete"}],["$","td",null,{"children":"當最後一個 binding 被解除，RabbitMQ 就會自動刪除呢個 exchange。"}]]}],["$","tr",null,{"children":[["$","td",null,{"children":"Direct type"}],["$","td",null,{"children":"Binding key 會係 exact match。"}]]}],["$","tr",null,{"children":[["$","td",null,{"children":"Fanout type"}],["$","td",null,{"children":"唔需要 binding key，就算提供左都冇用，所有 bind 左既 queues 都必定會收到所有訊息。"}]]}],["$","tr",null,{"children":[["$","td",null,{"children":"Headers type"}],["$","td",null,{"children":"用特定既 key-value arguments 黎 match。"}]]}],["$","tr",null,{"children":[["$","td",null,{"children":"Topic type"}],["$","td",null,{"children":["Binding key 可以係 exact match，亦可以運用 wildcard characters——",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"*"}]," 代表 wildcard 單字；",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"#"}]," 代表 wildcard 任意長度（",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"0"}]," 至 ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"N"}],"）既文字。"]}]]}]]}]]}],"\n",["$","hr",null,{}],"\n",["$","h2",null,{"style":{"fontWeight":"bold"},"children":"4.2 Queue 選項"}],"\n",["$","table",null,{"className":"mdx-components_table__bAy19","children":[["$","thead",null,{"children":["$","tr",null,{"children":[["$","th",null,{"children":"選項"}],["$","th",null,{"children":"解釋"}]]}]}],["$","tbody",null,{"children":[["$","tr",null,{"children":[["$","td",null,{"children":"Durable"}],["$","td",null,{"children":"個 queue 會喺 RabbitMQ 重新啟動之後都繼續存在。"}]]}],["$","tr",null,{"children":[["$","td",null,{"children":"Auto-delete"}],["$","td",null,{"children":"當最後一個 consumer cancel 或者 disconnect 左，RabbitMQ 就會自動刪除呢個 queue。"}]]}],["$","tr",null,{"children":[["$","td",null,{"children":"Exclusive"}],["$","td",null,{"children":"當佢所屬既 connection close 左，RabbitMQ 就會自動刪除呢個 queue。"}]]}],["$","tr",null,{"children":[["$","td",null,{"children":["Message TTL（",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"x-message-ttl"}]," arg）"]}],["$","td",null,{"children":"Queue level 既 time-to-live，一個訊息如果超過呢個時間就會 expire，consumers 唔會收到已經 expire 左既訊息。如果有 dead letter exchange 既 args，當訊息喺 head 位置，RabbitMQ 就會將佢轉移去 dead letter exchange。"}]]}],["$","tr",null,{"children":[["$","td",null,{"children":["Auto-expire（",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"x-expires"}]," arg）"]}],["$","td",null,{"children":["數值係 millisecond 數字（",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"5000"}]," 等於 ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"5"}]," 秒）。當冇任何 consumer 連接住呢個 queue（一建立 queue 既時候都算），RabbitMQ 就會開始計時，一到左時間，RabbitMQ 就會自動刪除呢個 queue。"]}]]}],["$","tr",null,{"children":[["$","td",null,{"children":["Single active consumer（",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"x-single-active-consumer"}]," arg）"]}],["$","td",null,{"children":"如果我地既訊息一定要按入 queue 既先後次序處理，如果想保持住多個相同 consumer 既 app instances，咁我地可以用 single active consumer 選項，咁所有訊息都只會傳遞到同一個 consumer，保證處理訊息既先後次序。"}]]}],["$","tr",null,{"children":[["$","td",null,{"children":["Dead letter exchange（",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"x-dead-letter-exchange"}],"）"]}],["$","td",null,{"children":"如果傳遞失敗，RabbitMQ 可能會將佢轉移到呢個 dead letter exchange。"}]]}],["$","tr",null,{"children":[["$","td",null,{"children":["Dead letter routing key（",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"x-dead-letter-routing-key"}],"）"]}],["$","td",null,{"children":"RabbitMQ 將訊息轉移到 dead letter exchange 既時候會用既 routing key。"}]]}]]}]]}],"\n",["$","hr",null,{}],"\n",["$","h2",null,{"style":{"fontWeight":"bold"},"children":"4.3 Binding 選項"}],"\n",["$","table",null,{"className":"mdx-components_table__bAy19","children":[["$","thead",null,{"children":["$","tr",null,{"children":[["$","th",null,{"children":"選項"}],["$","th",null,{"children":"解釋"}]]}]}],["$","tbody",null,{"children":[["$","tr",null,{"children":[["$","td",null,{"children":"Binding key（或者 routing key）"}],["$","td",null,{"children":["提供 filter 訊息既作用。一個訊息如果要由 exchange ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"X1"}]," 去到 queue ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"Q1"}],"，呢個訊息既 routing key 一定要 match 到 ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"Q1"}]," 同 ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"X1"}]," 之間既 binding 既 binding key。我地應該根據 exchange type 去輸入符合我地需要既 binding key。"]}]]}],["$","tr",null,{"children":[["$","td",null,{"children":"Arguments"}],["$","td",null,{"children":"用喺 headers exchange 既 bindings 度，只有 match 到曬所有 arguments 既值既訊息先會 route 到去個 queue 度。"}]]}]]}]]}],"\n",["$","hr",null,{}],"\n",["$","h2",null,{"style":{"fontWeight":"bold"},"children":"4.4 訊息發送選項"}],"\n",["$","table",null,{"className":"mdx-components_table__bAy19","children":[["$","thead",null,{"children":["$","tr",null,{"children":[["$","th",null,{"children":"選項"}],["$","th",null,{"children":"解釋"}]]}]}],["$","tbody",null,{"children":["$","tr",null,{"children":[["$","td",null,{"children":"Delivery mode"}],["$","td",null,{"children":["Persistent（",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"1"}],"）會先寫落 persistent storage（disk），如果 RabbitMQ crash 左既話都會喺返度。Non-persistent（",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"2"}],"）就唔會寫落 disk。"]}]]}]}]]}],"\n",["$","hr",null,{}],"\n",["$","h2",null,{"style":{"fontWeight":"bold"},"children":"4.5 訊息接收選項"}],"\n",["$","table",null,{"className":"mdx-components_table__bAy19","children":[["$","thead",null,{"children":["$","tr",null,{"children":[["$","th",null,{"children":"選項"}],["$","th",null,{"children":"解釋"}]]}]}],["$","tbody",null,{"children":[["$","tr",null,{"children":[["$","td",null,{"children":"Reject"}],["$","td",null,{"children":"係 AMQP 既標準，用黎拒絕單一訊息。"}]]}],["$","tr",null,{"children":[["$","td",null,{"children":"Nack"}],["$","td",null,{"children":"Negative acknowledgement 係 RabbitMQ 獨有既功能，可以同時拒絕對多個訊息。"}]]}]]}]]}],"\n",["$","hr",null,{}],"\n",["$","h1",null,{"style":{"fontWeight":"bold"},"children":"5 參考資料"}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":["$","a",null,{"href":"https://www.rabbitmq.com/docs/nack","children":"RabbitMQ 官方文檔 - Negative Acknowledgements"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"https://www.rabbitmq.com/docs/ttl","children":"RabbitMQ 官方文檔 - Time-to-Live and Expiration"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"https://www.rabbitmq.com/docs/dlx","children":"RabbitMQ 官方文檔 - Dead Letter Exchanges"}]}],"\n"]}]],[["$","link","0",{"rel":"stylesheet","href":"/e2-next/_next/static/css/952e59b04e0cf1ba.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}]],["$","$Lf",null,{"children":"$L10"}]]}],{},null,false]},null,false]},null,false]},null,false]},null,false],["$","$1","h",{"children":[null,["$","$1","xz5UIhI0T7eu5L7tt_SfP",{"children":[["$","$L11",null,{"children":"$L12"}],["$","$L13",null,{"children":"$L14"}],null]}]]}],false]],"m":"$undefined","G":["$15","$undefined"],"s":false,"S":true}
14:[["$","meta","0",{"name":"viewport","content":"width=device-width, initial-scale=1"}]]
12:[["$","meta","0",{"charSet":"utf-8"}],["$","title","1",{"children":"Michael Chung's e-Portfolio"}],["$","meta","2",{"name":"description","content":"Powered by Next.js and React"}]]
10:null
