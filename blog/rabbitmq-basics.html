<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" as="image" href="/e2-next/nextjs.svg"/><link rel="stylesheet" href="/e2-next/_next/static/css/8b3b49f5a80261a3.css" data-precedence="next"/><link rel="stylesheet" href="/e2-next/_next/static/css/d3df112486f97f47.css" data-precedence="next"/><link rel="stylesheet" href="/e2-next/_next/static/css/47422044c9b2dd2c.css" data-precedence="next"/><link rel="stylesheet" href="/e2-next/_next/static/css/7bfe9ed714480baa.css" data-precedence="next"/><link rel="stylesheet" href="/e2-next/_next/static/css/caf337e7effc00c7.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/e2-next/_next/static/chunks/webpack-ad3efae45306aedb.js"/><script src="/e2-next/_next/static/chunks/4bd1b696-0937feffdffed3be.js" async=""></script><script src="/e2-next/_next/static/chunks/1517-a692981d0ef7e2a4.js" async=""></script><script src="/e2-next/_next/static/chunks/main-app-05c45cc8f30d6cea.js" async=""></script><script src="/e2-next/_next/static/chunks/7833-0781b4db521d8fdc.js" async=""></script><script src="/e2-next/_next/static/chunks/app/layout-3655101740c91656.js" async=""></script><script src="/e2-next/_next/static/chunks/app/page-63c121085425a904.js" async=""></script><script src="/e2-next/_next/static/chunks/13b76428-e7d338032a603c0d.js" async=""></script><script src="/e2-next/_next/static/chunks/5359-d4ac7bfba1f6efb5.js" async=""></script><script src="/e2-next/_next/static/chunks/app/blog/(blogPosts)/layout-64da3a29d6417a80.js" async=""></script><title>Blog posts</title><meta name="description" content="Powered by Next.js and React"/><link rel="icon" href="/e2-next/favicon.ico" type="image/x-icon" sizes="48x48"/><link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&amp;display=swap" rel="stylesheet"/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css"/><script src="/e2-next/_next/static/chunks/polyfills-42372ed130431b0a.js" noModule=""></script></head><body><div class="vstack gap-5"><div class="text-center vstack gap-5"><div class="Ribbon_ribbon-left__fObbI"><img class="Ribbon_image__2_FYh" src="/e2-next/nextjs.svg"/></div><a role="button" tabindex="0" href="https://blackr1234.github.io/e2/" class="ButtonToOtherSites_button__K4zwN btn btn-secondary btn-sm">➜ Old React website</a><div><code class="SiteHeader_name__pxX08">Chung Cheuk Hang Michael</code><code class="SiteHeader_title__MUwhy">Java Web Developer</code></div><nav style="margin-top:-1.5rem;margin-bottom:-1rem" class="justify-content-center navbar navbar-expand-md navbar-dark"><button type="button" aria-label="Toggle navigation" class="navbar-toggler collapsed"><span class="navbar-toggler-icon"></span></button><div class="justify-content-center navbar-collapse collapse"><div class="justify-content-center navbar-nav nav-underline"><div class="nav-item"><a href="/e2-next/" draggable="false" data-rr-ui-event-key="/" class="nav-link">Home</a></div><div class="nav-item"><a href="/e2-next/work" draggable="false" data-rr-ui-event-key="/work" class="nav-link">Work</a></div><div class="nav-item"><a href="/e2-next/hobbyProjects" draggable="false" data-rr-ui-event-key="/hobbyProjects" class="nav-link">Hobby projects</a></div><div class="nav-item"><a href="/e2-next/personality" draggable="false" data-rr-ui-event-key="/personality" class="nav-link">Personality</a></div><div class="nav-item"><a href="/e2-next/blog" draggable="false" data-rr-ui-event-key="/blog" class="nav-link">Blog</a></div></div></div></nav></div><div class="vstack gap-5"><div style="display:flex;justify-content:space-between"><a role="button" tabindex="0" href="/e2-next/blog/spring-boot-openapi" class="layout_next-button__HNNsZ btn btn-primary btn-sm"><i class="fa-solid fa-arrow-left"></i><span class="layout_responsive-button-text__Z1usr" style="margin-left:0.75rem"><strong>Spring Boot 項目使用 Swagger/OpenAPI</strong></span></a><a role="button" tabindex="0" href="/e2-next/blog/java-snyk-scan" class="layout_prev-button__uHSER btn btn-primary btn-sm"><span class="layout_responsive-button-text__Z1usr" style="margin-right:0.75rem"><strong>用 Snyk 掃瞄 Java 項目</strong></span><i class="fa-solid fa-arrow-right"></i></a></div><div class="justify-content-center row"><h1 class="text-center" style="margin-bottom:1rem"><strong>RabbitMQ 基礎</strong></h1></div><div class="justify-content-center row"><img loading="lazy" src="/e2-next/blog/2024-04/rabbitmq-basics/thumbnail.svg?v=202501" class="object-fit-contain layout_image__iOEk8"/></div><div class="row"><div style="word-wrap:break-word"><a href="#1-rabbitmq-簡介" style="text-decoration:none"><h1 id="1-rabbitmq-簡介" class="mdx-components_heading__HrNl3 mdx-components_heading-new-section__YU39B" style="z-index:1000000"><i class="fa-solid fa-link mdx-components_heading-link__r6M6c"></i>1 RabbitMQ 簡介</h1></a>
<div class="mdx-components_paragraph__AUxxF">可以睇返呢篇：<span><a href="/e2-next/blog/spring-cloud-stream-rabbitmq" class="common_anchor__kGNsN">Spring 項目中訂閱 RabbitMQ</a></span></div>
<hr class="mdx-components_hr__o_oFr"/>
<a href="#2-啟動-rabbitmq" style="text-decoration:none"><h1 id="2-啟動-rabbitmq" class="mdx-components_heading__HrNl3 mdx-components_heading-new-section__YU39B" style="z-index:2000000"><i class="fa-solid fa-link mdx-components_heading-link__r6M6c"></i>2 啟動 RabbitMQ</h1></a>
<div class="mdx-components_paragraph__AUxxF">我地可以用 Docker Desktop，然後利用 RabbitMQ 既官方 Docker image 執行 Docker container。</div>
<div class="mdx-components_paragraph__AUxxF">Command 可以喺呢篇搵到：<span><a href="/e2-next/blog/docker-basics#337-rabbitmq" class="common_anchor__kGNsN">Docker 基本操作 - 3.3.7 RabbitMQ</a></span>。</div>
<hr class="mdx-components_hr__o_oFr"/>
<a href="#3-動手玩" style="text-decoration:none"><h1 id="3-動手玩" class="mdx-components_heading__HrNl3 mdx-components_heading-new-section__YU39B" style="z-index:3000000"><i class="fa-solid fa-link mdx-components_heading-link__r6M6c"></i>3 動手玩</h1></a>
<a href="#31-建立-virtual-host" style="text-decoration:none"><h2 id="31-建立-virtual-host" class="mdx-components_heading__HrNl3 mdx-components_heading-sub-section__AJ2JK" style="z-index:3010000"><i class="fa-solid fa-link mdx-components_heading-link__r6M6c"></i>3.1 建立 virtual host</h2></a>
<div class="mdx-components_paragraph__AUxxF">RabbitMQ 支援 multi-tenant，我地可以用 virtual host 黎 group 起相關既 resources。</div>
<ol>
<li class="mdx-components_list-item__fJ1NL">去 Admin &gt; Virtual Hosts。</li>
<li class="mdx-components_list-item__fJ1NL">打開「Add a new virtual host」。</li>
<li class="mdx-components_list-item__fJ1NL">輸入 Name，例如「rabbitmq-basics」。</li>
<li class="mdx-components_list-item__fJ1NL">撳「Add virtual host」。</li>
<li class="mdx-components_list-item__fJ1NL">Refresh 頁面。</li>
<li class="mdx-components_list-item__fJ1NL">右上角 &gt; 揀新建立既 virtual host。</li>
</ol>
<div class="mdx-components_paragraph__AUxxF">完成之後，我地就可以喺呢個新既 virtual host 度玩啦！</div>
<hr class="mdx-components_hr__o_oFr"/>
<a href="#32-測試-queue" style="text-decoration:none"><h2 id="32-測試-queue" class="mdx-components_heading__HrNl3 mdx-components_heading-sub-section__AJ2JK" style="z-index:3020000"><i class="fa-solid fa-link mdx-components_heading-link__r6M6c"></i>3.2 測試 queue</h2></a>
<a href="#321-建立-queue" style="text-decoration:none"><h3 id="321-建立-queue" class="mdx-components_heading__HrNl3 mdx-components_heading-sub-section__AJ2JK" style="z-index:3020100"><i class="fa-solid fa-link mdx-components_heading-link__r6M6c"></i>3.2.1 建立 queue</h3></a>
<ol>
<li class="mdx-components_list-item__fJ1NL">去 Queues and Streams。</li>
<li class="mdx-components_list-item__fJ1NL">打開「Add a new queue」。</li>
<li class="mdx-components_list-item__fJ1NL">我地可以揀 Virtual host、Type，亦可以由得佢用默認值。</li>
<li class="mdx-components_list-item__fJ1NL">輸入 Name，例如 <code class="undefined mdx-components_inline-code__y_QeQ">my-queue</code>。</li>
<li class="mdx-components_list-item__fJ1NL">Durability 由得佢用默認既 <code class="undefined mdx-components_inline-code__y_QeQ">Durable</code> 就得。</li>
<li class="mdx-components_list-item__fJ1NL">Arguments 可以唔輸入。</li>
<li class="mdx-components_list-item__fJ1NL">撳「Add queue」。</li>
</ol>
<div class="mdx-components_paragraph__AUxxF">完成之後，會見到有一個 queue：</div>
<ul>
<li class="mdx-components_list-item__fJ1NL">Name：<code class="undefined mdx-components_inline-code__y_QeQ">my-queue</code></li>
<li class="mdx-components_list-item__fJ1NL">Type：<code class="undefined mdx-components_inline-code__y_QeQ">classic</code></li>
<li class="mdx-components_list-item__fJ1NL">Features：<!-- -->
<ul>
<li class="mdx-components_list-item__fJ1NL"><code class="undefined mdx-components_inline-code__y_QeQ">D</code> 係 durable。</li>
<li class="mdx-components_list-item__fJ1NL"><code class="undefined mdx-components_inline-code__y_QeQ">Args</code> 裡面有 <code class="undefined mdx-components_inline-code__y_QeQ">x-queue-type: classic</code>。</li>
</ul>
</li>
<li class="mdx-components_list-item__fJ1NL">State：<code class="undefined mdx-components_inline-code__y_QeQ">idle</code></li>
<li class="mdx-components_list-item__fJ1NL">Messages：<code class="undefined mdx-components_inline-code__y_QeQ">0</code></li>
</ul>
<hr class="mdx-components_hr__o_oFr"/>
<a href="#322-直接發送訊息到-queue" style="text-decoration:none"><h3 id="322-直接發送訊息到-queue" class="mdx-components_heading__HrNl3 mdx-components_heading-sub-section__AJ2JK" style="z-index:3020200"><i class="fa-solid fa-link mdx-components_heading-link__r6M6c"></i>3.2.2 直接發送訊息到 queue</h3></a>
<ol>
<li class="mdx-components_list-item__fJ1NL">撳「my-queue」。</li>
<li class="mdx-components_list-item__fJ1NL">打開「Publish message」。</li>
<li class="mdx-components_list-item__fJ1NL">Delivery mode 由得佢用默認既 <code class="undefined mdx-components_inline-code__y_QeQ">1 - Non-persistent</code> 就得。</li>
<li class="mdx-components_list-item__fJ1NL">Headers、Properties 可以唔輸入。</li>
<li class="mdx-components_list-item__fJ1NL">Payload 係我地想發送既 message body，可以輸入 <code class="undefined mdx-components_inline-code__y_QeQ">foo</code>。</li>
<li class="mdx-components_list-item__fJ1NL">Payload encoding 由得佢用默認既 <code class="undefined mdx-components_inline-code__y_QeQ">String (default)</code> 就得。</li>
<li class="mdx-components_list-item__fJ1NL">撳「Publish message」。</li>
<li class="mdx-components_list-item__fJ1NL">如果發送成功，佢會彈出灰色底既 popup，寫住「Message published.」，撳「Close」就得。</li>
</ol>
<hr class="mdx-components_hr__o_oFr"/>
<a href="#323-接收訊息" style="text-decoration:none"><h3 id="323-接收訊息" class="mdx-components_heading__HrNl3 mdx-components_heading-sub-section__AJ2JK" style="z-index:3020300"><i class="fa-solid fa-link mdx-components_heading-link__r6M6c"></i>3.2.3 接收訊息</h3></a>
<ol>
<li class="mdx-components_list-item__fJ1NL">打開「Get messages」。</li>
<li class="mdx-components_list-item__fJ1NL">將 Ack mode 改成 <code class="undefined mdx-components_inline-code__y_QeQ">Automatic ack</code>。</li>
<li class="mdx-components_list-item__fJ1NL">Encoding 由得佢用默認既 <code class="undefined mdx-components_inline-code__y_QeQ">Auto string / base64</code> 就得。</li>
<li class="mdx-components_list-item__fJ1NL">Messages 影響接收既訊息數量，可以改成 <code class="undefined mdx-components_inline-code__y_QeQ">10</code>，就算多過實際存在既訊息數量都冇問題。</li>
<li class="mdx-components_list-item__fJ1NL">撳「Get Message(s)」。</li>
</ol>
<div class="mdx-components_paragraph__AUxxF">之後佢會顯示我地既「foo」訊息：</div>
<ul>
<li class="mdx-components_list-item__fJ1NL">Exchange：<code class="undefined mdx-components_inline-code__y_QeQ">(AMQP default)</code></li>
<li class="mdx-components_list-item__fJ1NL">Routing key：<code class="undefined mdx-components_inline-code__y_QeQ">my-queue</code></li>
<li class="mdx-components_list-item__fJ1NL">Redelivered：<code class="undefined mdx-components_inline-code__y_QeQ">○</code>（白色代表 <code class="undefined mdx-components_inline-code__y_QeQ">false</code>，requeue 既訊息先會係 <code class="undefined mdx-components_inline-code__y_QeQ">true</code>）</li>
<li class="mdx-components_list-item__fJ1NL">Properties<!-- -->
<ul>
<li class="mdx-components_list-item__fJ1NL">delivery_mode：<code class="undefined mdx-components_inline-code__y_QeQ">1</code></li>
<li class="mdx-components_list-item__fJ1NL">headers：N/A</li>
</ul>
</li>
<li class="mdx-components_list-item__fJ1NL">Payload：<code class="undefined mdx-components_inline-code__y_QeQ">foo</code></li>
</ul>
<div class="mdx-components_paragraph__AUxxF">如果我地再撳「Get Message(s)」，佢就會彈出灰色底既 popup，寫住「Queue is empty」，咁係因為先前既訊息已經 acknowledge 左。</div>
<hr class="mdx-components_hr__o_oFr"/>
<a href="#324-requeue-訊息" style="text-decoration:none"><h3 id="324-requeue-訊息" class="mdx-components_heading__HrNl3 mdx-components_heading-sub-section__AJ2JK" style="z-index:3020400"><i class="fa-solid fa-link mdx-components_heading-link__r6M6c"></i>3.2.4 Requeue 訊息</h3></a>
<ol>
<li class="mdx-components_list-item__fJ1NL">重複上面既發送、接收步驟。<!-- -->
<ul>
<li class="mdx-components_list-item__fJ1NL">喺接收既步驟，Ack mode 揀「Nack message requeue true」或者「Reject requeue true」。</li>
</ul>
</li>
</ol>
<div class="mdx-components_paragraph__AUxxF">結果：</div>
<ol>
<li class="mdx-components_list-item__fJ1NL">第一次接收訊息既時候，我地會見到 Redelivered 係「○」（<code class="undefined mdx-components_inline-code__y_QeQ">false</code>），因為呢個訊息係第一次接收。</li>
<li class="mdx-components_list-item__fJ1NL">第二次接收訊息既時候，我地會見到 Redelivered 係「●」（<code class="undefined mdx-components_inline-code__y_QeQ">true</code>），因為呢個訊息喺第一次接收之後被 requeue，而家接收既係第二次傳遞同一個訊息。</li>
</ol>
<hr class="mdx-components_hr__o_oFr"/>
<a href="#33-測試-direct-exchange" style="text-decoration:none"><h2 id="33-測試-direct-exchange" class="mdx-components_heading__HrNl3 mdx-components_heading-sub-section__AJ2JK" style="z-index:3030000"><i class="fa-solid fa-link mdx-components_heading-link__r6M6c"></i>3.3 測試 direct exchange</h2></a>
<a href="#331-建立-direct-exchange" style="text-decoration:none"><h3 id="331-建立-direct-exchange" class="mdx-components_heading__HrNl3 mdx-components_heading-sub-section__AJ2JK" style="z-index:3030100"><i class="fa-solid fa-link mdx-components_heading-link__r6M6c"></i>3.3.1 建立 direct exchange</h3></a>
<ol>
<li class="mdx-components_list-item__fJ1NL">去 Exchanges。</li>
<li class="mdx-components_list-item__fJ1NL">打開「Add a new exchange」。</li>
<li class="mdx-components_list-item__fJ1NL">輸入 Name，例如 <code class="undefined mdx-components_inline-code__y_QeQ">my-direct-exchange</code>。</li>
<li class="mdx-components_list-item__fJ1NL">Type 揀「direct」。</li>
<li class="mdx-components_list-item__fJ1NL">我地可以揀 Virtual host、Durability、Auto delete、Internal，亦可以由得佢用默認值。</li>
<li class="mdx-components_list-item__fJ1NL">Arguments 可以唔輸入。</li>
<li class="mdx-components_list-item__fJ1NL">撳「Add exchange」。</li>
</ol>
<hr class="mdx-components_hr__o_oFr"/>
<a href="#332-建立-queue" style="text-decoration:none"><h3 id="332-建立-queue" class="mdx-components_heading__HrNl3 mdx-components_heading-sub-section__AJ2JK" style="z-index:3030200"><i class="fa-solid fa-link mdx-components_heading-link__r6M6c"></i>3.3.2 建立 queue</h3></a>
<ol>
<li class="mdx-components_list-item__fJ1NL">可以參考返上面建立 queue 既步驟。<!-- -->
<ul>
<li class="mdx-components_list-item__fJ1NL">Name 可以輸入 <code class="undefined mdx-components_inline-code__y_QeQ">my-direct-queue</code>。</li>
</ul>
</li>
</ol>
<hr class="mdx-components_hr__o_oFr"/>
<a href="#333-建立-binding" style="text-decoration:none"><h3 id="333-建立-binding" class="mdx-components_heading__HrNl3 mdx-components_heading-sub-section__AJ2JK" style="z-index:3030300"><i class="fa-solid fa-link mdx-components_heading-link__r6M6c"></i>3.3.3 建立 binding</h3></a>
<ol>
<li class="mdx-components_list-item__fJ1NL">撳「my-direct-queue」。</li>
<li class="mdx-components_list-item__fJ1NL">打開「Bindings (1)」。</li>
<li class="mdx-components_list-item__fJ1NL">From exchange 輸入 <code class="undefined mdx-components_inline-code__y_QeQ">my-direct-exchange</code>。</li>
<li class="mdx-components_list-item__fJ1NL">Routing key 輸入 <code class="undefined mdx-components_inline-code__y_QeQ">foo</code>。</li>
<li class="mdx-components_list-item__fJ1NL">Arguments 可以唔輸入。</li>
<li class="mdx-components_list-item__fJ1NL">撳「Bind」。</li>
</ol>
<hr class="mdx-components_hr__o_oFr"/>
<a href="#334-發送接收訊息" style="text-decoration:none"><h3 id="334-發送接收訊息" class="mdx-components_heading__HrNl3 mdx-components_heading-sub-section__AJ2JK" style="z-index:3030400"><i class="fa-solid fa-link mdx-components_heading-link__r6M6c"></i>3.3.4 發送、接收訊息</h3></a>
<ol>
<li class="mdx-components_list-item__fJ1NL">去「my-direct-exchange」度發送訊息。<!-- -->
<ol>
<li class="mdx-components_list-item__fJ1NL">Routing key 輸入 <code class="undefined mdx-components_inline-code__y_QeQ">foo</code>（要同 binding key 一樣）。</li>
<li class="mdx-components_list-item__fJ1NL">Headers、Properties 可以唔輸入。</li>
<li class="mdx-components_list-item__fJ1NL">輸入 Payload，例如 <code class="undefined mdx-components_inline-code__y_QeQ">my message content</code>。</li>
</ol>
</li>
<li class="mdx-components_list-item__fJ1NL">去「my-direct-queue」度接收訊息。<!-- -->
<ol>
<li class="mdx-components_list-item__fJ1NL">會收到 <code class="undefined mdx-components_inline-code__y_QeQ">1</code> 個訊息。</li>
</ol>
</li>
</ol>
<div class="mdx-components_paragraph__AUxxF">如果我地發送既時候唔用 <code class="undefined mdx-components_inline-code__y_QeQ">foo</code> 作為 routing key（唔輸入，或者輸入另一個值），佢就會彈出黃色底既 popup，寫住「Message published, but not routed.」，咁係因為冇一個 binding 既 binding key 係 match 到呢個 routing key。</div>
<hr class="mdx-components_hr__o_oFr"/>
<a href="#34-測試-fanout-exchange" style="text-decoration:none"><h2 id="34-測試-fanout-exchange" class="mdx-components_heading__HrNl3 mdx-components_heading-sub-section__AJ2JK" style="z-index:3040000"><i class="fa-solid fa-link mdx-components_heading-link__r6M6c"></i>3.4 測試 fanout exchange</h2></a>
<a href="#341-建立-fanout-exchange" style="text-decoration:none"><h3 id="341-建立-fanout-exchange" class="mdx-components_heading__HrNl3 mdx-components_heading-sub-section__AJ2JK" style="z-index:3040100"><i class="fa-solid fa-link mdx-components_heading-link__r6M6c"></i>3.4.1 建立 fanout exchange</h3></a>
<ol>
<li class="mdx-components_list-item__fJ1NL">去 Exchanges。</li>
<li class="mdx-components_list-item__fJ1NL">打開「Add a new exchange」。</li>
<li class="mdx-components_list-item__fJ1NL">輸入 Name，例如 <code class="undefined mdx-components_inline-code__y_QeQ">my-fanout-exchange</code>。</li>
<li class="mdx-components_list-item__fJ1NL">Type 揀「fanout」。</li>
<li class="mdx-components_list-item__fJ1NL">我地可以揀 Virtual host、Durability、Auto delete、Internal，亦可以由得佢用默認值。</li>
<li class="mdx-components_list-item__fJ1NL">Arguments 可以唔輸入。</li>
<li class="mdx-components_list-item__fJ1NL">撳「Add exchange」。</li>
</ol>
<hr class="mdx-components_hr__o_oFr"/>
<a href="#342-建立-queue" style="text-decoration:none"><h3 id="342-建立-queue" class="mdx-components_heading__HrNl3 mdx-components_heading-sub-section__AJ2JK" style="z-index:3040200"><i class="fa-solid fa-link mdx-components_heading-link__r6M6c"></i>3.4.2 建立 queue</h3></a>
<ol>
<li class="mdx-components_list-item__fJ1NL">可以參考返上面建立 queue 既步驟。<!-- -->
<ul>
<li class="mdx-components_list-item__fJ1NL">Name 可以輸入 <code class="undefined mdx-components_inline-code__y_QeQ">my-fanout-queue</code>。</li>
</ul>
</li>
</ol>
<hr class="mdx-components_hr__o_oFr"/>
<a href="#343-建立-binding" style="text-decoration:none"><h3 id="343-建立-binding" class="mdx-components_heading__HrNl3 mdx-components_heading-sub-section__AJ2JK" style="z-index:3040300"><i class="fa-solid fa-link mdx-components_heading-link__r6M6c"></i>3.4.3 建立 binding</h3></a>
<ol>
<li class="mdx-components_list-item__fJ1NL">撳「my-fanout-queue」。</li>
<li class="mdx-components_list-item__fJ1NL">打開「Bindings (1)」。</li>
<li class="mdx-components_list-item__fJ1NL">From exchange 輸入 <code class="undefined mdx-components_inline-code__y_QeQ">my-fanout-exchange</code>。</li>
<li class="mdx-components_list-item__fJ1NL">Routing key 輸入 <code class="undefined mdx-components_inline-code__y_QeQ">foo</code>，或者唔輸入都得。</li>
<li class="mdx-components_list-item__fJ1NL">Arguments 可以唔輸入。</li>
<li class="mdx-components_list-item__fJ1NL">撳「Bind」。</li>
</ol>
<hr class="mdx-components_hr__o_oFr"/>
<a href="#344-發送接收訊息" style="text-decoration:none"><h3 id="344-發送接收訊息" class="mdx-components_heading__HrNl3 mdx-components_heading-sub-section__AJ2JK" style="z-index:3040400"><i class="fa-solid fa-link mdx-components_heading-link__r6M6c"></i>3.4.4 發送、接收訊息</h3></a>
<ol>
<li class="mdx-components_list-item__fJ1NL">去「my-fanout-exchange」度發送訊息。<!-- -->
<ol>
<li class="mdx-components_list-item__fJ1NL">Routing key、Headers、Properties 可以唔輸入。</li>
<li class="mdx-components_list-item__fJ1NL">輸入 Payload，例如 <code class="undefined mdx-components_inline-code__y_QeQ">my message content</code>。</li>
</ol>
</li>
<li class="mdx-components_list-item__fJ1NL">去「my-fanout-queue」度接收訊息。<!-- -->
<ol>
<li class="mdx-components_list-item__fJ1NL">會收到 <code class="undefined mdx-components_inline-code__y_QeQ">1</code> 個訊息。</li>
</ol>
</li>
</ol>
<div class="mdx-components_paragraph__AUxxF">我地發送既時候用咩作為 routing key（輸入 <code class="undefined mdx-components_inline-code__y_QeQ">foo</code>、唔輸入，或者輸入另一個值），都一樣可以發送到訊息，咁係因為 fanout exchange 唔會理 routing key 或者 binding key。</div>
<hr class="mdx-components_hr__o_oFr"/>
<a href="#35-測試-headers-exchange" style="text-decoration:none"><h2 id="35-測試-headers-exchange" class="mdx-components_heading__HrNl3 mdx-components_heading-sub-section__AJ2JK" style="z-index:3050000"><i class="fa-solid fa-link mdx-components_heading-link__r6M6c"></i>3.5 測試 headers exchange</h2></a>
<a href="#351-建立-headers-exchange" style="text-decoration:none"><h3 id="351-建立-headers-exchange" class="mdx-components_heading__HrNl3 mdx-components_heading-sub-section__AJ2JK" style="z-index:3050100"><i class="fa-solid fa-link mdx-components_heading-link__r6M6c"></i>3.5.1 建立 headers exchange</h3></a>
<ol>
<li class="mdx-components_list-item__fJ1NL">去 Exchanges。</li>
<li class="mdx-components_list-item__fJ1NL">打開「Add a new exchange」。</li>
<li class="mdx-components_list-item__fJ1NL">輸入 Name，例如 <code class="undefined mdx-components_inline-code__y_QeQ">my-headers-exchange</code>。</li>
<li class="mdx-components_list-item__fJ1NL">Type 揀「headers」。</li>
<li class="mdx-components_list-item__fJ1NL">我地可以揀 Virtual host、Durability、Auto delete、Internal，亦可以由得佢用默認值。</li>
<li class="mdx-components_list-item__fJ1NL">Arguments 可以唔輸入。</li>
<li class="mdx-components_list-item__fJ1NL">撳「Add exchange」。</li>
</ol>
<hr class="mdx-components_hr__o_oFr"/>
<a href="#352-建立-queue" style="text-decoration:none"><h3 id="352-建立-queue" class="mdx-components_heading__HrNl3 mdx-components_heading-sub-section__AJ2JK" style="z-index:3050200"><i class="fa-solid fa-link mdx-components_heading-link__r6M6c"></i>3.5.2 建立 queue</h3></a>
<ol>
<li class="mdx-components_list-item__fJ1NL">可以參考返上面建立 queue 既步驟。<!-- -->
<ul>
<li class="mdx-components_list-item__fJ1NL">Name 可以輸入 <code class="undefined mdx-components_inline-code__y_QeQ">my-headers-queue</code>。</li>
</ul>
</li>
</ol>
<hr class="mdx-components_hr__o_oFr"/>
<a href="#353-建立-binding" style="text-decoration:none"><h3 id="353-建立-binding" class="mdx-components_heading__HrNl3 mdx-components_heading-sub-section__AJ2JK" style="z-index:3050300"><i class="fa-solid fa-link mdx-components_heading-link__r6M6c"></i>3.5.3 建立 binding</h3></a>
<ol>
<li class="mdx-components_list-item__fJ1NL">撳「my-headers-queue」。</li>
<li class="mdx-components_list-item__fJ1NL">打開「Bindings (1)」。</li>
<li class="mdx-components_list-item__fJ1NL">From exchange 輸入 <code class="undefined mdx-components_inline-code__y_QeQ">my-headers-exchange</code>。</li>
<li class="mdx-components_list-item__fJ1NL">Routing key 唔洗輸入。</li>
<li class="mdx-components_list-item__fJ1NL">Arguments 輸入：<!-- -->
<ul>
<li class="mdx-components_list-item__fJ1NL"><code class="undefined mdx-components_inline-code__y_QeQ">h1</code> = <code class="undefined mdx-components_inline-code__y_QeQ">foo</code>（<code class="undefined mdx-components_inline-code__y_QeQ">String</code>）</li>
<li class="mdx-components_list-item__fJ1NL"><code class="undefined mdx-components_inline-code__y_QeQ">h2</code> = <code class="undefined mdx-components_inline-code__y_QeQ">bar</code>（<code class="undefined mdx-components_inline-code__y_QeQ">String</code>）</li>
</ul>
</li>
<li class="mdx-components_list-item__fJ1NL">撳「Bind」。</li>
</ol>
<hr class="mdx-components_hr__o_oFr"/>
<a href="#354-發送接收訊息" style="text-decoration:none"><h3 id="354-發送接收訊息" class="mdx-components_heading__HrNl3 mdx-components_heading-sub-section__AJ2JK" style="z-index:3050400"><i class="fa-solid fa-link mdx-components_heading-link__r6M6c"></i>3.5.4 發送、接收訊息</h3></a>
<ol>
<li class="mdx-components_list-item__fJ1NL">去「my-headers-exchange」度發送訊息。<!-- -->
<ol>
<li class="mdx-components_list-item__fJ1NL">Routing key、Properties 可以唔輸入。</li>
<li class="mdx-components_list-item__fJ1NL">Headers 輸入：<!-- -->
<ul>
<li class="mdx-components_list-item__fJ1NL"><code class="undefined mdx-components_inline-code__y_QeQ">h1</code> = <code class="undefined mdx-components_inline-code__y_QeQ">foo</code>（<code class="undefined mdx-components_inline-code__y_QeQ">String</code>）</li>
<li class="mdx-components_list-item__fJ1NL"><code class="undefined mdx-components_inline-code__y_QeQ">h2</code> = <code class="undefined mdx-components_inline-code__y_QeQ">bar</code>（<code class="undefined mdx-components_inline-code__y_QeQ">String</code>）</li>
</ul>
</li>
<li class="mdx-components_list-item__fJ1NL">輸入 Payload，例如 <code class="undefined mdx-components_inline-code__y_QeQ">my message content</code>。</li>
</ol>
</li>
<li class="mdx-components_list-item__fJ1NL">去「my-headers-queue」度接收訊息。<!-- -->
<ol>
<li class="mdx-components_list-item__fJ1NL">會收到 <code class="undefined mdx-components_inline-code__y_QeQ">1</code> 個訊息。</li>
</ol>
</li>
</ol>
<div class="mdx-components_paragraph__AUxxF">如果我地發送既時候，headers 一定要 match 曬 binding 既 arguments，只要有任何一個唔 match，佢都會彈出黃色底既 popup，寫住「Message published, but not routed.」，咁係因為冇一個 binding 既 arguments 係 match 到呢個訊息既 headers。</div>
<hr class="mdx-components_hr__o_oFr"/>
<a href="#36-測試-topic-exchange" style="text-decoration:none"><h2 id="36-測試-topic-exchange" class="mdx-components_heading__HrNl3 mdx-components_heading-sub-section__AJ2JK" style="z-index:3060000"><i class="fa-solid fa-link mdx-components_heading-link__r6M6c"></i>3.6 測試 topic exchange</h2></a>
<a href="#361-建立-topic-exchange" style="text-decoration:none"><h3 id="361-建立-topic-exchange" class="mdx-components_heading__HrNl3 mdx-components_heading-sub-section__AJ2JK" style="z-index:3060100"><i class="fa-solid fa-link mdx-components_heading-link__r6M6c"></i>3.6.1 建立 topic exchange</h3></a>
<ol>
<li class="mdx-components_list-item__fJ1NL">去 Exchanges。</li>
<li class="mdx-components_list-item__fJ1NL">打開「Add a new exchange」。</li>
<li class="mdx-components_list-item__fJ1NL">輸入 Name，例如 <code class="undefined mdx-components_inline-code__y_QeQ">my-topic-exchange</code>。</li>
<li class="mdx-components_list-item__fJ1NL">Type 揀「topic」。</li>
<li class="mdx-components_list-item__fJ1NL">我地可以揀 Virtual host、Durability、Auto delete、Internal，亦可以由得佢用默認值。</li>
<li class="mdx-components_list-item__fJ1NL">Arguments 可以唔輸入。</li>
<li class="mdx-components_list-item__fJ1NL">撳「Add exchange」。</li>
</ol>
<hr class="mdx-components_hr__o_oFr"/>
<a href="#362-建立-queue" style="text-decoration:none"><h3 id="362-建立-queue" class="mdx-components_heading__HrNl3 mdx-components_heading-sub-section__AJ2JK" style="z-index:3060200"><i class="fa-solid fa-link mdx-components_heading-link__r6M6c"></i>3.6.2 建立 queue</h3></a>
<ol>
<li class="mdx-components_list-item__fJ1NL">可以參考返上面建立 queue 既步驟。<!-- -->
<ul>
<li class="mdx-components_list-item__fJ1NL">Name 可以輸入 <code class="undefined mdx-components_inline-code__y_QeQ">my-topic-queue</code>。</li>
</ul>
</li>
</ol>
<hr class="mdx-components_hr__o_oFr"/>
<a href="#363-建立-binding" style="text-decoration:none"><h3 id="363-建立-binding" class="mdx-components_heading__HrNl3 mdx-components_heading-sub-section__AJ2JK" style="z-index:3060300"><i class="fa-solid fa-link mdx-components_heading-link__r6M6c"></i>3.6.3 建立 binding</h3></a>
<ol>
<li class="mdx-components_list-item__fJ1NL">撳「my-topic-queue」。</li>
<li class="mdx-components_list-item__fJ1NL">打開「Bindings (1)」。</li>
<li class="mdx-components_list-item__fJ1NL">From exchange 輸入 <code class="undefined mdx-components_inline-code__y_QeQ">my-topic-exchange</code>。</li>
<li class="mdx-components_list-item__fJ1NL">Routing key 輸入 <code class="undefined mdx-components_inline-code__y_QeQ">foo.#</code>。</li>
<li class="mdx-components_list-item__fJ1NL">Arguments 可以唔輸入。</li>
<li class="mdx-components_list-item__fJ1NL">撳「Bind」。</li>
</ol>
<hr class="mdx-components_hr__o_oFr"/>
<a href="#364-發送接收訊息" style="text-decoration:none"><h3 id="364-發送接收訊息" class="mdx-components_heading__HrNl3 mdx-components_heading-sub-section__AJ2JK" style="z-index:3060400"><i class="fa-solid fa-link mdx-components_heading-link__r6M6c"></i>3.6.4 發送、接收訊息</h3></a>
<ol>
<li class="mdx-components_list-item__fJ1NL">去「my-topic-exchange」度發送訊息。<!-- -->
<ol>
<li class="mdx-components_list-item__fJ1NL">Routing key 輸入 <code class="undefined mdx-components_inline-code__y_QeQ">foo.123</code>（要係一個 match 到 <code class="undefined mdx-components_inline-code__y_QeQ">foo.#</code> 接受既值）。</li>
<li class="mdx-components_list-item__fJ1NL">Headers、Properties 可以唔輸入。</li>
<li class="mdx-components_list-item__fJ1NL">輸入 Payload，例如 <code class="undefined mdx-components_inline-code__y_QeQ">my message content</code>。</li>
</ol>
</li>
<li class="mdx-components_list-item__fJ1NL">去「my-topic-queue」度接收訊息。<!-- -->
<ol>
<li class="mdx-components_list-item__fJ1NL">會收到 <code class="undefined mdx-components_inline-code__y_QeQ">1</code> 個訊息。</li>
</ol>
</li>
</ol>
<div class="mdx-components_paragraph__AUxxF">如果我地發送既時候唔用 match 到個 binding key 既值作為 routing key（唔輸入，或者輸入唔 match 既值），佢就會彈出黃色底既 popup，寫住「Message published, but not routed.」，咁係因為冇一個 binding 既 binding key 係 match 到呢個 routing key。</div>
<div class="mdx-components_paragraph__AUxxF">✅ <code class="undefined mdx-components_inline-code__y_QeQ">foo.#</code> binding key 接受既 routing key 例子：</div>
<ul>
<li class="mdx-components_list-item__fJ1NL"><code class="undefined mdx-components_inline-code__y_QeQ">foo</code>、<code class="undefined mdx-components_inline-code__y_QeQ">foo.</code>、<code class="undefined mdx-components_inline-code__y_QeQ">foo..</code>、<code class="undefined mdx-components_inline-code__y_QeQ">foo.#</code>、<code class="undefined mdx-components_inline-code__y_QeQ">foo.1</code>、<code class="undefined mdx-components_inline-code__y_QeQ">foo.a</code>、<code class="undefined mdx-components_inline-code__y_QeQ">foo.abc</code></li>
</ul>
<div class="mdx-components_paragraph__AUxxF">❌ <code class="undefined mdx-components_inline-code__y_QeQ">foo.#</code> binding key 唔接受既 routing key 例子：</div>
<ul>
<li class="mdx-components_list-item__fJ1NL">唔輸入</li>
<li class="mdx-components_list-item__fJ1NL"><code class="undefined mdx-components_inline-code__y_QeQ">bar.</code>、<code class="undefined mdx-components_inline-code__y_QeQ">bar.123</code></li>
</ul>
<hr class="mdx-components_hr__o_oFr"/>
<a href="#37-測試-dead-letter-exchange" style="text-decoration:none"><h2 id="37-測試-dead-letter-exchange" class="mdx-components_heading__HrNl3 mdx-components_heading-sub-section__AJ2JK" style="z-index:3070000"><i class="fa-solid fa-link mdx-components_heading-link__r6M6c"></i>3.7 測試 dead letter exchange</h2></a>
<a href="#371-建立-business-exchange" style="text-decoration:none"><h3 id="371-建立-business-exchange" class="mdx-components_heading__HrNl3 mdx-components_heading-sub-section__AJ2JK" style="z-index:3070100"><i class="fa-solid fa-link mdx-components_heading-link__r6M6c"></i>3.7.1 建立 business exchange</h3></a>
<ul>
<li class="mdx-components_list-item__fJ1NL">Name：<code class="undefined mdx-components_inline-code__y_QeQ">biz-exchange</code></li>
<li class="mdx-components_list-item__fJ1NL">Type：<code class="undefined mdx-components_inline-code__y_QeQ">direct</code></li>
</ul>
<hr class="mdx-components_hr__o_oFr"/>
<a href="#372-建立-business-queue" style="text-decoration:none"><h3 id="372-建立-business-queue" class="mdx-components_heading__HrNl3 mdx-components_heading-sub-section__AJ2JK" style="z-index:3070200"><i class="fa-solid fa-link mdx-components_heading-link__r6M6c"></i>3.7.2 建立 business queue</h3></a>
<ul>
<li class="mdx-components_list-item__fJ1NL">Name：<code class="undefined mdx-components_inline-code__y_QeQ">biz-queue</code></li>
<li class="mdx-components_list-item__fJ1NL">Arguments<!-- -->
<ul>
<li class="mdx-components_list-item__fJ1NL"><code class="undefined mdx-components_inline-code__y_QeQ">x-dead-letter-exchange</code>：<code class="undefined mdx-components_inline-code__y_QeQ">my-dlx</code></li>
<li class="mdx-components_list-item__fJ1NL"><code class="undefined mdx-components_inline-code__y_QeQ">x-dead-letter-routing-key</code>：<code class="undefined mdx-components_inline-code__y_QeQ">my-dlkey</code></li>
</ul>
</li>
</ul>
<hr class="mdx-components_hr__o_oFr"/>
<a href="#373-建立-business-binding" style="text-decoration:none"><h3 id="373-建立-business-binding" class="mdx-components_heading__HrNl3 mdx-components_heading-sub-section__AJ2JK" style="z-index:3070300"><i class="fa-solid fa-link mdx-components_heading-link__r6M6c"></i>3.7.3 建立 business binding</h3></a>
<ul>
<li class="mdx-components_list-item__fJ1NL">Exchange：<code class="undefined mdx-components_inline-code__y_QeQ">biz-exchange</code></li>
<li class="mdx-components_list-item__fJ1NL">Queue：<code class="undefined mdx-components_inline-code__y_QeQ">biz-queue</code></li>
<li class="mdx-components_list-item__fJ1NL">Binding key：<code class="undefined mdx-components_inline-code__y_QeQ">biz-key</code></li>
</ul>
<hr class="mdx-components_hr__o_oFr"/>
<a href="#374-建立-dead-letter-exchange" style="text-decoration:none"><h3 id="374-建立-dead-letter-exchange" class="mdx-components_heading__HrNl3 mdx-components_heading-sub-section__AJ2JK" style="z-index:3070400"><i class="fa-solid fa-link mdx-components_heading-link__r6M6c"></i>3.7.4 建立 dead letter exchange</h3></a>
<ul>
<li class="mdx-components_list-item__fJ1NL">Name：<code class="undefined mdx-components_inline-code__y_QeQ">my-dlx</code></li>
<li class="mdx-components_list-item__fJ1NL">Type：<code class="undefined mdx-components_inline-code__y_QeQ">direct</code></li>
</ul>
<hr class="mdx-components_hr__o_oFr"/>
<a href="#375-建立-dead-letter-queue" style="text-decoration:none"><h3 id="375-建立-dead-letter-queue" class="mdx-components_heading__HrNl3 mdx-components_heading-sub-section__AJ2JK" style="z-index:3070500"><i class="fa-solid fa-link mdx-components_heading-link__r6M6c"></i>3.7.5 建立 dead letter queue</h3></a>
<ul>
<li class="mdx-components_list-item__fJ1NL">Name：<code class="undefined mdx-components_inline-code__y_QeQ">my-dlq</code></li>
<li class="mdx-components_list-item__fJ1NL">Arguments（可選）<!-- -->
<ul>
<li class="mdx-components_list-item__fJ1NL"><code class="undefined mdx-components_inline-code__y_QeQ">x-dead-letter-exchange</code>：<code class="undefined mdx-components_inline-code__y_QeQ">biz-exchange</code>（<code class="undefined mdx-components_inline-code__y_QeQ">String</code>）</li>
<li class="mdx-components_list-item__fJ1NL"><code class="undefined mdx-components_inline-code__y_QeQ">x-dead-letter-routing-key</code>：<code class="undefined mdx-components_inline-code__y_QeQ">biz-key</code>（<code class="undefined mdx-components_inline-code__y_QeQ">String</code>）</li>
<li class="mdx-components_list-item__fJ1NL"><code class="undefined mdx-components_inline-code__y_QeQ">x-message-ttl</code>：<code class="undefined mdx-components_inline-code__y_QeQ">10000</code>（<code class="undefined mdx-components_inline-code__y_QeQ">Number</code>）（等於 <code class="undefined mdx-components_inline-code__y_QeQ">10</code> 秒）</li>
</ul>
</li>
</ul>
<hr class="mdx-components_hr__o_oFr"/>
<a href="#376-建立-dead-letter-binding" style="text-decoration:none"><h3 id="376-建立-dead-letter-binding" class="mdx-components_heading__HrNl3 mdx-components_heading-sub-section__AJ2JK" style="z-index:3070600"><i class="fa-solid fa-link mdx-components_heading-link__r6M6c"></i>3.7.6 建立 dead letter binding</h3></a>
<ul>
<li class="mdx-components_list-item__fJ1NL">Exchange：<code class="undefined mdx-components_inline-code__y_QeQ">my-dlx</code></li>
<li class="mdx-components_list-item__fJ1NL">Queue：<code class="undefined mdx-components_inline-code__y_QeQ">my-dlq</code></li>
<li class="mdx-components_list-item__fJ1NL">Binding key：<code class="undefined mdx-components_inline-code__y_QeQ">my-dlkey</code></li>
</ul>
<hr class="mdx-components_hr__o_oFr"/>
<a href="#377-發送接收訊息" style="text-decoration:none"><h3 id="377-發送接收訊息" class="mdx-components_heading__HrNl3 mdx-components_heading-sub-section__AJ2JK" style="z-index:3070700"><i class="fa-solid fa-link mdx-components_heading-link__r6M6c"></i>3.7.7 發送、接收訊息</h3></a>
<ol>
<li class="mdx-components_list-item__fJ1NL">去「biz-exchange」度發送訊息。<!-- -->
<ol>
<li class="mdx-components_list-item__fJ1NL">Routing key 輸入 <code class="undefined mdx-components_inline-code__y_QeQ">biz-key</code>。</li>
<li class="mdx-components_list-item__fJ1NL">Headers、Properties 可以唔輸入。</li>
<li class="mdx-components_list-item__fJ1NL">輸入 Payload，例如 <code class="undefined mdx-components_inline-code__y_QeQ">my message content</code>。</li>
</ol>
</li>
<li class="mdx-components_list-item__fJ1NL">去「biz-queue」度接收訊息。<!-- -->
<ol>
<li class="mdx-components_list-item__fJ1NL">Ack mode 揀「Reject requeue false」。</li>
<li class="mdx-components_list-item__fJ1NL">會收到 <code class="undefined mdx-components_inline-code__y_QeQ">1</code> 個訊息。</li>
</ol>
</li>
<li class="mdx-components_list-item__fJ1NL">去「my-dlq」度接收訊息。<!-- -->
<ol>
<li class="mdx-components_list-item__fJ1NL">Ack mode 揀「Nack message requeue true」。</li>
<li class="mdx-components_list-item__fJ1NL">會收到 <code class="undefined mdx-components_inline-code__y_QeQ">1</code> 個訊息。</li>
</ol>
</li>
</ol>
<div class="mdx-components_paragraph__AUxxF">如果 dead letter queue 有設定度可選既 arguments：</div>
<ol>
<li class="mdx-components_list-item__fJ1NL">等幾秒（message TTL 係 <code class="undefined mdx-components_inline-code__y_QeQ">10</code> 秒）。</li>
<li class="mdx-components_list-item__fJ1NL">去「biz-queue」度接收訊息。<!-- -->
<ol>
<li class="mdx-components_list-item__fJ1NL">Ack mode 揀「Nack message requeue true」。</li>
<li class="mdx-components_list-item__fJ1NL">會收到 <code class="undefined mdx-components_inline-code__y_QeQ">1</code> 個訊息。</li>
</ol>
</li>
</ol>
<div class="mdx-components_paragraph__AUxxF">解釋：</div>
<ul>
<li class="mdx-components_list-item__fJ1NL">上面既例子可以達到 retry dead letter queue 裡面既訊息既效果。<!-- -->
<ul>
<li class="mdx-components_list-item__fJ1NL">當訊息喺「biz-queue」度接收失敗，被轉移到「my-dlx」然後再到「my-dlq」之後，經過一段時間，當 message TTL 過期既時候，訊息又會自動被轉移到「biz-exchange」然後再到「biz-queue」。</li>
</ul>
</li>
</ul>
<hr class="mdx-components_hr__o_oFr"/>
<a href="#4-筆記" style="text-decoration:none"><h1 id="4-筆記" class="mdx-components_heading__HrNl3 mdx-components_heading-new-section__YU39B" style="z-index:4000000"><i class="fa-solid fa-link mdx-components_heading-link__r6M6c"></i>4 筆記</h1></a>
<a href="#41-exchange-選項" style="text-decoration:none"><h2 id="41-exchange-選項" class="mdx-components_heading__HrNl3 mdx-components_heading-sub-section__AJ2JK" style="z-index:4010000"><i class="fa-solid fa-link mdx-components_heading-link__r6M6c"></i>4.1 Exchange 選項</h2></a>
<div class="mdx-components_table-outer-wrapper__npuxp"><div class="mdx-components_table-wrapper__0GcvD"><table class="mdx-components_table__bAy19"><thead><tr><th>選項</th><th>解釋</th></tr></thead><tbody><tr><td>Durable</td><td>個 exchange 會喺 RabbitMQ 重新啟動之後都繼續存在。</td></tr><tr><td>Auto-delete</td><td>當最後一個 binding 被解除，RabbitMQ 就會自動刪除呢個 exchange。</td></tr><tr><td>Direct type</td><td>Binding key 會係 exact match。</td></tr><tr><td>Fanout type</td><td>唔需要 binding key，就算提供左都冇用，所有 bind 左既 queues 都必定會收到所有訊息。</td></tr><tr><td>Headers type</td><td>用特定既 key-value arguments 黎 match。</td></tr><tr><td>Topic type</td><td>Binding key 可以係 exact match，亦可以運用 wildcard characters——<code class="undefined mdx-components_inline-code__y_QeQ">*</code> 代表 wildcard 單字；<code class="undefined mdx-components_inline-code__y_QeQ">#</code> 代表 wildcard 任意長度（<code class="undefined mdx-components_inline-code__y_QeQ">0</code> 至 <code class="undefined mdx-components_inline-code__y_QeQ">N</code>）既文字。</td></tr></tbody></table></div></div>
<hr class="mdx-components_hr__o_oFr"/>
<a href="#42-queue-選項" style="text-decoration:none"><h2 id="42-queue-選項" class="mdx-components_heading__HrNl3 mdx-components_heading-sub-section__AJ2JK" style="z-index:4020000"><i class="fa-solid fa-link mdx-components_heading-link__r6M6c"></i>4.2 Queue 選項</h2></a>
<div class="mdx-components_table-outer-wrapper__npuxp"><div class="mdx-components_table-wrapper__0GcvD"><table class="mdx-components_table__bAy19"><thead><tr><th>選項</th><th>解釋</th></tr></thead><tbody><tr><td>Durable</td><td>個 queue 會喺 RabbitMQ 重新啟動之後都繼續存在。</td></tr><tr><td>Auto-delete</td><td>當最後一個 consumer cancel 或者 disconnect 左，RabbitMQ 就會自動刪除呢個 queue。</td></tr><tr><td>Exclusive</td><td>當佢所屬既 connection close 左，RabbitMQ 就會自動刪除呢個 queue。</td></tr><tr><td>Message TTL（<code class="undefined mdx-components_inline-code__y_QeQ">x-message-ttl</code> arg）</td><td>Queue level 既 time-to-live，一個訊息如果超過呢個時間就會 expire，consumers 唔會收到已經 expire 左既訊息。如果有 dead letter exchange 既 args，當訊息喺 head 位置，RabbitMQ 就會將佢轉移去 dead letter exchange。</td></tr><tr><td>Auto-expire（<code class="undefined mdx-components_inline-code__y_QeQ">x-expires</code> arg）</td><td>數值係 millisecond 數字（<code class="undefined mdx-components_inline-code__y_QeQ">5000</code> 等於 <code class="undefined mdx-components_inline-code__y_QeQ">5</code> 秒）。當冇任何 consumer 連接住呢個 queue（一建立 queue 既時候都算），RabbitMQ 就會開始計時，一到左時間，RabbitMQ 就會自動刪除呢個 queue。</td></tr><tr><td>Single active consumer（<code class="undefined mdx-components_inline-code__y_QeQ">x-single-active-consumer</code> arg）</td><td>如果我地既訊息一定要按入 queue 既先後次序處理，如果想保持住多個相同 consumer 既 app instances，咁我地可以用 single active consumer 選項，咁所有訊息都只會傳遞到同一個 consumer，保證處理訊息既先後次序。</td></tr><tr><td>Dead letter exchange（<code class="undefined mdx-components_inline-code__y_QeQ">x-dead-letter-exchange</code>）</td><td>如果傳遞失敗，RabbitMQ 可能會將佢轉移到呢個 dead letter exchange。</td></tr><tr><td>Dead letter routing key（<code class="undefined mdx-components_inline-code__y_QeQ">x-dead-letter-routing-key</code>）</td><td>RabbitMQ 將訊息轉移到 dead letter exchange 既時候會用既 routing key。</td></tr></tbody></table></div></div>
<hr class="mdx-components_hr__o_oFr"/>
<a href="#43-binding-選項" style="text-decoration:none"><h2 id="43-binding-選項" class="mdx-components_heading__HrNl3 mdx-components_heading-sub-section__AJ2JK" style="z-index:4030000"><i class="fa-solid fa-link mdx-components_heading-link__r6M6c"></i>4.3 Binding 選項</h2></a>
<div class="mdx-components_table-outer-wrapper__npuxp"><div class="mdx-components_table-wrapper__0GcvD"><table class="mdx-components_table__bAy19"><thead><tr><th>選項</th><th>解釋</th></tr></thead><tbody><tr><td>Binding key（或者 routing key）</td><td>提供 filter 訊息既作用。一個訊息如果要由 exchange <code class="undefined mdx-components_inline-code__y_QeQ">X1</code> 去到 queue <code class="undefined mdx-components_inline-code__y_QeQ">Q1</code>，呢個訊息既 routing key 一定要 match 到 <code class="undefined mdx-components_inline-code__y_QeQ">Q1</code> 同 <code class="undefined mdx-components_inline-code__y_QeQ">X1</code> 之間既 binding 既 binding key。我地應該根據 exchange type 去輸入符合我地需要既 binding key。</td></tr><tr><td>Arguments</td><td>用喺 headers exchange 既 bindings 度，只有 match 到曬所有 arguments 既值既訊息先會 route 到去個 queue 度。</td></tr></tbody></table></div></div>
<hr class="mdx-components_hr__o_oFr"/>
<a href="#44-訊息發送選項" style="text-decoration:none"><h2 id="44-訊息發送選項" class="mdx-components_heading__HrNl3 mdx-components_heading-sub-section__AJ2JK" style="z-index:4040000"><i class="fa-solid fa-link mdx-components_heading-link__r6M6c"></i>4.4 訊息發送選項</h2></a>
<div class="mdx-components_table-outer-wrapper__npuxp"><div class="mdx-components_table-wrapper__0GcvD"><table class="mdx-components_table__bAy19"><thead><tr><th>選項</th><th>解釋</th></tr></thead><tbody><tr><td>Delivery mode</td><td>Persistent（<code class="undefined mdx-components_inline-code__y_QeQ">1</code>）會先寫落 persistent storage（disk），如果 RabbitMQ crash 左既話都會喺返度。Non-persistent（<code class="undefined mdx-components_inline-code__y_QeQ">2</code>）就唔會寫落 disk。</td></tr></tbody></table></div></div>
<hr class="mdx-components_hr__o_oFr"/>
<a href="#45-訊息接收選項" style="text-decoration:none"><h2 id="45-訊息接收選項" class="mdx-components_heading__HrNl3 mdx-components_heading-sub-section__AJ2JK" style="z-index:4050000"><i class="fa-solid fa-link mdx-components_heading-link__r6M6c"></i>4.5 訊息接收選項</h2></a>
<div class="mdx-components_table-outer-wrapper__npuxp"><div class="mdx-components_table-wrapper__0GcvD"><table class="mdx-components_table__bAy19"><thead><tr><th>選項</th><th>解釋</th></tr></thead><tbody><tr><td>Reject</td><td>係 AMQP 既標準，用黎拒絕單一訊息。</td></tr><tr><td>Nack</td><td>Negative acknowledgement 係 RabbitMQ 獨有既功能，可以同時拒絕對多個訊息。</td></tr></tbody></table></div></div>
<hr class="mdx-components_hr__o_oFr"/>
<a href="#5-參考資料" style="text-decoration:none"><h1 id="5-參考資料" class="mdx-components_heading__HrNl3 mdx-components_heading-new-section__YU39B" style="z-index:5000000"><i class="fa-solid fa-link mdx-components_heading-link__r6M6c"></i>5 參考資料</h1></a>
<ul>
<li class="mdx-components_list-item__fJ1NL"><span><a href="https://www.rabbitmq.com/docs/nack" target="_blank" rel="external nofollow noopener noreferrer" class="common_anchor__kGNsN">RabbitMQ 官方文檔 - Negative Acknowledgements</a></span></li>
<li class="mdx-components_list-item__fJ1NL"><span><a href="https://www.rabbitmq.com/docs/ttl" target="_blank" rel="external nofollow noopener noreferrer" class="common_anchor__kGNsN">RabbitMQ 官方文檔 - Time-to-Live and Expiration</a></span></li>
<li class="mdx-components_list-item__fJ1NL"><span><a href="https://www.rabbitmq.com/docs/dlx" target="_blank" rel="external nofollow noopener noreferrer" class="common_anchor__kGNsN">RabbitMQ 官方文檔 - Dead Letter Exchanges</a></span></li>
</ul></div></div></div><hr/><div class="vstack gap-3"><div class="text-center container"><div class="justify-content-center g-3 row row-cols-md-3 row-cols-sm-2 row-cols-1"><div class="col"><a href="tel:+85263301333" target="_blank" rel="external nofollow noopener noreferrer" class="SiteFooter_contact-item__H5kf5 card"><div class="card-body"><div class="card-title h5"><i class="fa-solid fa-phone" style="color:#009688"></i></div><p class="text-muted card-text">6330 1333</p></div></a></div><div class="col"><a href="mailto:michaelboyboy@gmail.com" target="_blank" rel="external nofollow noopener noreferrer" class="SiteFooter_contact-item__H5kf5 card"><div class="card-body"><div class="card-title h5"><i class="fa-solid fa-envelope" style="color:#f44336"></i></div><p class="text-muted card-text">michaelboyboy@gmail.com</p></div></a></div><div class="col"><a href="https://www.linkedin.com/in/mickchung" target="_blank" rel="external nofollow noopener noreferrer" class="SiteFooter_contact-item__H5kf5 card"><div class="card-body"><div class="card-title h5"><i class="fa-brands fa-linkedin" style="color:#2196f3"></i></div><p class="text-muted card-text">www.linkedin.com/in/mickchung</p></div></a></div></div></div><div class="SiteFooter_misc__7DgAh"><div>Copyright © <!-- -->2025<!-- --> Chung Cheuk Hang Michael. All rights reserved.</div><div>Developed with <strong>React</strong>, <strong>Bootstrap</strong> and <strong>Next.js</strong>.</div></div></div></div><script src="/e2-next/_next/static/chunks/webpack-ad3efae45306aedb.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:\"$Sreact.fragment\"\n2:I[8287,[\"7833\",\"static/chunks/7833-0781b4db521d8fdc.js\",\"7177\",\"static/chunks/app/layout-3655101740c91656.js\"],\"default\"]\n3:I[3339,[\"8974\",\"static/chunks/app/page-63c121085425a904.js\"],\"default\"]\n4:I[2963,[\"7833\",\"static/chunks/7833-0781b4db521d8fdc.js\",\"7177\",\"static/chunks/app/layout-3655101740c91656.js\"],\"default\"]\n5:I[7680,[\"7833\",\"static/chunks/7833-0781b4db521d8fdc.js\",\"7177\",\"static/chunks/app/layout-3655101740c91656.js\"],\"default\"]\n6:I[5244,[],\"\"]\n7:I[3866,[],\"\"]\n8:I[6486,[\"7833\",\"static/chunks/7833-0781b4db521d8fdc.js\",\"7177\",\"static/chunks/app/layout-3655101740c91656.js\"],\"default\"]\n9:I[4547,[],\"ClientSegmentRoot\"]\na:I[5211,[\"586\",\"static/chunks/13b76428-e7d338032a603c0d.js\",\"5359\",\"static/chunks/5359-d4ac7bfba1f6efb5.js\",\"8329\",\"static/chunks/app/blog/(blogPosts)/layout-64da3a29d6417a80.js\"],\"default\"]\nc:I[6213,[],\"OutletBoundary\"]\ne:I[6213,[],\"MetadataBoundary\"]\n10:I[6213,[],\"ViewportBoundary\"]\n12:I[4835,[],\"\"]\n:HL[\"/e2-next/_next/static/css/8b3b49f5a80261a3.css\",\"style\"]\n:HL[\"/e2-next/_next/static/css/d3df112486f97f47.css\",\"style\"]\n:HL[\"/e2-next/_next/static/css/47422044c9b2dd2c.css\",\"style\"]\n:HL[\"/e2-next/_next/static/css/7bfe9ed714480baa.css\",\"style\"]\n:HL[\"/e2-next/_next/static/css/caf337e7effc00c7.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"0:{\"P\":null,\"b\":\"FZe2hzuYLPdc5DS8i_4tz\",\"p\":\"/e2-next\",\"c\":[\"\",\"blog\",\"rabbitmq-basics\"],\"i\":false,\"f\":[[[\"\",{\"children\":[\"blog\",{\"children\":[\"(blogPosts)\",{\"children\":[\"(2024-04)\",{\"children\":[\"rabbitmq-basics\",{\"children\":[\"__PAGE__\",{}]}]}]}]}]},\"$undefined\",\"$undefined\",true],[\"\",[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/e2-next/_next/static/css/8b3b49f5a80261a3.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}],[\"$\",\"link\",\"1\",{\"rel\":\"stylesheet\",\"href\":\"/e2-next/_next/static/css/d3df112486f97f47.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}],[\"$\",\"link\",\"2\",{\"rel\":\"stylesheet\",\"href\":\"/e2-next/_next/static/css/47422044c9b2dd2c.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"en\",\"children\":[[\"$\",\"head\",null,{\"children\":[[\"$\",\"link\",null,{\"href\":\"https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900\u0026display=swap\",\"rel\":\"stylesheet\"}],[\"$\",\"link\",null,{\"rel\":\"stylesheet\",\"href\":\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css\"}]]}],[\"$\",\"body\",null,{\"children\":[\"$\",\"$L2\",null,{\"children\":[\"$\",\"$L3\",null,{\"gap\":5,\"children\":[[\"$\",\"$L3\",null,{\"gap\":5,\"className\":\"text-center\",\"children\":[[\"$\",\"div\",null,{\"className\":\"Ribbon_ribbon-left__fObbI\",\"children\":[\"$\",\"img\",null,{\"className\":\"Ribbon_image__2_FYh\",\"src\":\"/e2-next/nextjs.svg\"}]}],[\"$\",\"$L4\",null,{\"href\":\"https://blackr1234.github.io/e2/\",\"variant\":\"secondary\",\"size\":\"sm\",\"className\":\"ButtonToOtherSites_button__K4zwN\",\"children\":\"➜ Old React website\"}],[\"$\",\"div\",null,{\"children\":[[\"$\",\"code\",null,{\"className\":\"SiteHeader_name__pxX08\",\"children\":\"Chung Cheuk Hang Michael\"}],[\"$\",\"code\",null,{\"className\":\"SiteHeader_title__MUwhy\",\"children\":\"Java Web Developer\"}]]}],[\"$\",\"$L5\",null,{}]]}],[\"$\",\"$L6\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L7\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[],[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":404}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}],[\"$\",\"hr\",null,{}],[\"$\",\"$L8\",null,{}]]}]}]}]]}]]}],{\"children\":[\"blog\",[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L6\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"blog\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L7\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[\"(blogPosts)\",[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/e2-next/_next/static/css/7bfe9ed714480baa.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"$L9\",null,{\"Component\":\"$a\",\"slots\":{\"children\":[\"$\",\"$L6\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"blog\",\"children\",\"(blogPosts)\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L7\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]},\"params\":{},\"promise\":\"$@b\"}]]}],{\"children\":[\"(2024-04)\",[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L6\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"blog\",\"children\",\"(blogPosts)\",\"children\",\"(2024-04)\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L7\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[\"rabbitmq-basics\",[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L6\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"blog\",\"children\",\"(blogPosts)\",\"children\",\"(2024-04)\",\"children\",\"rabbitmq-basics\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L7\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[\"__PAGE__\",[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"a\",null,{\"href\":\"#1-rabbitmq-簡介\",\"style\":{\"textDecoration\":\"none\"},\"children\":[\"$\",\"h1\",null,{\"id\":\"1-rabbitmq-簡介\",\"className\":\"mdx-components_heading__HrNl3 mdx-components_heading-new-section__YU39B\",\"style\":{\"zIndex\":1000000},\"children\":[[\"$\",\"i\",null,{\"className\":\"fa-solid fa-link mdx-components_heading-link__r6M6c\"}],\"1 RabbitMQ 簡介\"]}]}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"mdx-components_paragraph__AUxxF\",\"children\":[\"可以睇返呢篇：\",[\"$\",\"span\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"/e2-next/blog/spring-cloud-stream-rabbitmq\",\"className\":\"common_anchor__kGNsN\",\"children\":\"Spring 項目中訂閱 RabbitMQ\"}]}]]}],\"\\n\",[\"$\",\"hr\",null,{\"className\":\"mdx-components_hr__o_oFr\"}],\"\\n\",[\"$\",\"a\",null,{\"href\":\"#2-啟動-rabbitmq\",\"style\":{\"textDecoration\":\"none\"},\"children\":[\"$\",\"h1\",null,{\"id\":\"2-啟動-rabbitmq\",\"className\":\"mdx-components_heading__HrNl3 mdx-components_heading-new-section__YU39B\",\"style\":{\"zIndex\":2000000},\"children\":[[\"$\",\"i\",null,{\"className\":\"fa-solid fa-link mdx-components_heading-link__r6M6c\"}],\"2 啟動 RabbitMQ\"]}]}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"mdx-components_paragraph__AUxxF\",\"children\":\"我地可以用 Docker Desktop，然後利用 RabbitMQ 既官方 Docker image 執行 Docker container。\"}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"mdx-components_paragraph__AUxxF\",\"children\":[\"Command 可以喺呢篇搵到：\",[\"$\",\"span\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"/e2-next/blog/docker-basics#337-rabbitmq\",\"className\":\"common_anchor__kGNsN\",\"children\":\"Docker 基本操作 - 3.3.7 RabbitMQ\"}]}],\"。\"]}],\"\\n\",[\"$\",\"hr\",null,{\"className\":\"mdx-components_hr__o_oFr\"}],\"\\n\",[\"$\",\"a\",null,{\"href\":\"#3-動手玩\",\"style\":{\"textDecoration\":\"none\"},\"children\":[\"$\",\"h1\",null,{\"id\":\"3-動手玩\",\"className\":\"mdx-components_heading__HrNl3 mdx-components_heading-new-section__YU39B\",\"style\":{\"zIndex\":3000000},\"children\":[[\"$\",\"i\",null,{\"className\":\"fa-solid fa-link mdx-components_heading-link__r6M6c\"}],\"3 動手玩\"]}]}],\"\\n\",[\"$\",\"a\",null,{\"href\":\"#31-建立-virtual-host\",\"style\":{\"textDecoration\":\"none\"},\"children\":[\"$\",\"h2\",null,{\"id\":\"31-建立-virtual-host\",\"className\":\"mdx-components_heading__HrNl3 mdx-components_heading-sub-section__AJ2JK\",\"style\":{\"zIndex\":3010000},\"children\":[[\"$\",\"i\",null,{\"className\":\"fa-solid fa-link mdx-components_heading-link__r6M6c\"}],\"3.1 建立 virtual host\"]}]}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"mdx-components_paragraph__AUxxF\",\"children\":\"RabbitMQ 支援 multi-tenant，我地可以用 virtual host 黎 group 起相關既 resources。\"}],\"\\n\",[\"$\",\"ol\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":\"去 Admin \u003e Virtual Hosts。\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":\"打開「Add a new virtual host」。\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":\"輸入 Name，例如「rabbitmq-basics」。\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":\"撳「Add virtual host」。\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":\"Refresh 頁面。\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":\"右上角 \u003e 揀新建立既 virtual host。\"}],\"\\n\"]}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"mdx-components_paragraph__AUxxF\",\"children\":\"完成之後，我地就可以喺呢個新既 virtual host 度玩啦！\"}],\"\\n\",[\"$\",\"hr\",null,{\"className\":\"mdx-components_hr__o_oFr\"}],\"\\n\",[\"$\",\"a\",null,{\"href\":\"#32-測試-queue\",\"style\":{\"textDecoration\":\"none\"},\"children\":[\"$\",\"h2\",null,{\"id\":\"32-測試-queue\",\"className\":\"mdx-components_heading__HrNl3 mdx-components_heading-sub-section__AJ2JK\",\"style\":{\"zIndex\":3020000},\"children\":[[\"$\",\"i\",null,{\"className\":\"fa-solid fa-link mdx-components_heading-link__r6M6c\"}],\"3.2 測試 queue\"]}]}],\"\\n\",[\"$\",\"a\",null,{\"href\":\"#321-建立-queue\",\"style\":{\"textDecoration\":\"none\"},\"children\":[\"$\",\"h3\",null,{\"id\":\"321-建立-queue\",\"className\":\"mdx-components_heading__HrNl3 mdx-components_heading-sub-section__AJ2JK\",\"style\":{\"zIndex\":3020100},\"children\":[[\"$\",\"i\",null,{\"className\":\"fa-solid fa-link mdx-components_heading-link__r6M6c\"}],\"3.2.1 建立 queue\"]}]}],\"\\n\",[\"$\",\"ol\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":\"去 Queues and Streams。\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":\"打開「Add a new queue」。\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":\"我地可以揀 Virtual host、Type，亦可以由得佢用默認值。\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":[\"輸入 Name，例如 \",[\"$\",\"code\",null,{\"className\":\"undefined mdx-components_inline-code__y_QeQ\",\"children\":\"my-queue\"}],\"。\"]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":[\"Durability 由得佢用默認既 \",[\"$\",\"code\",null,{\"className\":\"undefined mdx-components_inline-code__y_QeQ\",\"children\":\"Durable\"}],\" 就得。\"]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":\"Arguments 可以唔輸入。\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":\"撳「Add queue」。\"}],\"\\n\"]}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"mdx-components_paragraph__AUxxF\",\"children\":\"完成之後，會見到有一個 queue：\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":[\"Name：\",[\"$\",\"code\",null,{\"className\":\"undefined mdx-components_inline-code__y_QeQ\",\"children\":\"my-queue\"}]]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":[\"Type：\",[\"$\",\"code\",null,{\"className\":\"undefined mdx-components_inline-code__y_QeQ\",\"children\":\"classic\"}]]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":[\"Features：\",\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":[[\"$\",\"code\",null,{\"className\":\"undefined mdx-components_inline-code__y_QeQ\",\"children\":\"D\"}],\" 係 durable。\"]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":[[\"$\",\"code\",null,{\"className\":\"undefined mdx-components_inline-code__y_QeQ\",\"children\":\"Args\"}],\" 裡面有 \",[\"$\",\"code\",null,{\"className\":\"undefined mdx-components_inline-code__y_QeQ\",\"children\":\"x-queue-type: classic\"}],\"。\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":[\"State：\",[\"$\",\"code\",null,{\"className\":\"undefined mdx-components_inline-code__y_QeQ\",\"children\":\"idle\"}]]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":[\"Messages：\",[\"$\",\"code\",null,{\"className\":\"undefined mdx-components_inline-code__y_QeQ\",\"children\":\"0\"}]]}],\"\\n\"]}],\"\\n\",[\"$\",\"hr\",null,{\"className\":\"mdx-components_hr__o_oFr\"}],\"\\n\",[\"$\",\"a\",null,{\"href\":\"#322-直接發送訊息到-queue\",\"style\":{\"textDecoration\":\"none\"},\"children\":[\"$\",\"h3\",null,{\"id\":\"322-直接發送訊息到-queue\",\"className\":\"mdx-components_heading__HrNl3 mdx-components_heading-sub-section__AJ2JK\",\"style\":{\"zIndex\":3020200},\"children\":[[\"$\",\"i\",null,{\"className\":\"fa-solid fa-link mdx-components_heading-link__r6M6c\"}],\"3.2.2 直接發送訊息到 queue\"]}]}],\"\\n\",[\"$\",\"ol\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":\"撳「my-queue」。\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":\"打開「Publish message」。\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":[\"Delivery mode 由得佢用默認既 \",[\"$\",\"code\",null,{\"className\":\"undefined mdx-components_inline-code__y_QeQ\",\"children\":\"1 - Non-persistent\"}],\" 就得。\"]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":\"Headers、Properties 可以唔輸入。\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":[\"Payload 係我地想發送既 message body，可以輸入 \",[\"$\",\"code\",null,{\"className\":\"undefined mdx-components_inline-code__y_QeQ\",\"children\":\"foo\"}],\"。\"]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":[\"Payload encoding 由得佢用默認既 \",[\"$\",\"code\",null,{\"className\":\"undefined mdx-components_inline-code__y_QeQ\",\"children\":\"String (default)\"}],\" 就得。\"]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":\"撳「Publish message」。\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":\"如果發送成功，佢會彈出灰色底既 popup，寫住「Message published.」，撳「Close」就得。\"}],\"\\n\"]}],\"\\n\",[\"$\",\"hr\",null,{\"className\":\"mdx-components_hr__o_oFr\"}],\"\\n\",[\"$\",\"a\",null,{\"href\":\"#323-接收訊息\",\"style\":{\"textDecoration\":\"none\"},\"children\":[\"$\",\"h3\",null,{\"id\":\"323-接收訊息\",\"className\":\"mdx-components_heading__HrNl3 mdx-components_heading-sub-section__AJ2JK\",\"style\":{\"zIndex\":3020300},\"children\":[[\"$\",\"i\",null,{\"className\":\"fa-solid fa-link mdx-components_heading-link__r6M6c\"}],\"3.2.3 接收訊息\"]}]}],\"\\n\",[\"$\",\"ol\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":\"打開「Get messages」。\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":[\"將 Ack mode 改成 \",[\"$\",\"code\",null,{\"className\":\"undefined mdx-components_inline-code__y_QeQ\",\"children\":\"Automatic ack\"}],\"。\"]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":[\"Encoding 由得佢用默認既 \",[\"$\",\"code\",null,{\"className\":\"undefined mdx-components_inline-code__y_QeQ\",\"children\":\"Auto string / base64\"}],\" 就得。\"]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":[\"Messages 影響接收既訊息數量，可以改成 \",[\"$\",\"code\",null,{\"className\":\"undefined mdx-components_inline-code__y_QeQ\",\"children\":\"10\"}],\"，就算多過實際存在既訊息數量都冇問題。\"]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":\"撳「Get Message(s)」。\"}],\"\\n\"]}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"mdx-components_paragraph__AUxxF\",\"children\":\"之後佢會顯示我地既「foo」訊息：\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":[\"Exchange：\",[\"$\",\"code\",null,{\"className\":\"undefined mdx-components_inline-code__y_QeQ\",\"children\":\"(AMQP default)\"}]]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":[\"Routing key：\",[\"$\",\"code\",null,{\"className\":\"undefined mdx-components_inline-code__y_QeQ\",\"children\":\"my-queue\"}]]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":[\"Redelivered：\",[\"$\",\"code\",null,{\"className\":\"undefined mdx-components_inline-code__y_QeQ\",\"children\":\"○\"}],\"（白色代表 \",[\"$\",\"code\",null,{\"className\":\"undefined mdx-components_inline-code__y_QeQ\",\"children\":\"false\"}],\"，requeue 既訊息先會係 \",[\"$\",\"code\",null,{\"className\":\"undefined mdx-components_inline-code__y_QeQ\",\"children\":\"true\"}],\"）\"]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":[\"Properties\",\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":[\"delivery_mode：\",[\"$\",\"code\",null,{\"className\":\"undefined mdx-components_inline-code__y_QeQ\",\"children\":\"1\"}]]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":\"headers：N/A\"}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":[\"Payload：\",[\"$\",\"code\",null,{\"className\":\"undefined mdx-components_inline-code__y_QeQ\",\"children\":\"foo\"}]]}],\"\\n\"]}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"mdx-components_paragraph__AUxxF\",\"children\":\"如果我地再撳「Get Message(s)」，佢就會彈出灰色底既 popup，寫住「Queue is empty」，咁係因為先前既訊息已經 acknowledge 左。\"}],\"\\n\",[\"$\",\"hr\",null,{\"className\":\"mdx-components_hr__o_oFr\"}],\"\\n\",[\"$\",\"a\",null,{\"href\":\"#324-requeue-訊息\",\"style\":{\"textDecoration\":\"none\"},\"children\":[\"$\",\"h3\",null,{\"id\":\"324-requeue-訊息\",\"className\":\"mdx-components_heading__HrNl3 mdx-components_heading-sub-section__AJ2JK\",\"style\":{\"zIndex\":3020400},\"children\":[[\"$\",\"i\",null,{\"className\":\"fa-solid fa-link mdx-components_heading-link__r6M6c\"}],\"3.2.4 Requeue 訊息\"]}]}],\"\\n\",[\"$\",\"ol\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":[\"重複上面既發送、接收步驟。\",\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":\"喺接收既步驟，Ack mode 揀「Nack message requeue true」或者「Reject requeue true」。\"}],\"\\n\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"mdx-components_paragraph__AUxxF\",\"children\":\"結果：\"}],\"\\n\",[\"$\",\"ol\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":[\"第一次接收訊息既時候，我地會見到 Redelivered 係「○」（\",[\"$\",\"code\",null,{\"className\":\"undefined mdx-components_inline-code__y_QeQ\",\"children\":\"false\"}],\"），因為呢個訊息係第一次接收。\"]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":[\"第二次接收訊息既時候，我地會見到 Redelivered 係「●」（\",[\"$\",\"code\",null,{\"className\":\"undefined mdx-components_inline-code__y_QeQ\",\"children\":\"true\"}],\"），因為呢個訊息喺第一次接收之後被 requeue，而家接收既係第二次傳遞同一個訊息。\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"hr\",null,{\"className\":\"mdx-components_hr__o_oFr\"}],\"\\n\",[\"$\",\"a\",null,{\"href\":\"#33-測試-direct-exchange\",\"style\":{\"textDecoration\":\"none\"},\"children\":[\"$\",\"h2\",null,{\"id\":\"33-測試-direct-exchange\",\"className\":\"mdx-components_heading__HrNl3 mdx-components_heading-sub-section__AJ2JK\",\"style\":{\"zIndex\":3030000},\"children\":[[\"$\",\"i\",null,{\"className\":\"fa-solid fa-link mdx-components_heading-link__r6M6c\"}],\"3.3 測試 direct exchange\"]}]}],\"\\n\",[\"$\",\"a\",null,{\"href\":\"#331-建立-direct-exchange\",\"style\":{\"textDecoration\":\"none\"},\"children\":[\"$\",\"h3\",null,{\"id\":\"331-建立-direct-exchange\",\"className\":\"mdx-components_heading__HrNl3 mdx-components_heading-sub-section__AJ2JK\",\"style\":{\"zIndex\":3030100},\"children\":[[\"$\",\"i\",null,{\"className\":\"fa-solid fa-link mdx-components_heading-link__r6M6c\"}],\"3.3.1 建立 direct exchange\"]}]}],\"\\n\",[\"$\",\"ol\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":\"去 Exchanges。\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":\"打開「Add a new exchange」。\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":[\"輸入 Name，例如 \",[\"$\",\"code\",null,{\"className\":\"undefined mdx-components_inline-code__y_QeQ\",\"children\":\"my-direct-exchange\"}],\"。\"]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":\"Type 揀「direct」。\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":\"我地可以揀 Virtual host、Durability、Auto delete、Internal，亦可以由得佢用默認值。\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":\"Arguments 可以唔輸入。\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":\"撳「Add exchange」。\"}],\"\\n\"]}],\"\\n\",[\"$\",\"hr\",null,{\"className\":\"mdx-components_hr__o_oFr\"}],\"\\n\",[\"$\",\"a\",null,{\"href\":\"#332-建立-queue\",\"style\":{\"textDecoration\":\"none\"},\"children\":[\"$\",\"h3\",null,{\"id\":\"332-建立-queue\",\"className\":\"mdx-components_heading__HrNl3 mdx-components_heading-sub-section__AJ2JK\",\"style\":{\"zIndex\":3030200},\"children\":[[\"$\",\"i\",null,{\"className\":\"fa-solid fa-link mdx-components_heading-link__r6M6c\"}],\"3.3.2 建立 queue\"]}]}],\"\\n\",[\"$\",\"ol\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":[\"可以參考返上面建立 queue 既步驟。\",\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":[\"Name 可以輸入 \",[\"$\",\"code\",null,{\"className\":\"undefined mdx-components_inline-code__y_QeQ\",\"children\":\"my-direct-queue\"}],\"。\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"hr\",null,{\"className\":\"mdx-components_hr__o_oFr\"}],\"\\n\",[\"$\",\"a\",null,{\"href\":\"#333-建立-binding\",\"style\":{\"textDecoration\":\"none\"},\"children\":[\"$\",\"h3\",null,{\"id\":\"333-建立-binding\",\"className\":\"mdx-components_heading__HrNl3 mdx-components_heading-sub-section__AJ2JK\",\"style\":{\"zIndex\":3030300},\"children\":[[\"$\",\"i\",null,{\"className\":\"fa-solid fa-link mdx-components_heading-link__r6M6c\"}],\"3.3.3 建立 binding\"]}]}],\"\\n\",[\"$\",\"ol\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":\"撳「my-direct-queue」。\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":\"打開「Bindings (1)」。\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":[\"From exchange 輸入 \",[\"$\",\"code\",null,{\"className\":\"undefined mdx-components_inline-code__y_QeQ\",\"children\":\"my-direct-exchange\"}],\"。\"]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":[\"Routing key 輸入 \",[\"$\",\"code\",null,{\"className\":\"undefined mdx-components_inline-code__y_QeQ\",\"children\":\"foo\"}],\"。\"]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":\"Arguments 可以唔輸入。\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":\"撳「Bind」。\"}],\"\\n\"]}],\"\\n\",[\"$\",\"hr\",null,{\"className\":\"mdx-components_hr__o_oFr\"}],\"\\n\",[\"$\",\"a\",null,{\"href\":\"#334-發送接收訊息\",\"style\":{\"textDecoration\":\"none\"},\"children\":[\"$\",\"h3\",null,{\"id\":\"334-發送接收訊息\",\"className\":\"mdx-components_heading__HrNl3 mdx-components_heading-sub-section__AJ2JK\",\"style\":{\"zIndex\":3030400},\"children\":[[\"$\",\"i\",null,{\"className\":\"fa-solid fa-link mdx-components_heading-link__r6M6c\"}],\"3.3.4 發送、接收訊息\"]}]}],\"\\n\",[\"$\",\"ol\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":[\"去「my-direct-exchange」度發送訊息。\",\"\\n\",[\"$\",\"ol\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":[\"Routing key 輸入 \",[\"$\",\"code\",null,{\"className\":\"undefined mdx-components_inline-code__y_QeQ\",\"children\":\"foo\"}],\"（要同 binding key 一樣）。\"]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":\"Headers、Properties 可以唔輸入。\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":[\"輸入 Payload，例如 \",[\"$\",\"code\",null,{\"className\":\"undefined mdx-components_inline-code__y_QeQ\",\"children\":\"my message content\"}],\"。\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":[\"去「my-direct-queue」度接收訊息。\",\"\\n\",[\"$\",\"ol\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":[\"會收到 \",[\"$\",\"code\",null,{\"className\":\"undefined mdx-components_inline-code__y_QeQ\",\"children\":\"1\"}],\" 個訊息。\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"mdx-components_paragraph__AUxxF\",\"children\":[\"如果我地發送既時候唔用 \",[\"$\",\"code\",null,{\"className\":\"undefined mdx-components_inline-code__y_QeQ\",\"children\":\"foo\"}],\" 作為 routing key（唔輸入，或者輸入另一個值），佢就會彈出黃色底既 popup，寫住「Message published, but not routed.」，咁係因為冇一個 binding 既 binding key 係 match 到呢個 routing key。\"]}],\"\\n\",[\"$\",\"hr\",null,{\"className\":\"mdx-components_hr__o_oFr\"}],\"\\n\",[\"$\",\"a\",null,{\"href\":\"#34-測試-fanout-exchange\",\"style\":{\"textDecoration\":\"none\"},\"children\":[\"$\",\"h2\",null,{\"id\":\"34-測試-fanout-exchange\",\"className\":\"mdx-components_heading__HrNl3 mdx-components_heading-sub-section__AJ2JK\",\"style\":{\"zIndex\":3040000},\"children\":[[\"$\",\"i\",null,{\"className\":\"fa-solid fa-link mdx-components_heading-link__r6M6c\"}],\"3.4 測試 fanout exchange\"]}]}],\"\\n\",[\"$\",\"a\",null,{\"href\":\"#341-建立-fanout-exchange\",\"style\":{\"textDecoration\":\"none\"},\"children\":[\"$\",\"h3\",null,{\"id\":\"341-建立-fanout-exchange\",\"className\":\"mdx-components_heading__HrNl3 mdx-components_heading-sub-section__AJ2JK\",\"style\":{\"zIndex\":3040100},\"children\":[[\"$\",\"i\",null,{\"className\":\"fa-solid fa-link mdx-components_heading-link__r6M6c\"}],\"3.4.1 建立 fanout exchange\"]}]}],\"\\n\",[\"$\",\"ol\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":\"去 Exchanges。\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":\"打開「Add a new exchange」。\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":[\"輸入 Name，例如 \",[\"$\",\"code\",null,{\"className\":\"undefined mdx-components_inline-code__y_QeQ\",\"children\":\"my-fanout-exchange\"}],\"。\"]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":\"Type 揀「fanout」。\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":\"我地可以揀 Virtual host、Durability、Auto delete、Internal，亦可以由得佢用默認值。\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":\"Arguments 可以唔輸入。\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":\"撳「Add exchange」。\"}],\"\\n\"]}],\"\\n\",[\"$\",\"hr\",null,{\"className\":\"mdx-components_hr__o_oFr\"}],\"\\n\",[\"$\",\"a\",null,{\"href\":\"#342-建立-queue\",\"style\":{\"textDecoration\":\"none\"},\"children\":[\"$\",\"h3\",null,{\"id\":\"342-建立-queue\",\"className\":\"mdx-components_heading__HrNl3 mdx-components_heading-sub-section__AJ2JK\",\"style\":{\"zIndex\":3040200},\"children\":[[\"$\",\"i\",null,{\"className\":\"fa-solid fa-link mdx-components_heading-link__r6M6c\"}],\"3.4.2 建立 queue\"]}]}],\"\\n\",[\"$\",\"ol\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":[\"可以參考返上面建立 queue 既步驟。\",\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":[\"Name 可以輸入 \",[\"$\",\"code\",null,{\"className\":\"undefined mdx-components_inline-code__y_QeQ\",\"children\":\"my-fanout-queue\"}],\"。\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"hr\",null,{\"className\":\"mdx-components_hr__o_oFr\"}],\"\\n\",[\"$\",\"a\",null,{\"href\":\"#343-建立-binding\",\"style\":{\"textDecoration\":\"none\"},\"children\":[\"$\",\"h3\",null,{\"id\":\"343-建立-binding\",\"className\":\"mdx-components_heading__HrNl3 mdx-components_heading-sub-section__AJ2JK\",\"style\":{\"zIndex\":3040300},\"children\":[[\"$\",\"i\",null,{\"className\":\"fa-solid fa-link mdx-components_heading-link__r6M6c\"}],\"3.4.3 建立 binding\"]}]}],\"\\n\",[\"$\",\"ol\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":\"撳「my-fanout-queue」。\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":\"打開「Bindings (1)」。\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":[\"From exchange 輸入 \",[\"$\",\"code\",null,{\"className\":\"undefined mdx-components_inline-code__y_QeQ\",\"children\":\"my-fanout-exchange\"}],\"。\"]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":[\"Routing key 輸入 \",[\"$\",\"code\",null,{\"className\":\"undefined mdx-components_inline-code__y_QeQ\",\"children\":\"foo\"}],\"，或者唔輸入都得。\"]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":\"Arguments 可以唔輸入。\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":\"撳「Bind」。\"}],\"\\n\"]}],\"\\n\",[\"$\",\"hr\",null,{\"className\":\"mdx-components_hr__o_oFr\"}],\"\\n\",[\"$\",\"a\",null,{\"href\":\"#344-發送接收訊息\",\"style\":{\"textDecoration\":\"none\"},\"children\":[\"$\",\"h3\",null,{\"id\":\"344-發送接收訊息\",\"className\":\"mdx-components_heading__HrNl3 mdx-components_heading-sub-section__AJ2JK\",\"style\":{\"zIndex\":3040400},\"children\":[[\"$\",\"i\",null,{\"className\":\"fa-solid fa-link mdx-components_heading-link__r6M6c\"}],\"3.4.4 發送、接收訊息\"]}]}],\"\\n\",[\"$\",\"ol\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":[\"去「my-fanout-exchange」度發送訊息。\",\"\\n\",[\"$\",\"ol\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":\"Routing key、Headers、Properties 可以唔輸入。\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":[\"輸入 Payload，例如 \",[\"$\",\"code\",null,{\"className\":\"undefined mdx-components_inline-code__y_QeQ\",\"children\":\"my message content\"}],\"。\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":[\"去「my-fanout-queue」度接收訊息。\",\"\\n\",[\"$\",\"ol\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":[\"會收到 \",[\"$\",\"code\",null,{\"className\":\"undefined mdx-components_inline-code__y_QeQ\",\"children\":\"1\"}],\" 個訊息。\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"mdx-components_paragraph__AUxxF\",\"children\":[\"我地發送既時候用咩作為 routing key（輸入 \",[\"$\",\"code\",null,{\"className\":\"undefined mdx-components_inline-code__y_QeQ\",\"children\":\"foo\"}],\"、唔輸入，或者輸入另一個值），都一樣可以發送到訊息，咁係因為 fanout exchange 唔會理 routing key 或者 binding key。\"]}],\"\\n\",[\"$\",\"hr\",null,{\"className\":\"mdx-components_hr__o_oFr\"}],\"\\n\",[\"$\",\"a\",null,{\"href\":\"#35-測試-headers-exchange\",\"style\":{\"textDecoration\":\"none\"},\"children\":[\"$\",\"h2\",null,{\"id\":\"35-測試-headers-exchange\",\"className\":\"mdx-components_heading__HrNl3 mdx-components_heading-sub-section__AJ2JK\",\"style\":{\"zIndex\":3050000},\"children\":[[\"$\",\"i\",null,{\"className\":\"fa-solid fa-link mdx-components_heading-link__r6M6c\"}],\"3.5 測試 headers exchange\"]}]}],\"\\n\",[\"$\",\"a\",null,{\"href\":\"#351-建立-headers-exchange\",\"style\":{\"textDecoration\":\"none\"},\"children\":[\"$\",\"h3\",null,{\"id\":\"351-建立-headers-exchange\",\"className\":\"mdx-components_heading__HrNl3 mdx-components_heading-sub-section__AJ2JK\",\"style\":{\"zIndex\":3050100},\"children\":[[\"$\",\"i\",null,{\"className\":\"fa-solid fa-link mdx-components_heading-link__r6M6c\"}],\"3.5.1 建立 headers exchange\"]}]}],\"\\n\",[\"$\",\"ol\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":\"去 Exchanges。\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":\"打開「Add a new exchange」。\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":[\"輸入 Name，例如 \",[\"$\",\"code\",null,{\"className\":\"undefined mdx-components_inline-code__y_QeQ\",\"children\":\"my-headers-exchange\"}],\"。\"]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":\"Type 揀「headers」。\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":\"我地可以揀 Virtual host、Durability、Auto delete、Internal，亦可以由得佢用默認值。\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":\"Arguments 可以唔輸入。\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":\"撳「Add exchange」。\"}],\"\\n\"]}],\"\\n\",[\"$\",\"hr\",null,{\"className\":\"mdx-components_hr__o_oFr\"}],\"\\n\",[\"$\",\"a\",null,{\"href\":\"#352-建立-queue\",\"style\":{\"textDecoration\":\"none\"},\"children\":[\"$\",\"h3\",null,{\"id\":\"352-建立-queue\",\"className\":\"mdx-components_heading__HrNl3 mdx-components_heading-sub-section__AJ2JK\",\"style\":{\"zIndex\":3050200},\"children\":[[\"$\",\"i\",null,{\"className\":\"fa-solid fa-link mdx-components_heading-link__r6M6c\"}],\"3.5.2 建立 queue\"]}]}],\"\\n\",[\"$\",\"ol\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":[\"可以參考返上面建立 queue 既步驟。\",\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":[\"Name 可以輸入 \",[\"$\",\"code\",null,{\"className\":\"undefined mdx-components_inline-code__y_QeQ\",\"children\":\"my-headers-queue\"}],\"。\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"hr\",null,{\"className\":\"mdx-components_hr__o_oFr\"}],\"\\n\",[\"$\",\"a\",null,{\"href\":\"#353-建立-binding\",\"style\":{\"textDecoration\":\"none\"},\"children\":[\"$\",\"h3\",null,{\"id\":\"353-建立-binding\",\"className\":\"mdx-components_heading__HrNl3 mdx-components_heading-sub-section__AJ2JK\",\"style\":{\"zIndex\":3050300},\"children\":[[\"$\",\"i\",null,{\"className\":\"fa-solid fa-link mdx-components_heading-link__r6M6c\"}],\"3.5.3 建立 binding\"]}]}],\"\\n\",[\"$\",\"ol\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":\"撳「my-headers-queue」。\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":\"打開「Bindings (1)」。\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":[\"From exchange 輸入 \",[\"$\",\"code\",null,{\"className\":\"undefined mdx-components_inline-code__y_QeQ\",\"children\":\"my-headers-exchange\"}],\"。\"]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":\"Routing key 唔洗輸入。\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":[\"Arguments 輸入：\",\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":[[\"$\",\"code\",null,{\"className\":\"undefined mdx-components_inline-code__y_QeQ\",\"children\":\"h1\"}],\" = \",[\"$\",\"code\",null,{\"className\":\"undefined mdx-components_inline-code__y_QeQ\",\"children\":\"foo\"}],\"（\",[\"$\",\"code\",null,{\"className\":\"undefined mdx-components_inline-code__y_QeQ\",\"children\":\"String\"}],\"）\"]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":[[\"$\",\"code\",null,{\"className\":\"undefined mdx-components_inline-code__y_QeQ\",\"children\":\"h2\"}],\" = \",[\"$\",\"code\",null,{\"className\":\"undefined mdx-components_inline-code__y_QeQ\",\"children\":\"bar\"}],\"（\",[\"$\",\"code\",null,{\"className\":\"undefined mdx-components_inline-code__y_QeQ\",\"children\":\"String\"}],\"）\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":\"撳「Bind」。\"}],\"\\n\"]}],\"\\n\",[\"$\",\"hr\",null,{\"className\":\"mdx-components_hr__o_oFr\"}],\"\\n\",[\"$\",\"a\",null,{\"href\":\"#354-發送接收訊息\",\"style\":{\"textDecoration\":\"none\"},\"children\":[\"$\",\"h3\",null,{\"id\":\"354-發送接收訊息\",\"className\":\"mdx-components_heading__HrNl3 mdx-components_heading-sub-section__AJ2JK\",\"style\":{\"zIndex\":3050400},\"children\":[[\"$\",\"i\",null,{\"className\":\"fa-solid fa-link mdx-components_heading-link__r6M6c\"}],\"3.5.4 發送、接收訊息\"]}]}],\"\\n\",[\"$\",\"ol\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":[\"去「my-headers-exchange」度發送訊息。\",\"\\n\",[\"$\",\"ol\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":\"Routing key、Properties 可以唔輸入。\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":[\"Headers 輸入：\",\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":[[\"$\",\"code\",null,{\"className\":\"undefined mdx-components_inline-code__y_QeQ\",\"children\":\"h1\"}],\" = \",[\"$\",\"code\",null,{\"className\":\"undefined mdx-components_inline-code__y_QeQ\",\"children\":\"foo\"}],\"（\",[\"$\",\"code\",null,{\"className\":\"undefined mdx-components_inline-code__y_QeQ\",\"children\":\"String\"}],\"）\"]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":[[\"$\",\"code\",null,{\"className\":\"undefined mdx-components_inline-code__y_QeQ\",\"children\":\"h2\"}],\" = \",[\"$\",\"code\",null,{\"className\":\"undefined mdx-components_inline-code__y_QeQ\",\"children\":\"bar\"}],\"（\",[\"$\",\"code\",null,{\"className\":\"undefined mdx-components_inline-code__y_QeQ\",\"children\":\"String\"}],\"）\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":[\"輸入 Payload，例如 \",[\"$\",\"code\",null,{\"className\":\"undefined mdx-components_inline-code__y_QeQ\",\"children\":\"my message content\"}],\"。\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":[\"去「my-headers-queue」度接收訊息。\",\"\\n\",[\"$\",\"ol\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":[\"會收到 \",[\"$\",\"code\",null,{\"className\":\"undefined mdx-components_inline-code__y_QeQ\",\"children\":\"1\"}],\" 個訊息。\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"mdx-components_paragraph__AUxxF\",\"children\":\"如果我地發送既時候，headers 一定要 match 曬 binding 既 arguments，只要有任何一個唔 match，佢都會彈出黃色底既 popup，寫住「Message published, but not routed.」，咁係因為冇一個 binding 既 arguments 係 match 到呢個訊息既 headers。\"}],\"\\n\",[\"$\",\"hr\",null,{\"className\":\"mdx-components_hr__o_oFr\"}],\"\\n\",[\"$\",\"a\",null,{\"href\":\"#36-測試-topic-exchange\",\"style\":{\"textDecoration\":\"none\"},\"children\":[\"$\",\"h2\",null,{\"id\":\"36-測試-topic-exchange\",\"className\":\"mdx-components_heading__HrNl3 mdx-components_heading-sub-section__AJ2JK\",\"style\":{\"zIndex\":3060000},\"children\":[[\"$\",\"i\",null,{\"className\":\"fa-solid fa-link mdx-components_heading-link__r6M6c\"}],\"3.6 測試 topic exchange\"]}]}],\"\\n\",[\"$\",\"a\",null,{\"href\":\"#361-建立-topic-exchange\",\"style\":{\"textDecoration\":\"none\"},\"children\":[\"$\",\"h3\",null,{\"id\":\"361-建立-topic-exchange\",\"className\":\"mdx-components_heading__HrNl3 mdx-components_heading-sub-section__AJ2JK\",\"style\":{\"zIndex\":3060100},\"children\":[[\"$\",\"i\",null,{\"className\":\"fa-solid fa-link mdx-components_heading-link__r6M6c\"}],\"3.6.1 建立 topic exchange\"]}]}],\"\\n\",[\"$\",\"ol\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":\"去 Exchanges。\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":\"打開「Add a new exchange」。\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":[\"輸入 Name，例如 \",[\"$\",\"code\",null,{\"className\":\"undefined mdx-components_inline-code__y_QeQ\",\"children\":\"my-topic-exchange\"}],\"。\"]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":\"Type 揀「topic」。\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":\"我地可以揀 Virtual host、Durability、Auto delete、Internal，亦可以由得佢用默認值。\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":\"Arguments 可以唔輸入。\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":\"撳「Add exchange」。\"}],\"\\n\"]}],\"\\n\",[\"$\",\"hr\",null,{\"className\":\"mdx-components_hr__o_oFr\"}],\"\\n\",[\"$\",\"a\",null,{\"href\":\"#362-建立-queue\",\"style\":{\"textDecoration\":\"none\"},\"children\":[\"$\",\"h3\",null,{\"id\":\"362-建立-queue\",\"className\":\"mdx-components_heading__HrNl3 mdx-components_heading-sub-section__AJ2JK\",\"style\":{\"zIndex\":3060200},\"children\":[[\"$\",\"i\",null,{\"className\":\"fa-solid fa-link mdx-components_heading-link__r6M6c\"}],\"3.6.2 建立 queue\"]}]}],\"\\n\",[\"$\",\"ol\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":[\"可以參考返上面建立 queue 既步驟。\",\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":[\"Name 可以輸入 \",[\"$\",\"code\",null,{\"className\":\"undefined mdx-components_inline-code__y_QeQ\",\"children\":\"my-topic-queue\"}],\"。\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"hr\",null,{\"className\":\"mdx-components_hr__o_oFr\"}],\"\\n\",[\"$\",\"a\",null,{\"href\":\"#363-建立-binding\",\"style\":{\"textDecoration\":\"none\"},\"children\":[\"$\",\"h3\",null,{\"id\":\"363-建立-binding\",\"className\":\"mdx-components_heading__HrNl3 mdx-components_heading-sub-section__AJ2JK\",\"style\":{\"zIndex\":3060300},\"children\":[[\"$\",\"i\",null,{\"className\":\"fa-solid fa-link mdx-components_heading-link__r6M6c\"}],\"3.6.3 建立 binding\"]}]}],\"\\n\",[\"$\",\"ol\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":\"撳「my-topic-queue」。\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":\"打開「Bindings (1)」。\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":[\"From exchange 輸入 \",[\"$\",\"code\",null,{\"className\":\"undefined mdx-components_inline-code__y_QeQ\",\"children\":\"my-topic-exchange\"}],\"。\"]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":[\"Routing key 輸入 \",[\"$\",\"code\",null,{\"className\":\"undefined mdx-components_inline-code__y_QeQ\",\"children\":\"foo.#\"}],\"。\"]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":\"Arguments 可以唔輸入。\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":\"撳「Bind」。\"}],\"\\n\"]}],\"\\n\",[\"$\",\"hr\",null,{\"className\":\"mdx-components_hr__o_oFr\"}],\"\\n\",[\"$\",\"a\",null,{\"href\":\"#364-發送接收訊息\",\"style\":{\"textDecoration\":\"none\"},\"children\":[\"$\",\"h3\",null,{\"id\":\"364-發送接收訊息\",\"className\":\"mdx-components_heading__HrNl3 mdx-components_heading-sub-section__AJ2JK\",\"style\":{\"zIndex\":3060400},\"children\":[[\"$\",\"i\",null,{\"className\":\"fa-solid fa-link mdx-components_heading-link__r6M6c\"}],\"3.6.4 發送、接收訊息\"]}]}],\"\\n\",[\"$\",\"ol\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":[\"去「my-topic-exchange」度發送訊息。\",\"\\n\",[\"$\",\"ol\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":[\"Routing key 輸入 \",[\"$\",\"code\",null,{\"className\":\"undefined mdx-components_inline-code__y_QeQ\",\"children\":\"foo.123\"}],\"（要係一個 match 到 \",[\"$\",\"code\",null,{\"className\":\"undefined mdx-components_inline-code__y_QeQ\",\"children\":\"foo.#\"}],\" 接受既值）。\"]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":\"Headers、Properties 可以唔輸入。\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":[\"輸入 Payload，例如 \",[\"$\",\"code\",null,{\"className\":\"undefined mdx-components_inline-code__y_QeQ\",\"children\":\"my message content\"}],\"。\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":[\"去「my-topic-queue」度接收訊息。\",\"\\n\",[\"$\",\"ol\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":[\"會收到 \",[\"$\",\"code\",null,{\"className\":\"undefined mdx-components_inline-code__y_QeQ\",\"children\":\"1\"}],\" 個訊息。\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"mdx-components_paragraph__AUxxF\",\"children\":\"如果我地發送既時候唔用 match 到個 binding key 既值作為 routing key（唔輸入，或者輸入唔 match 既值），佢就會彈出黃色底既 popup，寫住「Message published, but not routed.」，咁係因為冇一個 binding 既 binding key 係 match 到呢個 routing key。\"}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"mdx-components_paragraph__AUxxF\",\"children\":[\"✅ \",[\"$\",\"code\",null,{\"className\":\"undefined mdx-components_inline-code__y_QeQ\",\"children\":\"foo.#\"}],\" binding key 接受既 routing key 例子：\"]}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":[[\"$\",\"code\",null,{\"className\":\"undefined mdx-components_inline-code__y_QeQ\",\"children\":\"foo\"}],\"、\",[\"$\",\"code\",null,{\"className\":\"undefined mdx-components_inline-code__y_QeQ\",\"children\":\"foo.\"}],\"、\",[\"$\",\"code\",null,{\"className\":\"undefined mdx-components_inline-code__y_QeQ\",\"children\":\"foo..\"}],\"、\",[\"$\",\"code\",null,{\"className\":\"undefined mdx-components_inline-code__y_QeQ\",\"children\":\"foo.#\"}],\"、\",[\"$\",\"code\",null,{\"className\":\"undefined mdx-components_inline-code__y_QeQ\",\"children\":\"foo.1\"}],\"、\",[\"$\",\"code\",null,{\"className\":\"undefined mdx-components_inline-code__y_QeQ\",\"children\":\"foo.a\"}],\"、\",[\"$\",\"code\",null,{\"className\":\"undefined mdx-components_inline-code__y_QeQ\",\"children\":\"foo.abc\"}]]}],\"\\n\"]}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"mdx-components_paragraph__AUxxF\",\"children\":[\"❌ \",[\"$\",\"code\",null,{\"className\":\"undefined mdx-components_inline-code__y_QeQ\",\"children\":\"foo.#\"}],\" binding key 唔接受既 routing key 例子：\"]}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":\"唔輸入\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":[[\"$\",\"code\",null,{\"className\":\"undefined mdx-components_inline-code__y_QeQ\",\"children\":\"bar.\"}],\"、\",[\"$\",\"code\",null,{\"className\":\"undefined mdx-components_inline-code__y_QeQ\",\"children\":\"bar.123\"}]]}],\"\\n\"]}],\"\\n\",[\"$\",\"hr\",null,{\"className\":\"mdx-components_hr__o_oFr\"}],\"\\n\",[\"$\",\"a\",null,{\"href\":\"#37-測試-dead-letter-exchange\",\"style\":{\"textDecoration\":\"none\"},\"children\":[\"$\",\"h2\",null,{\"id\":\"37-測試-dead-letter-exchange\",\"className\":\"mdx-components_heading__HrNl3 mdx-components_heading-sub-section__AJ2JK\",\"style\":{\"zIndex\":3070000},\"children\":[[\"$\",\"i\",null,{\"className\":\"fa-solid fa-link mdx-components_heading-link__r6M6c\"}],\"3.7 測試 dead letter exchange\"]}]}],\"\\n\",[\"$\",\"a\",null,{\"href\":\"#371-建立-business-exchange\",\"style\":{\"textDecoration\":\"none\"},\"children\":[\"$\",\"h3\",null,{\"id\":\"371-建立-business-exchange\",\"className\":\"mdx-components_heading__HrNl3 mdx-components_heading-sub-section__AJ2JK\",\"style\":{\"zIndex\":3070100},\"children\":[[\"$\",\"i\",null,{\"className\":\"fa-solid fa-link mdx-components_heading-link__r6M6c\"}],\"3.7.1 建立 business exchange\"]}]}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":[\"Name：\",[\"$\",\"code\",null,{\"className\":\"undefined mdx-components_inline-code__y_QeQ\",\"children\":\"biz-exchange\"}]]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":[\"Type：\",[\"$\",\"code\",null,{\"className\":\"undefined mdx-components_inline-code__y_QeQ\",\"children\":\"direct\"}]]}],\"\\n\"]}],\"\\n\",[\"$\",\"hr\",null,{\"className\":\"mdx-components_hr__o_oFr\"}],\"\\n\",[\"$\",\"a\",null,{\"href\":\"#372-建立-business-queue\",\"style\":{\"textDecoration\":\"none\"},\"children\":[\"$\",\"h3\",null,{\"id\":\"372-建立-business-queue\",\"className\":\"mdx-components_heading__HrNl3 mdx-components_heading-sub-section__AJ2JK\",\"style\":{\"zIndex\":3070200},\"children\":[[\"$\",\"i\",null,{\"className\":\"fa-solid fa-link mdx-components_heading-link__r6M6c\"}],\"3.7.2 建立 business queue\"]}]}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":[\"Name：\",[\"$\",\"code\",null,{\"className\":\"undefined mdx-components_inline-code__y_QeQ\",\"children\":\"biz-queue\"}]]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":[\"Arguments\",\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":[[\"$\",\"code\",null,{\"className\":\"undefined mdx-components_inline-code__y_QeQ\",\"children\":\"x-dead-letter-exchange\"}],\"：\",[\"$\",\"code\",null,{\"className\":\"undefined mdx-components_inline-code__y_QeQ\",\"children\":\"my-dlx\"}]]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":[[\"$\",\"code\",null,{\"className\":\"undefined mdx-components_inline-code__y_QeQ\",\"children\":\"x-dead-letter-routing-key\"}],\"：\",[\"$\",\"code\",null,{\"className\":\"undefined mdx-components_inline-code__y_QeQ\",\"children\":\"my-dlkey\"}]]}],\"\\n\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"hr\",null,{\"className\":\"mdx-components_hr__o_oFr\"}],\"\\n\",[\"$\",\"a\",null,{\"href\":\"#373-建立-business-binding\",\"style\":{\"textDecoration\":\"none\"},\"children\":[\"$\",\"h3\",null,{\"id\":\"373-建立-business-binding\",\"className\":\"mdx-components_heading__HrNl3 mdx-components_heading-sub-section__AJ2JK\",\"style\":{\"zIndex\":3070300},\"children\":[[\"$\",\"i\",null,{\"className\":\"fa-solid fa-link mdx-components_heading-link__r6M6c\"}],\"3.7.3 建立 business binding\"]}]}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":[\"Exchange：\",[\"$\",\"code\",null,{\"className\":\"undefined mdx-components_inline-code__y_QeQ\",\"children\":\"biz-exchange\"}]]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":[\"Queue：\",[\"$\",\"code\",null,{\"className\":\"undefined mdx-components_inline-code__y_QeQ\",\"children\":\"biz-queue\"}]]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":[\"Binding key：\",[\"$\",\"code\",null,{\"className\":\"undefined mdx-components_inline-code__y_QeQ\",\"children\":\"biz-key\"}]]}],\"\\n\"]}],\"\\n\",[\"$\",\"hr\",null,{\"className\":\"mdx-components_hr__o_oFr\"}],\"\\n\",[\"$\",\"a\",null,{\"href\":\"#374-建立-dead-letter-exchange\",\"style\":{\"textDecoration\":\"none\"},\"children\":[\"$\",\"h3\",null,{\"id\":\"374-建立-dead-letter-exchange\",\"className\":\"mdx-components_heading__HrNl3 mdx-components_heading-sub-section__AJ2JK\",\"style\":{\"zIndex\":3070400},\"children\":[[\"$\",\"i\",null,{\"className\":\"fa-solid fa-link mdx-components_heading-link__r6M6c\"}],\"3.7.4 建立 dead letter exchange\"]}]}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":[\"Name：\",[\"$\",\"code\",null,{\"className\":\"undefined mdx-components_inline-code__y_QeQ\",\"children\":\"my-dlx\"}]]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":[\"Type：\",[\"$\",\"code\",null,{\"className\":\"undefined mdx-components_inline-code__y_QeQ\",\"children\":\"direct\"}]]}],\"\\n\"]}],\"\\n\",[\"$\",\"hr\",null,{\"className\":\"mdx-components_hr__o_oFr\"}],\"\\n\",[\"$\",\"a\",null,{\"href\":\"#375-建立-dead-letter-queue\",\"style\":{\"textDecoration\":\"none\"},\"children\":[\"$\",\"h3\",null,{\"id\":\"375-建立-dead-letter-queue\",\"className\":\"mdx-components_heading__HrNl3 mdx-components_heading-sub-section__AJ2JK\",\"style\":{\"zIndex\":3070500},\"children\":[[\"$\",\"i\",null,{\"className\":\"fa-solid fa-link mdx-components_heading-link__r6M6c\"}],\"3.7.5 建立 dead letter queue\"]}]}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":[\"Name：\",[\"$\",\"code\",null,{\"className\":\"undefined mdx-components_inline-code__y_QeQ\",\"children\":\"my-dlq\"}]]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":[\"Arguments（可選）\",\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":[[\"$\",\"code\",null,{\"className\":\"undefined mdx-components_inline-code__y_QeQ\",\"children\":\"x-dead-letter-exchange\"}],\"：\",[\"$\",\"code\",null,{\"className\":\"undefined mdx-components_inline-code__y_QeQ\",\"children\":\"biz-exchange\"}],\"（\",[\"$\",\"code\",null,{\"className\":\"undefined mdx-components_inline-code__y_QeQ\",\"children\":\"String\"}],\"）\"]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":[[\"$\",\"code\",null,{\"className\":\"undefined mdx-components_inline-code__y_QeQ\",\"children\":\"x-dead-letter-routing-key\"}],\"：\",[\"$\",\"code\",null,{\"className\":\"undefined mdx-components_inline-code__y_QeQ\",\"children\":\"biz-key\"}],\"（\",[\"$\",\"code\",null,{\"className\":\"undefined mdx-components_inline-code__y_QeQ\",\"children\":\"String\"}],\"）\"]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":[[\"$\",\"code\",null,{\"className\":\"undefined mdx-components_inline-code__y_QeQ\",\"children\":\"x-message-ttl\"}],\"：\",[\"$\",\"code\",null,{\"className\":\"undefined mdx-components_inline-code__y_QeQ\",\"children\":\"10000\"}],\"（\",[\"$\",\"code\",null,{\"className\":\"undefined mdx-components_inline-code__y_QeQ\",\"children\":\"Number\"}],\"）（等於 \",[\"$\",\"code\",null,{\"className\":\"undefined mdx-components_inline-code__y_QeQ\",\"children\":\"10\"}],\" 秒）\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"hr\",null,{\"className\":\"mdx-components_hr__o_oFr\"}],\"\\n\",[\"$\",\"a\",null,{\"href\":\"#376-建立-dead-letter-binding\",\"style\":{\"textDecoration\":\"none\"},\"children\":[\"$\",\"h3\",null,{\"id\":\"376-建立-dead-letter-binding\",\"className\":\"mdx-components_heading__HrNl3 mdx-components_heading-sub-section__AJ2JK\",\"style\":{\"zIndex\":3070600},\"children\":[[\"$\",\"i\",null,{\"className\":\"fa-solid fa-link mdx-components_heading-link__r6M6c\"}],\"3.7.6 建立 dead letter binding\"]}]}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":[\"Exchange：\",[\"$\",\"code\",null,{\"className\":\"undefined mdx-components_inline-code__y_QeQ\",\"children\":\"my-dlx\"}]]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":[\"Queue：\",[\"$\",\"code\",null,{\"className\":\"undefined mdx-components_inline-code__y_QeQ\",\"children\":\"my-dlq\"}]]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":[\"Binding key：\",[\"$\",\"code\",null,{\"className\":\"undefined mdx-components_inline-code__y_QeQ\",\"children\":\"my-dlkey\"}]]}],\"\\n\"]}],\"\\n\",[\"$\",\"hr\",null,{\"className\":\"mdx-components_hr__o_oFr\"}],\"\\n\",[\"$\",\"a\",null,{\"href\":\"#377-發送接收訊息\",\"style\":{\"textDecoration\":\"none\"},\"children\":[\"$\",\"h3\",null,{\"id\":\"377-發送接收訊息\",\"className\":\"mdx-components_heading__HrNl3 mdx-components_heading-sub-section__AJ2JK\",\"style\":{\"zIndex\":3070700},\"children\":[[\"$\",\"i\",null,{\"className\":\"fa-solid fa-link mdx-components_heading-link__r6M6c\"}],\"3.7.7 發送、接收訊息\"]}]}],\"\\n\",[\"$\",\"ol\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":[\"去「biz-exchange」度發送訊息。\",\"\\n\",[\"$\",\"ol\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":[\"Routing key 輸入 \",[\"$\",\"code\",null,{\"className\":\"undefined mdx-components_inline-code__y_QeQ\",\"children\":\"biz-key\"}],\"。\"]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":\"Headers、Properties 可以唔輸入。\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":[\"輸入 Payload，例如 \",[\"$\",\"code\",null,{\"className\":\"undefined mdx-components_inline-code__y_QeQ\",\"children\":\"my message content\"}],\"。\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":[\"去「biz-queue」度接收訊息。\",\"\\n\",[\"$\",\"ol\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":\"Ack mode 揀「Reject requeue false」。\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":[\"會收到 \",[\"$\",\"code\",null,{\"className\":\"undefined mdx-components_inline-code__y_QeQ\",\"children\":\"1\"}],\" 個訊息。\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":[\"去「my-dlq」度接收訊息。\",\"\\n\",[\"$\",\"ol\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":\"Ack mode 揀「Nack message requeue true」。\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":[\"會收到 \",[\"$\",\"code\",null,{\"className\":\"undefined mdx-components_inline-code__y_QeQ\",\"children\":\"1\"}],\" 個訊息。\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"mdx-components_paragraph__AUxxF\",\"children\":\"如果 dead letter queue 有設定度可選既 arguments：\"}],\"\\n\",[\"$\",\"ol\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":[\"等幾秒（message TTL 係 \",[\"$\",\"code\",null,{\"className\":\"undefined mdx-components_inline-code__y_QeQ\",\"children\":\"10\"}],\" 秒）。\"]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":[\"去「biz-queue」度接收訊息。\",\"\\n\",[\"$\",\"ol\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":\"Ack mode 揀「Nack message requeue true」。\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":[\"會收到 \",[\"$\",\"code\",null,{\"className\":\"undefined mdx-components_inline-code__y_QeQ\",\"children\":\"1\"}],\" 個訊息。\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"mdx-components_paragraph__AUxxF\",\"children\":\"解釋：\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":[\"上面既例子可以達到 retry dead letter queue 裡面既訊息既效果。\",\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":\"當訊息喺「biz-queue」度接收失敗，被轉移到「my-dlx」然後再到「my-dlq」之後，經過一段時間，當 message TTL 過期既時候，訊息又會自動被轉移到「biz-exchange」然後再到「biz-queue」。\"}],\"\\n\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"hr\",null,{\"className\":\"mdx-components_hr__o_oFr\"}],\"\\n\",[\"$\",\"a\",null,{\"href\":\"#4-筆記\",\"style\":{\"textDecoration\":\"none\"},\"children\":[\"$\",\"h1\",null,{\"id\":\"4-筆記\",\"className\":\"mdx-components_heading__HrNl3 mdx-components_heading-new-section__YU39B\",\"style\":{\"zIndex\":4000000},\"children\":[[\"$\",\"i\",null,{\"className\":\"fa-solid fa-link mdx-components_heading-link__r6M6c\"}],\"4 筆記\"]}]}],\"\\n\",[\"$\",\"a\",null,{\"href\":\"#41-exchange-選項\",\"style\":{\"textDecoration\":\"none\"},\"children\":[\"$\",\"h2\",null,{\"id\":\"41-exchange-選項\",\"className\":\"mdx-components_heading__HrNl3 mdx-components_heading-sub-section__AJ2JK\",\"style\":{\"zIndex\":4010000},\"children\":[[\"$\",\"i\",null,{\"className\":\"fa-solid fa-link mdx-components_heading-link__r6M6c\"}],\"4.1 Exchange 選項\"]}]}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"mdx-components_table-outer-wrapper__npuxp\",\"children\":[\"$\",\"div\",null,{\"className\":\"mdx-components_table-wrapper__0GcvD\",\"children\":[\"$\",\"table\",null,{\"className\":\"mdx-components_table__bAy19\",\"children\":[[\"$\",\"thead\",null,{\"children\":[\"$\",\"tr\",null,{\"children\":[[\"$\",\"th\",null,{\"children\":\"選項\"}],[\"$\",\"th\",null,{\"children\":\"解釋\"}]]}]}],[\"$\",\"tbody\",null,{\"children\":[[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"children\":\"Durable\"}],[\"$\",\"td\",null,{\"children\":\"個 exchange 會喺 RabbitMQ 重新啟動之後都繼續存在。\"}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"children\":\"Auto-delete\"}],[\"$\",\"td\",null,{\"children\":\"當最後一個 binding 被解除，RabbitMQ 就會自動刪除呢個 exchange。\"}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"children\":\"Direct type\"}],[\"$\",\"td\",null,{\"children\":\"Binding key 會係 exact match。\"}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"children\":\"Fanout type\"}],[\"$\",\"td\",null,{\"children\":\"唔需要 binding key，就算提供左都冇用，所有 bind 左既 queues 都必定會收到所有訊息。\"}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"children\":\"Headers type\"}],[\"$\",\"td\",null,{\"children\":\"用特定既 key-value arguments 黎 match。\"}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"children\":\"Topic type\"}],[\"$\",\"td\",null,{\"children\":[\"Binding key 可以係 exact match，亦可以運用 wildcard characters——\",[\"$\",\"code\",null,{\"className\":\"undefined mdx-components_inline-code__y_QeQ\",\"children\":\"*\"}],\" 代表 wildcard 單字；\",[\"$\",\"code\",null,{\"className\":\"undefined mdx-components_inline-code__y_QeQ\",\"children\":\"#\"}],\" 代表 wildcard 任意長度（\",[\"$\",\"code\",null,{\"className\":\"undefined mdx-components_inline-code__y_QeQ\",\"children\":\"0\"}],\" 至 \",[\"$\",\"code\",null,{\"className\":\"undefined mdx-components_inline-code__y_QeQ\",\"children\":\"N\"}],\"）既文字。\"]}]]}]]}]]}]}]}],\"\\n\",[\"$\",\"hr\",null,{\"className\":\"mdx-components_hr__o_oFr\"}],\"\\n\",[\"$\",\"a\",null,{\"href\":\"#42-queue-選項\",\"style\":{\"textDecoration\":\"none\"},\"children\":[\"$\",\"h2\",null,{\"id\":\"42-queue-選項\",\"className\":\"mdx-components_heading__HrNl3 mdx-components_heading-sub-section__AJ2JK\",\"style\":{\"zIndex\":4020000},\"children\":[[\"$\",\"i\",null,{\"className\":\"fa-solid fa-link mdx-components_heading-link__r6M6c\"}],\"4.2 Queue 選項\"]}]}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"mdx-components_table-outer-wrapper__npuxp\",\"children\":[\"$\",\"div\",null,{\"className\":\"mdx-components_table-wrapper__0GcvD\",\"children\":[\"$\",\"table\",null,{\"className\":\"mdx-components_table__bAy19\",\"children\":[[\"$\",\"thead\",null,{\"children\":[\"$\",\"tr\",null,{\"children\":[[\"$\",\"th\",null,{\"children\":\"選項\"}],[\"$\",\"th\",null,{\"children\":\"解釋\"}]]}]}],[\"$\",\"tbody\",null,{\"children\":[[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"children\":\"Durable\"}],[\"$\",\"td\",null,{\"children\":\"個 queue 會喺 RabbitMQ 重新啟動之後都繼續存在。\"}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"children\":\"Auto-delete\"}],[\"$\",\"td\",null,{\"children\":\"當最後一個 consumer cancel 或者 disconnect 左，RabbitMQ 就會自動刪除呢個 queue。\"}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"children\":\"Exclusive\"}],[\"$\",\"td\",null,{\"children\":\"當佢所屬既 connection close 左，RabbitMQ 就會自動刪除呢個 queue。\"}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"children\":[\"Message TTL（\",[\"$\",\"code\",null,{\"className\":\"undefined mdx-components_inline-code__y_QeQ\",\"children\":\"x-message-ttl\"}],\" arg）\"]}],[\"$\",\"td\",null,{\"children\":\"Queue level 既 time-to-live，一個訊息如果超過呢個時間就會 expire，consumers 唔會收到已經 expire 左既訊息。如果有 dead letter exchange 既 args，當訊息喺 head 位置，RabbitMQ 就會將佢轉移去 dead letter exchange。\"}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"children\":[\"Auto-expire（\",[\"$\",\"code\",null,{\"className\":\"undefined mdx-components_inline-code__y_QeQ\",\"children\":\"x-expires\"}],\" arg）\"]}],[\"$\",\"td\",null,{\"children\":[\"數值係 millisecond 數字（\",[\"$\",\"code\",null,{\"className\":\"undefined mdx-components_inline-code__y_QeQ\",\"children\":\"5000\"}],\" 等於 \",[\"$\",\"code\",null,{\"className\":\"undefined mdx-components_inline-code__y_QeQ\",\"children\":\"5\"}],\" 秒）。當冇任何 consumer 連接住呢個 queue（一建立 queue 既時候都算），RabbitMQ 就會開始計時，一到左時間，RabbitMQ 就會自動刪除呢個 queue。\"]}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"children\":[\"Single active consumer（\",[\"$\",\"code\",null,{\"className\":\"undefined mdx-components_inline-code__y_QeQ\",\"children\":\"x-single-active-consumer\"}],\" arg）\"]}],[\"$\",\"td\",null,{\"children\":\"如果我地既訊息一定要按入 queue 既先後次序處理，如果想保持住多個相同 consumer 既 app instances，咁我地可以用 single active consumer 選項，咁所有訊息都只會傳遞到同一個 consumer，保證處理訊息既先後次序。\"}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"children\":[\"Dead letter exchange（\",[\"$\",\"code\",null,{\"className\":\"undefined mdx-components_inline-code__y_QeQ\",\"children\":\"x-dead-letter-exchange\"}],\"）\"]}],[\"$\",\"td\",null,{\"children\":\"如果傳遞失敗，RabbitMQ 可能會將佢轉移到呢個 dead letter exchange。\"}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"children\":[\"Dead letter routing key（\",[\"$\",\"code\",null,{\"className\":\"undefined mdx-components_inline-code__y_QeQ\",\"children\":\"x-dead-letter-routing-key\"}],\"）\"]}],[\"$\",\"td\",null,{\"children\":\"RabbitMQ 將訊息轉移到 dead letter exchange 既時候會用既 routing key。\"}]]}]]}]]}]}]}],\"\\n\",[\"$\",\"hr\",null,{\"className\":\"mdx-components_hr__o_oFr\"}],\"\\n\",[\"$\",\"a\",null,{\"href\":\"#43-binding-選項\",\"style\":{\"textDecoration\":\"none\"},\"children\":[\"$\",\"h2\",null,{\"id\":\"43-binding-選項\",\"className\":\"mdx-components_heading__HrNl3 mdx-components_heading-sub-section__AJ2JK\",\"style\":{\"zIndex\":4030000},\"children\":[[\"$\",\"i\",null,{\"className\":\"fa-solid fa-link mdx-components_heading-link__r6M6c\"}],\"4.3 Binding 選項\"]}]}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"mdx-components_table-outer-wrapper__npuxp\",\"children\":[\"$\",\"div\",null,{\"className\":\"mdx-components_table-wrapper__0GcvD\",\"children\":[\"$\",\"table\",null,{\"className\":\"mdx-components_table__bAy19\",\"children\":[[\"$\",\"thead\",null,{\"children\":[\"$\",\"tr\",null,{\"children\":[[\"$\",\"th\",null,{\"children\":\"選項\"}],[\"$\",\"th\",null,{\"children\":\"解釋\"}]]}]}],[\"$\",\"tbody\",null,{\"children\":[[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"children\":\"Binding key（或者 routing key）\"}],[\"$\",\"td\",null,{\"children\":[\"提供 filter 訊息既作用。一個訊息如果要由 exchange \",[\"$\",\"code\",null,{\"className\":\"undefined mdx-components_inline-code__y_QeQ\",\"children\":\"X1\"}],\" 去到 queue \",[\"$\",\"code\",null,{\"className\":\"undefined mdx-components_inline-code__y_QeQ\",\"children\":\"Q1\"}],\"，呢個訊息既 routing key 一定要 match 到 \",[\"$\",\"code\",null,{\"className\":\"undefined mdx-components_inline-code__y_QeQ\",\"children\":\"Q1\"}],\" 同 \",[\"$\",\"code\",null,{\"className\":\"undefined mdx-components_inline-code__y_QeQ\",\"children\":\"X1\"}],\" 之間既 binding 既 binding key。我地應該根據 exchange type 去輸入符合我地需要既 binding key。\"]}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"children\":\"Arguments\"}],[\"$\",\"td\",null,{\"children\":\"用喺 headers exchange 既 bindings 度，只有 match 到曬所有 arguments 既值既訊息先會 route 到去個 queue 度。\"}]]}]]}]]}]}]}],\"\\n\",[\"$\",\"hr\",null,{\"className\":\"mdx-components_hr__o_oFr\"}],\"\\n\",[\"$\",\"a\",null,{\"href\":\"#44-訊息發送選項\",\"style\":{\"textDecoration\":\"none\"},\"children\":[\"$\",\"h2\",null,{\"id\":\"44-訊息發送選項\",\"className\":\"mdx-components_heading__HrNl3 mdx-components_heading-sub-section__AJ2JK\",\"style\":{\"zIndex\":4040000},\"children\":[[\"$\",\"i\",null,{\"className\":\"fa-solid fa-link mdx-components_heading-link__r6M6c\"}],\"4.4 訊息發送選項\"]}]}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"mdx-components_table-outer-wrapper__npuxp\",\"children\":[\"$\",\"div\",null,{\"className\":\"mdx-components_table-wrapper__0GcvD\",\"children\":[\"$\",\"table\",null,{\"className\":\"mdx-components_table__bAy19\",\"children\":[[\"$\",\"thead\",null,{\"children\":[\"$\",\"tr\",null,{\"children\":[[\"$\",\"th\",null,{\"children\":\"選項\"}],[\"$\",\"th\",null,{\"children\":\"解釋\"}]]}]}],[\"$\",\"tbody\",null,{\"children\":[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"children\":\"Delivery mode\"}],[\"$\",\"td\",null,{\"children\":[\"Persistent（\",[\"$\",\"code\",null,{\"className\":\"undefined mdx-components_inline-code__y_QeQ\",\"children\":\"1\"}],\"）會先寫落 persistent storage（disk），如果 RabbitMQ crash 左既話都會喺返度。Non-persistent（\",[\"$\",\"code\",null,{\"className\":\"undefined mdx-components_inline-code__y_QeQ\",\"children\":\"2\"}],\"）就唔會寫落 disk。\"]}]]}]}]]}]}]}],\"\\n\",[\"$\",\"hr\",null,{\"className\":\"mdx-components_hr__o_oFr\"}],\"\\n\",[\"$\",\"a\",null,{\"href\":\"#45-訊息接收選項\",\"style\":{\"textDecoration\":\"none\"},\"children\":[\"$\",\"h2\",null,{\"id\":\"45-訊息接收選項\",\"className\":\"mdx-components_heading__HrNl3 mdx-components_heading-sub-section__AJ2JK\",\"style\":{\"zIndex\":4050000},\"children\":[[\"$\",\"i\",null,{\"className\":\"fa-solid fa-link mdx-components_heading-link__r6M6c\"}],\"4.5 訊息接收選項\"]}]}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"mdx-components_table-outer-wrapper__npuxp\",\"children\":[\"$\",\"div\",null,{\"className\":\"mdx-components_table-wrapper__0GcvD\",\"children\":[\"$\",\"table\",null,{\"className\":\"mdx-components_table__bAy19\",\"children\":[[\"$\",\"thead\",null,{\"children\":[\"$\",\"tr\",null,{\"children\":[[\"$\",\"th\",null,{\"children\":\"選項\"}],[\"$\",\"th\",null,{\"children\":\"解釋\"}]]}]}],[\"$\",\"tbody\",null,{\"children\":[[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"children\":\"Reject\"}],[\"$\",\"td\",null,{\"children\":\"係 AMQP 既標準，用黎拒絕單一訊息。\"}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"children\":\"Nack\"}],[\"$\",\"td\",null,{\"children\":\"Negative acknowledgement 係 RabbitMQ 獨有既功能，可以同時拒絕對多個訊息。\"}]]}]]}]]}]}]}],\"\\n\",[\"$\",\"hr\",null,{\"className\":\"mdx-components_hr__o_oFr\"}],\"\\n\",[\"$\",\"a\",null,{\"href\":\"#5-參考資料\",\"style\":{\"textDecoration\":\"none\"},\"children\":[\"$\",\"h1\",null,{\"id\":\"5-參考資料\",\"className\":\"mdx-components_heading__HrNl3 mdx-components_heading-new-section__YU39B\",\"style\":{\"zIndex\":5000000},\"children\":[[\"$\",\"i\",null,{\"className\":\"fa-solid fa-link mdx-components_heading-link__r6M6c\"}],\"5 參考資料\"]}]}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":[\"$\",\"span\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"https://www.rabbitmq.com/docs/nack\",\"target\":\"_blank\",\"rel\":\"external nofollow noopener noreferrer\",\"className\":\"common_anchor__kGNsN\",\"children\":\"RabbitMQ 官方文檔 - Negative Acknowledgements\"}]}]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":[\"$\",\"span\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"https://www.rabbitmq.com/docs/ttl\",\"target\":\"_blank\",\"rel\":\"external nofollow noopener noreferrer\",\"className\":\"common_anchor__kGNsN\",\"children\":\"RabbitMQ 官方文檔 - Time-to-Live and Expiration\"}]}]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mdx-components_list-item__fJ1NL\",\"children\":[\"$\",\"span\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"https://www.rabbitmq.com/docs/dlx\",\"target\":\"_blank\",\"rel\":\"external nofollow noopener noreferrer\",\"className\":\"common_anchor__kGNsN\",\"children\":\"RabbitMQ 官方文檔 - Dead Letter Exchanges\"}]}]}],\"\\n\"]}]],[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/e2-next/_next/static/css/caf337e7effc00c7.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"$Lc\",null,{\"children\":\"$Ld\"}]]}],{},null,false]},null,false]},null,false]},null,false]},null,false]},null,false],[\"$\",\"$1\",\"h\",{\"children\":[null,[\"$\",\"$1\",\"WFwgdH0UNVoSxuPhQ12Ee\",{\"children\":[[\"$\",\"$Le\",null,{\"children\":\"$Lf\"}],[\"$\",\"$L10\",null,{\"children\":\"$L11\"}],null]}]]}],false]],\"m\":\"$undefined\",\"G\":[\"$12\",\"$undefined\"],\"s\":false,\"S\":true}\n"])</script><script>self.__next_f.push([1,"b:{}\n"])</script><script>self.__next_f.push([1,"11:[[\"$\",\"meta\",\"0\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\nf:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"1\",{\"children\":\"Blog posts\"}],[\"$\",\"meta\",\"2\",{\"name\":\"description\",\"content\":\"Powered by Next.js and React\"}],[\"$\",\"link\",\"3\",{\"rel\":\"icon\",\"href\":\"/e2-next/favicon.ico\",\"type\":\"image/x-icon\",\"sizes\":\"48x48\"}]]\n"])</script><script>self.__next_f.push([1,"d:null\n"])</script></body></html>