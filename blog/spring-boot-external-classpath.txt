1:"$Sreact.fragment"
2:I[8287,["7833","static/chunks/7833-0781b4db521d8fdc.js","7177","static/chunks/app/layout-3655101740c91656.js"],"default"]
3:I[3339,["8974","static/chunks/app/page-63c121085425a904.js"],"default"]
4:I[2963,["7833","static/chunks/7833-0781b4db521d8fdc.js","7177","static/chunks/app/layout-3655101740c91656.js"],"default"]
5:I[7680,["7833","static/chunks/7833-0781b4db521d8fdc.js","7177","static/chunks/app/layout-3655101740c91656.js"],"default"]
6:I[5244,[],""]
7:I[3866,[],""]
8:I[6486,["7833","static/chunks/7833-0781b4db521d8fdc.js","7177","static/chunks/app/layout-3655101740c91656.js"],"default"]
9:I[4547,[],"ClientSegmentRoot"]
a:I[5211,["586","static/chunks/13b76428-e7d338032a603c0d.js","5359","static/chunks/5359-675461b1f0288e4b.js","8329","static/chunks/app/blog/(blogPosts)/layout-64da3a29d6417a80.js"],"default"]
c:I[6213,[],"OutletBoundary"]
e:I[6213,[],"MetadataBoundary"]
10:I[6213,[],"ViewportBoundary"]
12:I[4835,[],""]
:HL["/e2-next/_next/static/css/8b3b49f5a80261a3.css","style"]
:HL["/e2-next/_next/static/css/d3df112486f97f47.css","style"]
:HL["/e2-next/_next/static/css/47422044c9b2dd2c.css","style"]
:HL["/e2-next/_next/static/css/7bfe9ed714480baa.css","style"]
:HL["/e2-next/_next/static/css/caf337e7effc00c7.css","style"]
0:{"P":null,"b":"QeD5NYmxwSycX3xpkf1Fn","p":"/e2-next","c":["","blog","spring-boot-external-classpath"],"i":false,"f":[[["",{"children":["blog",{"children":["(blogPosts)",{"children":["(2024-12)",{"children":["spring-boot-external-classpath",{"children":["__PAGE__",{}]}]}]}]}]},"$undefined","$undefined",true],["",["$","$1","c",{"children":[[["$","link","0",{"rel":"stylesheet","href":"/e2-next/_next/static/css/8b3b49f5a80261a3.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}],["$","link","1",{"rel":"stylesheet","href":"/e2-next/_next/static/css/d3df112486f97f47.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}],["$","link","2",{"rel":"stylesheet","href":"/e2-next/_next/static/css/47422044c9b2dd2c.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}]],["$","html",null,{"lang":"en","children":[["$","head",null,{"children":[["$","link",null,{"href":"https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap","rel":"stylesheet"}],["$","link",null,{"rel":"stylesheet","href":"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css"}]]}],["$","body",null,{"children":["$","$L2",null,{"children":["$","$L3",null,{"gap":5,"children":[["$","$L3",null,{"gap":5,"className":"text-center","children":[["$","div",null,{"className":"Ribbon_ribbon-left__fObbI","children":["$","img",null,{"className":"Ribbon_image__2_FYh","src":"/e2-next/nextjs.svg"}]}],["$","$L4",null,{"href":"https://blackr1234.github.io/e2/","variant":"secondary","size":"sm","className":"ButtonToOtherSites_button__K4zwN","children":"➜ Old React website"}],["$","div",null,{"children":[["$","code",null,{"className":"SiteHeader_name__pxX08","children":"Chung Cheuk Hang Michael"}],["$","code",null,{"className":"SiteHeader_title__MUwhy","children":"Java Web Developer"}]]}],["$","$L5",null,{}]]}],["$","$L6",null,{"parallelRouterKey":"children","segmentPath":["children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L7",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":[[],[["$","title",null,{"children":"404: This page could not be found."}],["$","div",null,{"style":{"fontFamily":"system-ui,\"Segoe UI\",Roboto,Helvetica,Arial,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\"","height":"100vh","textAlign":"center","display":"flex","flexDirection":"column","alignItems":"center","justifyContent":"center"},"children":["$","div",null,{"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}"}}],["$","h1",null,{"className":"next-error-h1","style":{"display":"inline-block","margin":"0 20px 0 0","padding":"0 23px 0 0","fontSize":24,"fontWeight":500,"verticalAlign":"top","lineHeight":"49px"},"children":404}],["$","div",null,{"style":{"display":"inline-block"},"children":["$","h2",null,{"style":{"fontSize":14,"fontWeight":400,"lineHeight":"49px","margin":0},"children":"This page could not be found."}]}]]}]}]]],"forbidden":"$undefined","unauthorized":"$undefined"}],["$","hr",null,{}],["$","$L8",null,{}]]}]}]}]]}]]}],{"children":["blog",["$","$1","c",{"children":[null,["$","$L6",null,{"parallelRouterKey":"children","segmentPath":["children","blog","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L7",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","forbidden":"$undefined","unauthorized":"$undefined"}]]}],{"children":["(blogPosts)",["$","$1","c",{"children":[[["$","link","0",{"rel":"stylesheet","href":"/e2-next/_next/static/css/7bfe9ed714480baa.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}]],["$","$L9",null,{"Component":"$a","slots":{"children":["$","$L6",null,{"parallelRouterKey":"children","segmentPath":["children","blog","children","(blogPosts)","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L7",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","forbidden":"$undefined","unauthorized":"$undefined"}]},"params":{},"promise":"$@b"}]]}],{"children":["(2024-12)",["$","$1","c",{"children":[null,["$","$L6",null,{"parallelRouterKey":"children","segmentPath":["children","blog","children","(blogPosts)","children","(2024-12)","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L7",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","forbidden":"$undefined","unauthorized":"$undefined"}]]}],{"children":["spring-boot-external-classpath",["$","$1","c",{"children":[null,["$","$L6",null,{"parallelRouterKey":"children","segmentPath":["children","blog","children","(blogPosts)","children","(2024-12)","children","spring-boot-external-classpath","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L7",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","forbidden":"$undefined","unauthorized":"$undefined"}]]}],{"children":["__PAGE__",["$","$1","c",{"children":[[["$","a",null,{"href":"#1-簡介","style":{"textDecoration":"none"},"children":["$","h1",null,{"id":"1-簡介","className":"mdx-components_heading__HrNl3 mdx-components_heading-new-section__YU39B","style":{"zIndex":1000000},"children":[["$","i",null,{"className":"fa-solid fa-link mdx-components_heading-link__r6M6c"}],"1 簡介"]}]}],"\n",["$","div",null,{"className":"mdx-components_paragraph__AUxxF","children":"Spring Boot 有佢自己一套聰明既 classpath resolution 機制，令到 JAR artifact（JAR 檔）既 structure 非常易明，所有 dependency JAR 檔一目了然。"}],"\n",["$","div",null,{"className":"mdx-components_paragraph__AUxxF","children":"今次我地會探討一下點樣利用呢個機制將 Java classpath 外置喺個 app 既 JAR 檔以外。"}],"\n",["$","hr",null,{"className":"mdx-components_hr__o_oFr"}],"\n",["$","a",null,{"href":"#2-常見-jar-檔格式","style":{"textDecoration":"none"},"children":["$","h1",null,{"id":"2-常見-jar-檔格式","className":"mdx-components_heading__HrNl3 mdx-components_heading-new-section__YU39B","style":{"zIndex":2000000},"children":[["$","i",null,{"className":"fa-solid fa-link mdx-components_heading-link__r6M6c"}],"2 常見 JAR 檔格式"]}]}],"\n",["$","div",null,{"className":"mdx-components_paragraph__AUxxF","children":"我地先要了解常見既 JAR 檔格式，包括 Spring Boot。"}],"\n",["$","a",null,{"href":"#21-shared-library-格式","style":{"textDecoration":"none"},"children":["$","h2",null,{"id":"21-shared-library-格式","className":"mdx-components_heading__HrNl3 mdx-components_heading-sub-section__AJ2JK","style":{"zIndex":2010000},"children":[["$","i",null,{"className":"fa-solid fa-link mdx-components_heading-link__r6M6c"}],"2.1 Shared library 格式"]}]}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"className":"mdx-components_list-item__fJ1NL","children":"目的：一個 SDK 或者 utility library，用黎提供 Java APIs，唔可以直接運行。"}],"\n",["$","li",null,{"className":"mdx-components_list-item__fJ1NL","children":["唔會有 ",["$","code",null,{"className":"undefined mdx-components_inline-code__y_QeQ","children":"main"}]," method（entry point）。"]}],"\n",["$","li",null,{"className":"mdx-components_list-item__fJ1NL","children":"只會有 Java classes、resources 檔。"}],"\n",["$","li",null,{"className":"mdx-components_list-item__fJ1NL","children":"通常唔會包括 Maven dependency libraries 既 Java classes，但有啲情況下都有可能需要。"}],"\n",["$","li",null,{"className":"mdx-components_list-item__fJ1NL","children":"會伴隨住一個 POM 檔案，咁用呢個 shared library 既項目就會知道有啲咩需要既 transitive dependencies。"}],"\n",["$","li",null,{"className":"mdx-components_list-item__fJ1NL","children":"JAR 檔係 ZIP 檔格式，而裡面既 root directory 就係 Java classpath。"}],"\n"]}],"\n",["$","hr",null,{"className":"mdx-components_hr__o_oFr"}],"\n",["$","a",null,{"href":"#22-java-標準-runnable-app-格式","style":{"textDecoration":"none"},"children":["$","h2",null,{"id":"22-java-標準-runnable-app-格式","className":"mdx-components_heading__HrNl3 mdx-components_heading-sub-section__AJ2JK","style":{"zIndex":2020000},"children":[["$","i",null,{"className":"fa-solid fa-link mdx-components_heading-link__r6M6c"}],"2.2 Java 標準 runnable app 格式"]}]}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"className":"mdx-components_list-item__fJ1NL","children":"目的：一個可以直接喺 JVM 上面運行既程式或者系統。"}],"\n",["$","li",null,{"className":"mdx-components_list-item__fJ1NL","children":["帶有 ",["$","code",null,{"className":"undefined mdx-components_inline-code__y_QeQ","children":"main"}]," method（標準 Java app 既 entry point）。"]}],"\n",["$","li",null,{"className":"mdx-components_list-item__fJ1NL","children":"會有 Java classes、resources 檔。"}],"\n",["$","li",null,{"className":"mdx-components_list-item__fJ1NL","children":"會係 fat JAR（或者叫 uber JAR），即係會包括所有 Maven dependency libraries 既 Java classes。"}],"\n",["$","li",null,{"className":"mdx-components_list-item__fJ1NL","children":["可以用 ",["$","code",null,{"className":"undefined mdx-components_inline-code__y_QeQ","children":"maven-shade-plugin"}]," 黎打包成 runnable JAR。"]}],"\n",["$","li",null,{"className":"mdx-components_list-item__fJ1NL","children":"JAR 檔係 ZIP 檔格式，而裡面既 root directory 就係 Java classpath。"}],"\n"]}],"\n",["$","hr",null,{"className":"mdx-components_hr__o_oFr"}],"\n",["$","a",null,{"href":"#23-spring-boot-runnable-app-格式","style":{"textDecoration":"none"},"children":["$","h2",null,{"id":"23-spring-boot-runnable-app-格式","className":"mdx-components_heading__HrNl3 mdx-components_heading-sub-section__AJ2JK","style":{"zIndex":2030000},"children":[["$","i",null,{"className":"fa-solid fa-link mdx-components_heading-link__r6M6c"}],"2.3 Spring Boot runnable app 格式"]}]}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"className":"mdx-components_list-item__fJ1NL","children":"目的：一個可以直接喺 JVM 上面運行既程式或者系統。"}],"\n",["$","li",null,{"className":"mdx-components_list-item__fJ1NL","children":["帶有 ",["$","code",null,{"className":"undefined mdx-components_inline-code__y_QeQ","children":"2"}]," 個 ",["$","code",null,{"className":"undefined mdx-components_inline-code__y_QeQ","children":"main"}]," methods。","\n",["$","ul",null,{"children":["\n",["$","li",null,{"className":"mdx-components_list-item__fJ1NL","children":"一個係 Spring Boot Loader 既（標準 Java app 既 entry point）。"}],"\n",["$","li",null,{"className":"mdx-components_list-item__fJ1NL","children":"一個係 Spring Boot 透過 reflection 執行既。"}],"\n"]}],"\n"]}],"\n",["$","li",null,{"className":"mdx-components_list-item__fJ1NL","children":"基於標準 JAR 格式之上，會有一堆額外根據 Spring Boot 自己定義格式既 nested JAR 既檔案。佢同 fat JAR 差唔多，都會包括所有 dependency libraries 既 Java classes。"}],"\n",["$","li",null,{"className":"mdx-components_list-item__fJ1NL","children":["用 ",["$","code",null,{"className":"undefined mdx-components_inline-code__y_QeQ","children":"spring-boot-maven-plugin"}]," 黎打包成 runnable nested JAR。"]}],"\n",["$","li",null,{"className":"mdx-components_list-item__fJ1NL","children":["JAR 檔係 ZIP 檔格式，而裡面既 root directory 就係 Java classpath。不過，當 Spring Boot 啟動之後，就會根據 ",["$","code",null,{"className":"undefined mdx-components_inline-code__y_QeQ","children":"BOOT-INF/classpath.idx"}]," 既訊息，將所有 ",["$","code",null,{"className":"undefined mdx-components_inline-code__y_QeQ","children":"BOOT-INF/lib"}]," 裡面每個 JAR 檔裡面既 root directory 註冊落 custom class loader 作為額外既 Java classpaths。"]}],"\n"]}],"\n",["$","hr",null,{"className":"mdx-components_hr__o_oFr"}],"\n",["$","a",null,{"href":"#24-maven-檔案","style":{"textDecoration":"none"},"children":["$","h2",null,{"id":"24-maven-檔案","className":"mdx-components_heading__HrNl3 mdx-components_heading-sub-section__AJ2JK","style":{"zIndex":2040000},"children":[["$","i",null,{"className":"fa-solid fa-link mdx-components_heading-link__r6M6c"}],"2.4 Maven 檔案"]}]}],"\n",["$","div",null,{"className":"mdx-components_paragraph__AUxxF","children":"一般都會用到 Maven 作為 package manager："}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"className":"mdx-components_list-item__fJ1NL","children":["JAR 檔裡面應該會有一個 ",["$","code",null,{"className":"undefined mdx-components_inline-code__y_QeQ","children":"META-INF/maven/<groupId>/<artifactId>/pom.xml"}]," 檔案。"]}],"\n",["$","li",null,{"className":"mdx-components_list-item__fJ1NL","children":"如果作為 Maven dependency 咁使用，咁就要留意喺 repository 伴隨既 POM 檔裡面既 dependencies。"}],"\n",["$","li",null,{"className":"mdx-components_list-item__fJ1NL","children":"Spring Boot nested JAR 因為格式有別於標準 JAR 格式，所以裡面既 Java classes 冇辦法以 shared library 既形式畀其他項目使用。"}],"\n"]}],"\n",["$","hr",null,{"className":"mdx-components_hr__o_oFr"}],"\n",["$","a",null,{"href":"#3-spring-boot-nested-jar-檔案內容","style":{"textDecoration":"none"},"children":["$","h1",null,{"id":"3-spring-boot-nested-jar-檔案內容","className":"mdx-components_heading__HrNl3 mdx-components_heading-new-section__YU39B","style":{"zIndex":3000000},"children":[["$","i",null,{"className":"fa-solid fa-link mdx-components_heading-link__r6M6c"}],"3 Spring Boot nested JAR 檔案內容"]}]}],"\n",["$","div",null,{"className":"mdx-components_paragraph__AUxxF","children":["我地打包 Spring Boot app 既 artifact（web 或者 non-web）都應該用 ",["$","code",null,{"className":"undefined mdx-components_inline-code__y_QeQ","children":"spring-boot-maven-plugin"}],"。"]}],"\n",["$","div",null,{"className":"mdx-components_paragraph__AUxxF","children":"呢個 plugin 打包 JAR 既時候，採用既係 Spring Boot 既 custom nested JAR 格式。"}],"\n",["$","div",null,{"className":"mdx-components_paragraph__AUxxF","children":"Spring Boot nested JAR 既內容大致如下："}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"className":"mdx-components_list-item__fJ1NL","children":[["$","code",null,{"className":"undefined mdx-components_inline-code__y_QeQ","children":"/BOOT-INF"}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"className":"mdx-components_list-item__fJ1NL","children":[["$","code",null,{"className":"undefined mdx-components_inline-code__y_QeQ","children":"/classes"}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"className":"mdx-components_list-item__fJ1NL","children":[["$","code",null,{"className":"undefined mdx-components_inline-code__y_QeQ","children":"/code"}],"（自定義既 package path）","\n",["$","ul",null,{"children":["\n",["$","li",null,{"className":"mdx-components_list-item__fJ1NL","children":[["$","code",null,{"className":"undefined mdx-components_inline-code__y_QeQ","children":"MainApplication.class"}],"（",["$","code",null,{"className":"undefined mdx-components_inline-code__y_QeQ","children":"MANIFEST.MF"}]," 既 ",["$","code",null,{"className":"undefined mdx-components_inline-code__y_QeQ","children":"Start-Class"}]," attribute）"]}],"\n",["$","li",null,{"className":"mdx-components_list-item__fJ1NL","children":"etc"}],"\n"]}],"\n"]}],"\n",["$","li",null,{"className":"mdx-components_list-item__fJ1NL","children":["$","code",null,{"className":"undefined mdx-components_inline-code__y_QeQ","children":"application.yml"}]}],"\n",["$","li",null,{"className":"mdx-components_list-item__fJ1NL","children":[["$","code",null,{"className":"undefined mdx-components_inline-code__y_QeQ","children":"bootstrap.yml"}],"（如果用左 ",["$","code",null,{"className":"undefined mdx-components_inline-code__y_QeQ","children":"spring-cloud-starter-bootstrap"}],"）"]}],"\n",["$","li",null,{"className":"mdx-components_list-item__fJ1NL","children":"etc"}],"\n"]}],"\n"]}],"\n",["$","li",null,{"className":"mdx-components_list-item__fJ1NL","children":[["$","code",null,{"className":"undefined mdx-components_inline-code__y_QeQ","children":"/lib"}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"className":"mdx-components_list-item__fJ1NL","children":["$","code",null,{"className":"undefined mdx-components_inline-code__y_QeQ","children":"spring-boot-3.3.5.jar"}]}],"\n",["$","li",null,{"className":"mdx-components_list-item__fJ1NL","children":["$","code",null,{"className":"undefined mdx-components_inline-code__y_QeQ","children":"spring-boot-actuator-3.3.5.jar"}]}],"\n",["$","li",null,{"className":"mdx-components_list-item__fJ1NL","children":"etc"}],"\n"]}],"\n"]}],"\n",["$","li",null,{"className":"mdx-components_list-item__fJ1NL","children":["$","code",null,{"className":"undefined mdx-components_inline-code__y_QeQ","children":"classpath.idx"}]}],"\n",["$","li",null,{"className":"mdx-components_list-item__fJ1NL","children":["$","code",null,{"className":"undefined mdx-components_inline-code__y_QeQ","children":"layers.idx"}]}],"\n"]}],"\n"]}],"\n",["$","li",null,{"className":"mdx-components_list-item__fJ1NL","children":[["$","code",null,{"className":"undefined mdx-components_inline-code__y_QeQ","children":"/META-INF"}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"className":"mdx-components_list-item__fJ1NL","children":["$","code",null,{"className":"undefined mdx-components_inline-code__y_QeQ","children":"/maven"}]}],"\n",["$","li",null,{"className":"mdx-components_list-item__fJ1NL","children":["$","code",null,{"className":"undefined mdx-components_inline-code__y_QeQ","children":"/services"}]}],"\n",["$","li",null,{"className":"mdx-components_list-item__fJ1NL","children":["$","code",null,{"className":"undefined mdx-components_inline-code__y_QeQ","children":"BOOT.SF"}]}],"\n",["$","li",null,{"className":"mdx-components_list-item__fJ1NL","children":["$","code",null,{"className":"undefined mdx-components_inline-code__y_QeQ","children":"MANIFEST.MF"}]}],"\n"]}],"\n"]}],"\n",["$","li",null,{"className":"mdx-components_list-item__fJ1NL","children":[["$","code",null,{"className":"undefined mdx-components_inline-code__y_QeQ","children":"/org"}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"className":"mdx-components_list-item__fJ1NL","children":[["$","code",null,{"className":"undefined mdx-components_inline-code__y_QeQ","children":"/springframework"}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"className":"mdx-components_list-item__fJ1NL","children":[["$","code",null,{"className":"undefined mdx-components_inline-code__y_QeQ","children":"/boot"}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"className":"mdx-components_list-item__fJ1NL","children":[["$","code",null,{"className":"undefined mdx-components_inline-code__y_QeQ","children":"/loader"}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"className":"mdx-components_list-item__fJ1NL","children":[["$","code",null,{"className":"undefined mdx-components_inline-code__y_QeQ","children":"/launch"}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"className":"mdx-components_list-item__fJ1NL","children":["$","code",null,{"className":"undefined mdx-components_inline-code__y_QeQ","children":"JarLauncher.class"}]}],"\n",["$","li",null,{"className":"mdx-components_list-item__fJ1NL","children":["$","code",null,{"className":"undefined mdx-components_inline-code__y_QeQ","children":"PropertiesLauncher.class"}]}],"\n",["$","li",null,{"className":"mdx-components_list-item__fJ1NL","children":["$","code",null,{"className":"undefined mdx-components_inline-code__y_QeQ","children":"WarLauncher.class"}]}],"\n",["$","li",null,{"className":"mdx-components_list-item__fJ1NL","children":"etc"}],"\n"]}],"\n"]}],"\n",["$","li",null,{"className":"mdx-components_list-item__fJ1NL","children":"etc"}],"\n"]}],"\n"]}],"\n"]}],"\n"]}],"\n"]}],"\n"]}],"\n"]}],"\n"]}],"\n"]}],"\n",["$","div",null,{"className":"mdx-components_table-outer-wrapper__npuxp","children":["$","div",null,{"className":"mdx-components_table-wrapper__0GcvD","children":["$","table",null,{"className":"mdx-components_table__bAy19","children":[["$","thead",null,{"children":["$","tr",null,{"children":[["$","th",null,{"children":"檔案路徑"}],["$","th",null,{"children":"描述"}]]}]}],["$","tbody",null,{"children":[["$","tr",null,{"children":[["$","td",null,{"children":["$","code",null,{"className":"undefined mdx-components_inline-code__y_QeQ","children":"BOOT-INF/classes"}]}],["$","td",null,{"children":"裡面係呢個 Spring Boot 項目所有我自己寫既 Java classes。"}]]}],["$","tr",null,{"children":[["$","td",null,{"children":["$","code",null,{"className":"undefined mdx-components_inline-code__y_QeQ","children":"BOOT-INF/lib"}]}],["$","td",null,{"children":"裡面係呢個 Spring Boot 項目所用到既 dependencies（shared libraries）既 JAR 檔。"}]]}],["$","tr",null,{"children":[["$","td",null,{"children":["$","code",null,{"className":"undefined mdx-components_inline-code__y_QeQ","children":"BOOT-INF/classpath.idx"}]}],["$","td",null,{"children":["呢個係 Spring 定義既檔案，裡面含有 classpath JAR 檔既次序，例如 ",["$","code",null,{"className":"undefined mdx-components_inline-code__y_QeQ","children":"BOOT-INF/lib/spring-boot-3.3.5.jar"}],"。"]}]]}],["$","tr",null,{"children":[["$","td",null,{"children":["$","code",null,{"className":"undefined mdx-components_inline-code__y_QeQ","children":"BOOT-INF/layers.idx"}]}],["$","td",null,{"children":"只有喺打包成 layered JAR 既情況下先會用到。"}]]}],["$","tr",null,{"children":[["$","td",null,{"children":["$","code",null,{"className":"undefined mdx-components_inline-code__y_QeQ","children":"META-INF/MANIFEST.MF"}]}],["$","td",null,{"children":["呢個係標準 JAR 格式既 manifest 描述檔，裡面係 key-value pairs。如果係 runnable JAR，就會有 ",["$","code",null,{"className":"undefined mdx-components_inline-code__y_QeQ","children":"Main-Class"}]," attribute。如果係用 ",["$","code",null,{"className":"undefined mdx-components_inline-code__y_QeQ","children":"spring-boot-maven-plugin"}]," 打包，佢會視乎 packaging type 而將 ",["$","code",null,{"className":"undefined mdx-components_inline-code__y_QeQ","children":"Main-Class"}]," 設定為 ",["$","code",null,{"className":"undefined mdx-components_inline-code__y_QeQ","children":"JarLauncher"}],"、",["$","code",null,{"className":"undefined mdx-components_inline-code__y_QeQ","children":"WarLauncher"}]," 或者 ",["$","code",null,{"className":"undefined mdx-components_inline-code__y_QeQ","children":"PropertiesLauncher"}]," 其中一個。另外，佢亦會加入一個 Spring 定義既 ",["$","code",null,{"className":"undefined mdx-components_inline-code__y_QeQ","children":"Start-Class"}]," attribute（例如 ",["$","code",null,{"className":"undefined mdx-components_inline-code__y_QeQ","children":"Start-Class: code.MainApplication"}],"），而呢個通常就係我地帶有 ",["$","code",null,{"className":"undefined mdx-components_inline-code__y_QeQ","children":"@SpringBootApplication"}],"、有 ",["$","code",null,{"className":"undefined mdx-components_inline-code__y_QeQ","children":"main"}]," method 既 class。"]}]]}],["$","tr",null,{"children":[["$","td",null,{"children":["$","code",null,{"className":"undefined mdx-components_inline-code__y_QeQ","children":"org/springframework/boot/loader"}]}],["$","td",null,{"children":"裡面係既 Spring Boot Loader 既 Java classes，而呢啲檔案喺每個 Spring Boot 項目裡面都係一樣。"}]]}]]}]]}]}]}],"\n",["$","div",null,{"className":"mdx-components_paragraph__AUxxF","children":[["$","code",null,{"className":"undefined mdx-components_inline-code__y_QeQ","children":"BOOT-INF/classpath.idx"}],"："]}],"\n",["$","pre",null,{"children":["$","div",null,{"className":"mdx-components_code__3gNm1","style":{"color":"black","background":"#f5f2f0","textShadow":"0 1px white","fontFamily":"Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace","fontSize":"1em","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","wordWrap":"normal","lineHeight":"1.5","MozTabSize":"4","OTabSize":"4","tabSize":"4","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1em","margin":".5em 0","overflow":"auto"},"children":["$","code",null,{"className":"language-plaintext","style":{"whiteSpace":"pre","color":"black","background":"none","textShadow":"0 1px white","fontFamily":"Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace","fontSize":"1em","textAlign":"left","wordSpacing":"normal","wordBreak":"normal","wordWrap":"normal","lineHeight":"1.5","MozTabSize":"4","OTabSize":"4","tabSize":"4","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none"},"children":[false,[["$","span","code-segement0",{"className":"$undefined","style":{},"children":["- \"BOOT-INF/lib/spring-boot-3.3.5.jar\"\r\n"]}],"- \"BOOT-INF/lib/spring-boot-autoconfigure-3.3.5.jar\"\r\n","- ..."]]}]}]}],"\n",["$","div",null,{"className":"mdx-components_paragraph__AUxxF","children":[["$","code",null,{"className":"undefined mdx-components_inline-code__y_QeQ","children":"BOOT-INF/layers.idx"}],"："]}],"\n",["$","pre",null,{"children":["$","div",null,{"className":"mdx-components_code__3gNm1","style":{"color":"black","background":"#f5f2f0","textShadow":"0 1px white","fontFamily":"Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace","fontSize":"1em","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","wordWrap":"normal","lineHeight":"1.5","MozTabSize":"4","OTabSize":"4","tabSize":"4","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1em","margin":".5em 0","overflow":"auto"},"children":["$","code",null,{"className":"language-plaintext","style":{"whiteSpace":"pre","color":"black","background":"none","textShadow":"0 1px white","fontFamily":"Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace","fontSize":"1em","textAlign":"left","wordSpacing":"normal","wordBreak":"normal","wordWrap":"normal","lineHeight":"1.5","MozTabSize":"4","OTabSize":"4","tabSize":"4","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none"},"children":[false,[["$","span","line-number--1",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","position":"sticky","left":"-18px","background":"#cbcfdc !important","borderRight":"1px solid #9e9e9e","marginRight":"1rem","color":"slategray"},"children":[1]}],["$","span","code-segement1",{"className":"$undefined","style":{},"children":["- \"dependencies\":\r\n"]}],["$","span","line-number--2",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","position":"sticky","left":"-18px","background":"#cbcfdc !important","borderRight":"1px solid #9e9e9e","marginRight":"1rem","color":"slategray"},"children":[2]}],"  - \"BOOT-INF/lib/\"\r\n",["$","span","line-number--3",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","position":"sticky","left":"-18px","background":"#cbcfdc !important","borderRight":"1px solid #9e9e9e","marginRight":"1rem","color":"slategray"},"children":[3]}],"- \"spring-boot-loader\":\r\n",["$","span","line-number--4",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","position":"sticky","left":"-18px","background":"#cbcfdc !important","borderRight":"1px solid #9e9e9e","marginRight":"1rem","color":"slategray"},"children":[4]}],"  - \"org/\"\r\n",["$","span","line-number--5",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","position":"sticky","left":"-18px","background":"#cbcfdc !important","borderRight":"1px solid #9e9e9e","marginRight":"1rem","color":"slategray"},"children":[5]}],"- \"snapshot-dependencies\":\r\n",["$","span","line-number--6",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","position":"sticky","left":"-18px","background":"#cbcfdc !important","borderRight":"1px solid #9e9e9e","marginRight":"1rem","color":"slategray"},"children":[6]}],"- \"application\":\r\n",["$","span","line-number--7",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","position":"sticky","left":"-18px","background":"#cbcfdc !important","borderRight":"1px solid #9e9e9e","marginRight":"1rem","color":"slategray"},"children":[7]}],"  - \"BOOT-INF/classes/\"\r\n",["$","span","line-number--8",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","position":"sticky","left":"-18px","background":"#cbcfdc !important","borderRight":"1px solid #9e9e9e","marginRight":"1rem","color":"slategray"},"children":[8]}],"  - \"BOOT-INF/classpath.idx\"\r\n",["$","span","line-number--9",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","position":"sticky","left":"-18px","background":"#cbcfdc !important","borderRight":"1px solid #9e9e9e","marginRight":"1rem","color":"slategray"},"children":[9]}],"  - \"BOOT-INF/layers.idx\"\r\n",["$","span","line-number--10",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","position":"sticky","left":"-18px","background":"#cbcfdc !important","borderRight":"1px solid #9e9e9e","marginRight":"1rem","color":"slategray"},"children":[10]}],"  - \"META-INF/\""]]}]}]}],"\n",["$","hr",null,{"className":"mdx-components_hr__o_oFr"}],"\n",["$","a",null,{"href":"#4-spring-boot-啟動流程","style":{"textDecoration":"none"},"children":["$","h1",null,{"id":"4-spring-boot-啟動流程","className":"mdx-components_heading__HrNl3 mdx-components_heading-new-section__YU39B","style":{"zIndex":4000000},"children":[["$","i",null,{"className":"fa-solid fa-link mdx-components_heading-link__r6M6c"}],"4 Spring Boot 啟動流程"]}]}],"\n",["$","ol",null,{"children":["\n",["$","li",null,{"className":"mdx-components_list-item__fJ1NL","children":"JVM 啟動。"}],"\n",["$","li",null,{"className":"mdx-components_list-item__fJ1NL","children":["Java 執行 ",["$","code",null,{"className":"undefined mdx-components_inline-code__y_QeQ","children":"META-INF/MANIFEST.MF"}]," 既 ",["$","code",null,{"className":"undefined mdx-components_inline-code__y_QeQ","children":"Main-Class"}],"（Spring Boot nested JAR 檔內置既其中一個 ",["$","code",null,{"className":"undefined mdx-components_inline-code__y_QeQ","children":"Launcher"}]," implementation）。"]}],"\n",["$","li",null,{"className":"mdx-components_list-item__fJ1NL","children":["Spring Boot ",["$","code",null,{"className":"undefined mdx-components_inline-code__y_QeQ","children":"Launcher"}]," 會根據 ",["$","code",null,{"className":"undefined mdx-components_inline-code__y_QeQ","children":"classpath.idx"}]," 既 entries 去得到一堆 classpath URLs。"]}],"\n",["$","li",null,{"className":"mdx-components_list-item__fJ1NL","children":["Spring Boot ",["$","code",null,{"className":"undefined mdx-components_inline-code__y_QeQ","children":"Launcher"}]," 會用呢啲 classpath URLs 去創建 ",["$","code",null,{"className":"undefined mdx-components_inline-code__y_QeQ","children":"LaunchedClassLoader"}],"（基於 Java 內置既 ",["$","code",null,{"className":"undefined mdx-components_inline-code__y_QeQ","children":"URLClassLoader"}]," 既 custom class loader）。"]}],"\n",["$","li",null,{"className":"mdx-components_list-item__fJ1NL","children":["Spring Boot ",["$","code",null,{"className":"undefined mdx-components_inline-code__y_QeQ","children":"Launcher"}]," 會將 ",["$","code",null,{"className":"undefined mdx-components_inline-code__y_QeQ","children":"main"}]," thread 既 context class loader 改成用呢個 ",["$","code",null,{"className":"undefined mdx-components_inline-code__y_QeQ","children":"LaunchedClassLoader"}],"。"]}],"\n",["$","li",null,{"className":"mdx-components_list-item__fJ1NL","children":["Spring Boot ",["$","code",null,{"className":"undefined mdx-components_inline-code__y_QeQ","children":"Launcher"}]," 會透過 reflection 執行 ",["$","code",null,{"className":"undefined mdx-components_inline-code__y_QeQ","children":"META-INF/MANIFEST.MF"}]," 既 ",["$","code",null,{"className":"undefined mdx-components_inline-code__y_QeQ","children":"Start-Class"}]," 既 ",["$","code",null,{"className":"undefined mdx-components_inline-code__y_QeQ","children":"main"}]," method。"]}],"\n",["$","li",null,{"className":"mdx-components_list-item__fJ1NL","children":["呢個 ",["$","code",null,{"className":"undefined mdx-components_inline-code__y_QeQ","children":"main"}]," method 會執行 ",["$","code",null,{"className":"undefined mdx-components_inline-code__y_QeQ","children":"SpringApplication.run(Class<?>, String...)"}],"。"]}],"\n"]}],"\n",["$","div",null,{"className":"mdx-components_paragraph__AUxxF","children":"註："}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"className":"mdx-components_list-item__fJ1NL","children":["任何之後新創建既 threads 既 context class loader 默認都會用佢地 parent thread 既 context class loader，咁就會用左 Spring Boot 創建既 ",["$","code",null,{"className":"undefined mdx-components_inline-code__y_QeQ","children":"LaunchedClassLoader"}],"。"]}],"\n",["$","li",null,{"className":"mdx-components_list-item__fJ1NL","children":"喺 Java，class loaders 會根據 delegation model，先 delegate 畀 parent class loader 去 load class，如果失敗，咁 child class loader 先會 find class。"}],"\n"]}],"\n",["$","hr",null,{"className":"mdx-components_hr__o_oFr"}],"\n",["$","a",null,{"href":"#5-實現-spring-boot-外置-classpath","style":{"textDecoration":"none"},"children":["$","h1",null,{"id":"5-實現-spring-boot-外置-classpath","className":"mdx-components_heading__HrNl3 mdx-components_heading-new-section__YU39B","style":{"zIndex":5000000},"children":[["$","i",null,{"className":"fa-solid fa-link mdx-components_heading-link__r6M6c"}],"5 實現 Spring Boot 外置 classpath"]}]}],"\n",["$","a",null,{"href":"#51-spring-boot-maven-plugin-配置","style":{"textDecoration":"none"},"children":["$","h2",null,{"id":"51-spring-boot-maven-plugin-配置","className":"mdx-components_heading__HrNl3 mdx-components_heading-sub-section__AJ2JK","style":{"zIndex":5010000},"children":[["$","i",null,{"className":"fa-solid fa-link mdx-components_heading-link__r6M6c"}],"5.1 Spring Boot Maven Plugin 配置"]}]}],"\n",["$","div",null,{"className":"mdx-components_paragraph__AUxxF","children":["我地要指定 ",["$","code",null,{"className":"undefined mdx-components_inline-code__y_QeQ","children":"spring-boot-maven-plugin"}]," 去用 ",["$","code",null,{"className":"undefined mdx-components_inline-code__y_QeQ","children":"ZIP"}]," 既 ",["$","code",null,{"className":"undefined mdx-components_inline-code__y_QeQ","children":"layout"}],"，咁佢先會將 ",["$","code",null,{"className":"undefined mdx-components_inline-code__y_QeQ","children":"META-INF/MANIFEST.MF"}]," 既 ",["$","code",null,{"className":"undefined mdx-components_inline-code__y_QeQ","children":"Main-Class"}]," 由 ",["$","code",null,{"className":"undefined mdx-components_inline-code__y_QeQ","children":"JarLauncher"}]," 改成 ",["$","code",null,{"className":"undefined mdx-components_inline-code__y_QeQ","children":"PropertiesLauncher"}],"。"]}],"\n",["$","pre",null,{"children":["$","div",null,{"className":"mdx-components_code__3gNm1","style":{"color":"black","background":"#f5f2f0","textShadow":"0 1px white","fontFamily":"Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace","fontSize":"1em","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","wordWrap":"normal","lineHeight":"1.5","MozTabSize":"4","OTabSize":"4","tabSize":"4","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1em","margin":".5em 0","overflow":"auto"},"children":["$","code",null,{"className":"language-xml","style":{"whiteSpace":"pre","color":"black","background":"none","textShadow":"0 1px white","fontFamily":"Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace","fontSize":"1em","textAlign":"left","wordSpacing":"normal","wordBreak":"normal","wordWrap":"normal","lineHeight":"1.5","MozTabSize":"4","OTabSize":"4","tabSize":"4","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none"},"children":[false,[["$","span","line-number--1",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","position":"sticky","left":"-18px","background":"#cbcfdc !important","borderRight":"1px solid #9e9e9e","marginRight":"1rem","color":"slategray"},"children":[1]}],["$","span","code-segement1",{"className":"token","style":{"color":"#999"},"children":["<"]}],["$","span","code-segement2",{"className":"token","style":{"color":"#905"},"children":["build"]}],["$","span","code-segement3",{"className":"token","style":{"color":"#999"},"children":[">"]}],["$","span","code-segement4",{"className":"$undefined","style":{},"children":["\r\n"]}],["$","span","line-number--2",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","position":"sticky","left":"-18px","background":"#cbcfdc !important","borderRight":"1px solid #9e9e9e","marginRight":"1rem","color":"slategray"},"children":[2]}],["$","span","code-segement6",{"className":"$undefined","style":{},"children":["\t"]}],["$","span","code-segement7",{"className":"token","style":{"color":"#999"},"children":["<"]}],["$","span","code-segement8",{"className":"token","style":{"color":"#905"},"children":["plugins"]}],["$","span","code-segement9",{"className":"token","style":{"color":"#999"},"children":[">"]}],["$","span","code-segement10",{"className":"$undefined","style":{},"children":["\r\n"]}],["$","span","line-number--3",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","position":"sticky","left":"-18px","background":"#cbcfdc !important","borderRight":"1px solid #9e9e9e","marginRight":"1rem","color":"slategray"},"children":[3]}],["$","span","code-segement12",{"className":"$undefined","style":{},"children":["\t\t"]}],["$","span","code-segement13",{"className":"token","style":{"color":"#999"},"children":["<"]}],["$","span","code-segement14",{"className":"token","style":{"color":"#905"},"children":["plugin"]}],["$","span","code-segement15",{"className":"token","style":{"color":"#999"},"children":[">"]}],["$","span","code-segement16",{"className":"$undefined","style":{},"children":["\r\n"]}],["$","span","line-number--4",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","position":"sticky","left":"-18px","background":"#cbcfdc !important","borderRight":"1px solid #9e9e9e","marginRight":"1rem","color":"slategray"},"children":[4]}],["$","span","code-segement18",{"className":"$undefined","style":{},"children":["\t\t\t"]}],["$","span","code-segement19",{"className":"token","style":{"color":"#999"},"children":["<"]}],["$","span","code-segement20",{"className":"token","style":{"color":"#905"},"children":["groupId"]}],["$","span","code-segement21",{"className":"token","style":{"color":"#999"},"children":[">"]}],["$","span","code-segement22",{"className":"$undefined","style":{},"children":["org.springframework.boot"]}],["$","span","code-segement23",{"className":"token","style":{"color":"#999"},"children":["</"]}],["$","span","code-segement24",{"className":"token","style":{"color":"#905"},"children":["groupId"]}],["$","span","code-segement25",{"className":"token","style":{"color":"#999"},"children":[">"]}],["$","span","code-segement26",{"className":"$undefined","style":{},"children":["\r\n"]}],["$","span","line-number--5",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","position":"sticky","left":"-18px","background":"#cbcfdc !important","borderRight":"1px solid #9e9e9e","marginRight":"1rem","color":"slategray"},"children":[5]}],["$","span","code-segement28",{"className":"$undefined","style":{},"children":["\t\t\t"]}],["$","span","code-segement29",{"className":"token","style":{"color":"#999"},"children":["<"]}],["$","span","code-segement30",{"className":"token","style":{"color":"#905"},"children":["artifactId"]}],["$","span","code-segement31",{"className":"token","style":{"color":"#999"},"children":[">"]}],["$","span","code-segement32",{"className":"$undefined","style":{},"children":["spring-boot-maven-plugin"]}],["$","span","code-segement33",{"className":"token","style":{"color":"#999"},"children":["</"]}],["$","span","code-segement34",{"className":"token","style":{"color":"#905"},"children":["artifactId"]}],["$","span","code-segement35",{"className":"token","style":{"color":"#999"},"children":[">"]}],["$","span","code-segement36",{"className":"$undefined","style":{},"children":["\r\n"]}],["$","span","line-number--6",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","position":"sticky","left":"-18px","background":"#cbcfdc !important","borderRight":"1px solid #9e9e9e","marginRight":"1rem","color":"slategray"},"children":[6]}],"\r\n",["$","span","line-number--7",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","position":"sticky","left":"-18px","background":"#cbcfdc !important","borderRight":"1px solid #9e9e9e","marginRight":"1rem","color":"slategray"},"children":[7]}],["$","span","code-segement40",{"className":"$undefined","style":{},"children":["\t\t\t"]}],["$","span","code-segement41",{"className":"token","style":{"color":"#999"},"children":["<"]}],["$","span","code-segement42",{"className":"token","style":{"color":"#905"},"children":["configuration"]}],["$","span","code-segement43",{"className":"token","style":{"color":"#999"},"children":[">"]}],["$","span","code-segement44",{"className":"$undefined","style":{},"children":["\r\n"]}],["$","span","line-number--8",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","position":"sticky","left":"-18px","background":"#cbcfdc !important","borderRight":"1px solid #9e9e9e","marginRight":"1rem","color":"slategray"},"children":[8]}],["$","span","code-segement46",{"className":"$undefined","style":{},"children":["\t\t\t\t"]}],["$","span","code-segement47",{"className":"token","style":{"color":"#999"},"children":["<"]}],["$","span","code-segement48",{"className":"token","style":{"color":"#905"},"children":["layout"]}],["$","span","code-segement49",{"className":"token","style":{"color":"#999"},"children":[">"]}],["$","span","code-segement50",{"className":"$undefined","style":{},"children":["ZIP"]}],["$","span","code-segement51",{"className":"token","style":{"color":"#999"},"children":["</"]}],["$","span","code-segement52",{"className":"token","style":{"color":"#905"},"children":["layout"]}],["$","span","code-segement53",{"className":"token","style":{"color":"#999"},"children":[">"]}],["$","span","code-segement54",{"className":"$undefined","style":{},"children":["\r\n"]}],["$","span","line-number--9",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","position":"sticky","left":"-18px","background":"#cbcfdc !important","borderRight":"1px solid #9e9e9e","marginRight":"1rem","color":"slategray"},"children":[9]}],["$","span","code-segement56",{"className":"$undefined","style":{},"children":["\t\t\t"]}],["$","span","code-segement57",{"className":"token","style":{"color":"#999"},"children":["</"]}],["$","span","code-segement58",{"className":"token","style":{"color":"#905"},"children":["configuration"]}],["$","span","code-segement59",{"className":"token","style":{"color":"#999"},"children":[">"]}],["$","span","code-segement60",{"className":"$undefined","style":{},"children":["\r\n"]}],["$","span","line-number--10",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","position":"sticky","left":"-18px","background":"#cbcfdc !important","borderRight":"1px solid #9e9e9e","marginRight":"1rem","color":"slategray"},"children":[10]}],["$","span","code-segement62",{"className":"$undefined","style":{},"children":["\t\t"]}],["$","span","code-segement63",{"className":"token","style":{"color":"#999"},"children":["</"]}],["$","span","code-segement64",{"className":"token","style":{"color":"#905"},"children":["plugin"]}],["$","span","code-segement65",{"className":"token","style":{"color":"#999"},"children":[">"]}],["$","span","code-segement66",{"className":"$undefined","style":{},"children":["\r\n"]}],["$","span","line-number--11",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","position":"sticky","left":"-18px","background":"#cbcfdc !important","borderRight":"1px solid #9e9e9e","marginRight":"1rem","color":"slategray"},"children":[11]}],["$","span","code-segement68",{"className":"$undefined","style":{},"children":["\t"]}],["$","span","code-segement69",{"className":"token","style":{"color":"#999"},"children":["</"]}],["$","span","code-segement70",{"className":"token","style":{"color":"#905"},"children":["plugins"]}],["$","span","code-segement71",{"className":"token","style":{"color":"#999"},"children":[">"]}],["$","span","code-segement72",{"className":"$undefined","style":{},"children":["\r\n"]}],["$","span","line-number--12",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"3.25em","paddingRight":"1em","textAlign":"right","userSelect":"none","position":"sticky","left":"-18px","background":"#cbcfdc !important","borderRight":"1px solid #9e9e9e","marginRight":"1rem","color":"slategray"},"children":[12]}],["$","span","code-segement74",{"className":"$undefined","style":{},"children":[""]}],["$","span","code-segement75",{"className":"token","style":{"color":"#999"},"children":["</"]}],["$","span","code-segement76",{"className":"token","style":{"color":"#905"},"children":["build"]}],["$","span","code-segement77",{"className":"token","style":{"color":"#999"},"children":[">"]}]]]}]}]}],"\n",["$","div",null,{"className":"mdx-components_paragraph__AUxxF","children":["之後用 ",["$","code",null,{"className":"undefined mdx-components_inline-code__y_QeQ","children":"mvn clean package"}]," 打包成 Spring Boot runnable app 既 nested JAR 檔（",["$","code",null,{"className":"undefined mdx-components_inline-code__y_QeQ","children":"app.jar"}],"）。"]}],"\n",["$","hr",null,{"className":"mdx-components_hr__o_oFr"}],"\n",["$","a",null,{"href":"#52-準備所有外置-classpath-檔案","style":{"textDecoration":"none"},"children":["$","h2",null,{"id":"52-準備所有外置-classpath-檔案","className":"mdx-components_heading__HrNl3 mdx-components_heading-sub-section__AJ2JK","style":{"zIndex":5020000},"children":[["$","i",null,{"className":"fa-solid fa-link mdx-components_heading-link__r6M6c"}],"5.2 準備所有外置 classpath 檔案"]}]}],"\n",["$","div",null,{"className":"mdx-components_paragraph__AUxxF","children":"理論上任何類型既 classpath 檔案都可以由內置變成外置，包括："}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"className":"mdx-components_list-item__fJ1NL","children":["一般出現喺 Maven 項目 ",["$","code",null,{"className":"undefined mdx-components_inline-code__y_QeQ","children":"src/main/resources"}],"（對應 Java classpath）既檔案，例如：",["$","code",null,{"className":"undefined mdx-components_inline-code__y_QeQ","children":"application.yml"}],"。"]}],"\n",["$","li",null,{"className":"mdx-components_list-item__fJ1NL","children":["標準 JAR 格式既 shared library JAR 檔，例如 ",["$","code",null,{"className":"undefined mdx-components_inline-code__y_QeQ","children":"my-lib-1.0.0.jar"}],"。"]}],"\n"]}],"\n",["$","div",null,{"className":"mdx-components_paragraph__AUxxF","children":["我地可以將呢啲檔案都放入一個 folder 裡面（",["$","code",null,{"className":"undefined mdx-components_inline-code__y_QeQ","children":"ext"}]," folder）。"]}],"\n",["$","hr",null,{"className":"mdx-components_hr__o_oFr"}],"\n",["$","a",null,{"href":"#53-啟動-spring-boot-runnable-app","style":{"textDecoration":"none"},"children":["$","h2",null,{"id":"53-啟動-spring-boot-runnable-app","className":"mdx-components_heading__HrNl3 mdx-components_heading-sub-section__AJ2JK","style":{"zIndex":5030000},"children":[["$","i",null,{"className":"fa-solid fa-link mdx-components_heading-link__r6M6c"}],"5.3 啟動 Spring Boot runnable app"]}]}],"\n",["$","div",null,{"className":"mdx-components_paragraph__AUxxF","children":"我地可以用以下其中一種方式啟動（Windows Command Prompt）："}],"\n",["$","pre",null,{"children":["$","div",null,{"className":"mdx-components_code__3gNm1","style":{"color":"black","background":"#f5f2f0","textShadow":"0 1px white","fontFamily":"Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace","fontSize":"1em","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","wordWrap":"normal","lineHeight":"1.5","MozTabSize":"4","OTabSize":"4","tabSize":"4","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1em","margin":".5em 0","overflow":"auto"},"children":["$","code",null,{"className":"language-batch","style":{"whiteSpace":"pre","color":"black","background":"none","textShadow":"0 1px white","fontFamily":"Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace","fontSize":"1em","textAlign":"left","wordSpacing":"normal","wordBreak":"normal","wordWrap":"normal","lineHeight":"1.5","MozTabSize":"4","OTabSize":"4","tabSize":"4","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none"},"children":[false,[["$","span","code-segement0",{"className":"token command","style":{"color":"#07a"},"children":["java"]}],["$","span","code-segement1",{"className":"token command","style":{},"children":[" -Dloader.path=ext -jar app.jar"]}]]]}]}]}],"\n",["$","pre",null,{"children":["$","div",null,{"className":"mdx-components_code__3gNm1","style":{"color":"black","background":"#f5f2f0","textShadow":"0 1px white","fontFamily":"Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace","fontSize":"1em","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","wordWrap":"normal","lineHeight":"1.5","MozTabSize":"4","OTabSize":"4","tabSize":"4","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1em","margin":".5em 0","overflow":"auto"},"children":["$","code",null,{"className":"language-batch","style":{"whiteSpace":"pre","color":"black","background":"none","textShadow":"0 1px white","fontFamily":"Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace","fontSize":"1em","textAlign":"left","wordSpacing":"normal","wordBreak":"normal","wordWrap":"normal","lineHeight":"1.5","MozTabSize":"4","OTabSize":"4","tabSize":"4","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none"},"children":[false,[["$","span","code-segement0",{"className":"token command","style":{"color":"#07a"},"children":["SET"]}],["$","span","code-segement1",{"className":"token command","style":{},"children":[" "]}],["$","span","code-segement2",{"className":"token command","style":{"color":"#e90"},"children":["JAVA_TOOL_OPTIONS"]}],["$","span","code-segement3",{"className":"token command","style":{"color":"#9a6e3a","background":"hsla(0, 0%, 100%, .5)"},"children":["="]}],["$","span","code-segement4",{"className":"token command","style":{"color":"#9a6e3a","background":"hsla(0, 0%, 100%, .5)"},"children":["-"]}],["$","span","code-segement5",{"className":"token command","style":{},"children":["Dloader."]}],["$","span","code-segement6",{"className":"token command","style":{"color":"#e90"},"children":["path"]}],["$","span","code-segement7",{"className":"token command","style":{"color":"#9a6e3a","background":"hsla(0, 0%, 100%, .5)"},"children":["="]}],["$","span","code-segement8",{"className":"token command","style":{},"children":["ext"]}],["$","span","code-segement9",{"className":"$undefined","style":{},"children":["\r\n"]}],["$","span","code-segement10",{"className":"$undefined","style":{},"children":[""]}],["$","span","code-segement11",{"className":"token command","style":{"color":"#07a"},"children":["java"]}],["$","span","code-segement12",{"className":"token command","style":{},"children":[" -jar app.jar"]}]]]}]}]}],"\n",["$","pre",null,{"children":["$","div",null,{"className":"mdx-components_code__3gNm1","style":{"color":"black","background":"#f5f2f0","textShadow":"0 1px white","fontFamily":"Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace","fontSize":"1em","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","wordWrap":"normal","lineHeight":"1.5","MozTabSize":"4","OTabSize":"4","tabSize":"4","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1em","margin":".5em 0","overflow":"auto"},"children":["$","code",null,{"className":"language-batch","style":{"whiteSpace":"pre","color":"black","background":"none","textShadow":"0 1px white","fontFamily":"Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace","fontSize":"1em","textAlign":"left","wordSpacing":"normal","wordBreak":"normal","wordWrap":"normal","lineHeight":"1.5","MozTabSize":"4","OTabSize":"4","tabSize":"4","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none"},"children":[false,[["$","span","code-segement0",{"className":"token command","style":{"color":"#07a"},"children":["SET"]}],["$","span","code-segement1",{"className":"token command","style":{},"children":[" loader."]}],["$","span","code-segement2",{"className":"token command","style":{"color":"#e90"},"children":["path"]}],["$","span","code-segement3",{"className":"token command","style":{"color":"#9a6e3a","background":"hsla(0, 0%, 100%, .5)"},"children":["="]}],["$","span","code-segement4",{"className":"token command","style":{},"children":["ext"]}],["$","span","code-segement5",{"className":"$undefined","style":{},"children":["\r\n"]}],["$","span","code-segement6",{"className":"$undefined","style":{},"children":[""]}],["$","span","code-segement7",{"className":"token command","style":{"color":"#07a"},"children":["java"]}],["$","span","code-segement8",{"className":"token command","style":{},"children":[" -jar app.jar"]}]]]}]}]}],"\n",["$","pre",null,{"children":["$","div",null,{"className":"mdx-components_code__3gNm1","style":{"color":"black","background":"#f5f2f0","textShadow":"0 1px white","fontFamily":"Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace","fontSize":"1em","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","wordWrap":"normal","lineHeight":"1.5","MozTabSize":"4","OTabSize":"4","tabSize":"4","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1em","margin":".5em 0","overflow":"auto"},"children":["$","code",null,{"className":"language-batch","style":{"whiteSpace":"pre","color":"black","background":"none","textShadow":"0 1px white","fontFamily":"Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace","fontSize":"1em","textAlign":"left","wordSpacing":"normal","wordBreak":"normal","wordWrap":"normal","lineHeight":"1.5","MozTabSize":"4","OTabSize":"4","tabSize":"4","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none"},"children":[false,[["$","span","code-segement0",{"className":"token command","style":{"color":"#07a"},"children":["SET"]}],["$","span","code-segement1",{"className":"token command","style":{},"children":[" "]}],["$","span","code-segement2",{"className":"token command","style":{"color":"#e90"},"children":["LOADER_PATH"]}],["$","span","code-segement3",{"className":"token command","style":{"color":"#9a6e3a","background":"hsla(0, 0%, 100%, .5)"},"children":["="]}],["$","span","code-segement4",{"className":"token command","style":{},"children":["ext"]}],["$","span","code-segement5",{"className":"$undefined","style":{},"children":["\r\n"]}],["$","span","code-segement6",{"className":"$undefined","style":{},"children":[""]}],["$","span","code-segement7",{"className":"token command","style":{"color":"#07a"},"children":["java"]}],["$","span","code-segement8",{"className":"token command","style":{},"children":[" -jar app.jar"]}]]]}]}]}],"\n",["$","div",null,{"className":"mdx-components_paragraph__AUxxF","children":"註："}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"className":"mdx-components_list-item__fJ1NL","children":["關於 ",["$","code",null,{"className":"undefined mdx-components_inline-code__y_QeQ","children":"loader.path"}],"：","\n",["$","ul",null,{"children":["\n",["$","li",null,{"className":"mdx-components_list-item__fJ1NL","children":["Value 以 CSV 格式，可以指定多個 paths，可以用 ",["$","code",null,{"className":"undefined mdx-components_inline-code__y_QeQ","children":","}]," 串連起黎，例如 ",["$","code",null,{"className":"undefined mdx-components_inline-code__y_QeQ","children":"ext/jar,ext/config,my-lib-1.0.0.jar"}],"。"]}],"\n",["$","li",null,{"className":"mdx-components_list-item__fJ1NL","children":"啲 paths 可以係目錄或者檔案。"}],"\n",["$","li",null,{"className":"mdx-components_list-item__fJ1NL","children":"啲 paths 可以係 absolute path 或者 relative path。"}],"\n"]}],"\n"]}],"\n",["$","li",null,{"className":"mdx-components_list-item__fJ1NL","children":["Optional 既 ",["$","code",null,{"className":"undefined mdx-components_inline-code__y_QeQ","children":"loader.home"}],"：","\n",["$","ul",null,{"children":["\n",["$","li",null,{"className":"mdx-components_list-item__fJ1NL","children":["畀我地提供 ",["$","code",null,{"className":"undefined mdx-components_inline-code__y_QeQ","children":"loader.path"}]," 所有 paths 既 base directory。"]}],"\n",["$","li",null,{"className":"mdx-components_list-item__fJ1NL","children":["例如我地有 ",["$","code",null,{"className":"undefined mdx-components_inline-code__y_QeQ","children":"ext/jar"}]," 以及 ",["$","code",null,{"className":"undefined mdx-components_inline-code__y_QeQ","children":"ext/config"}],"，咁我地可以用：",["$","code",null,{"className":"undefined mdx-components_inline-code__y_QeQ","children":"loader.home=ext"}],"、",["$","code",null,{"className":"undefined mdx-components_inline-code__y_QeQ","children":"loader.path=jar,config"}],"。"]}],"\n"]}],"\n"]}],"\n",["$","li",null,{"className":"mdx-components_list-item__fJ1NL","children":["就算外置所有 ",["$","code",null,{"className":"undefined mdx-components_inline-code__y_QeQ","children":"BOOT-INF/lib"}]," 既 JAR 檔，Spring Boot 都可以成功啟動。"]}],"\n"]}],"\n",["$","hr",null,{"className":"mdx-components_hr__o_oFr"}],"\n",["$","a",null,{"href":"#6-參考資料","style":{"textDecoration":"none"},"children":["$","h1",null,{"id":"6-參考資料","className":"mdx-components_heading__HrNl3 mdx-components_heading-new-section__YU39B","style":{"zIndex":6000000},"children":[["$","i",null,{"className":"fa-solid fa-link mdx-components_heading-link__r6M6c"}],"6 參考資料"]}]}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"className":"mdx-components_list-item__fJ1NL","children":["$","span",null,{"children":["$","a",null,{"href":"https://docs.spring.io/spring-boot/specification/executable-jar/nested-jars.html","target":"_blank","rel":"external nofollow noopener noreferrer","className":"common_anchor__kGNsN","children":"Spring Boot 官方文檔 - The Executable Jar Format - Nested JARs"}]}]}],"\n",["$","li",null,{"className":"mdx-components_list-item__fJ1NL","children":["$","span",null,{"children":["$","a",null,{"href":"https://docs.spring.io/spring-boot/specification/executable-jar/property-launcher.html","target":"_blank","rel":"external nofollow noopener noreferrer","className":"common_anchor__kGNsN","children":"Spring Boot 官方文檔 - The Executable Jar Format - PropertiesLauncher Features"}]}]}],"\n",["$","li",null,{"className":"mdx-components_list-item__fJ1NL","children":["$","span",null,{"children":["$","a",null,{"href":"https://docs.spring.io/spring-boot/specification/executable-jar/restrictions.html","target":"_blank","rel":"external nofollow noopener noreferrer","className":"common_anchor__kGNsN","children":"Spring Boot 官方文檔 - The Executable Jar Format - Executable Jar Restrictions"}]}]}],"\n",["$","li",null,{"className":"mdx-components_list-item__fJ1NL","children":["$","span",null,{"children":["$","a",null,{"href":"https://docs.spring.io/spring-boot/api/java/org/springframework/boot/loader/launch/PropertiesLauncher.html","target":"_blank","rel":"external nofollow noopener noreferrer","className":"common_anchor__kGNsN","children":["Spring Boot Javadoc - ",["$","code",null,{"className":"undefined mdx-components_inline-code__y_QeQ","children":"PropertiesLauncher"}]]}]}]}],"\n",["$","li",null,{"className":"mdx-components_list-item__fJ1NL","children":["$","span",null,{"children":["$","a",null,{"href":"https://github.com/spring-projects/spring-boot/blob/main/spring-boot-project/spring-boot-tools/spring-boot-loader/src/main/java/org/springframework/boot/loader/launch/PropertiesLauncher.java#L577","target":"_blank","rel":"external nofollow noopener noreferrer","className":"common_anchor__kGNsN","children":["Spring Boot GitHub - ",["$","code",null,{"className":"undefined mdx-components_inline-code__y_QeQ","children":"PropertiesLauncher.java"}]," - ",["$","code",null,{"className":"undefined mdx-components_inline-code__y_QeQ","children":"main"}]," method"]}]}]}],"\n"]}]],[["$","link","0",{"rel":"stylesheet","href":"/e2-next/_next/static/css/caf337e7effc00c7.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}]],["$","$Lc",null,{"children":"$Ld"}]]}],{},null,false]},null,false]},null,false]},null,false]},null,false]},null,false],["$","$1","h",{"children":[null,["$","$1","YKWfUnlZCvkjyLWQB5BUn",{"children":[["$","$Le",null,{"children":"$Lf"}],["$","$L10",null,{"children":"$L11"}],null]}]]}],false]],"m":"$undefined","G":["$12","$undefined"],"s":false,"S":true}
b:{}
11:[["$","meta","0",{"name":"viewport","content":"width=device-width, initial-scale=1"}]]
f:[["$","meta","0",{"charSet":"utf-8"}],["$","title","1",{"children":"Blog posts"}],["$","meta","2",{"name":"description","content":"Powered by Next.js and React"}],["$","link","3",{"rel":"icon","href":"/e2-next/favicon.ico","type":"image/x-icon","sizes":"48x48"}]]
d:null
