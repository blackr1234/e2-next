1:"$Sreact.fragment"
2:I[8287,["7829","static/chunks/7829-b7b9eb1dbe0d40e4.js","2153","static/chunks/2153-45fd9844831c6348.js","7177","static/chunks/app/layout-ea91c2d128ec48c2.js"],"default"]
3:I[3339,["7829","static/chunks/7829-b7b9eb1dbe0d40e4.js","8974","static/chunks/app/page-c8b940db14fac9a0.js"],"default"]
4:I[1367,["7829","static/chunks/7829-b7b9eb1dbe0d40e4.js","2153","static/chunks/2153-45fd9844831c6348.js","7177","static/chunks/app/layout-ea91c2d128ec48c2.js"],"default"]
5:I[5244,[],""]
6:I[3866,[],""]
7:I[4798,["7829","static/chunks/7829-b7b9eb1dbe0d40e4.js","8974","static/chunks/app/page-c8b940db14fac9a0.js"],"default"]
8:I[6121,["7829","static/chunks/7829-b7b9eb1dbe0d40e4.js","8974","static/chunks/app/page-c8b940db14fac9a0.js"],"default"]
9:I[3667,["7829","static/chunks/7829-b7b9eb1dbe0d40e4.js","8974","static/chunks/app/page-c8b940db14fac9a0.js"],"default"]
a:I[8407,["7829","static/chunks/7829-b7b9eb1dbe0d40e4.js","2153","static/chunks/2153-45fd9844831c6348.js","7177","static/chunks/app/layout-ea91c2d128ec48c2.js"],"default"]
b:I[8173,["7829","static/chunks/7829-b7b9eb1dbe0d40e4.js","8974","static/chunks/app/page-c8b940db14fac9a0.js"],""]
c:I[3197,["7829","static/chunks/7829-b7b9eb1dbe0d40e4.js","2153","static/chunks/2153-45fd9844831c6348.js","7177","static/chunks/app/layout-ea91c2d128ec48c2.js"],"default"]
d:I[7933,["7829","static/chunks/7829-b7b9eb1dbe0d40e4.js","2153","static/chunks/2153-45fd9844831c6348.js","7177","static/chunks/app/layout-ea91c2d128ec48c2.js"],"default"]
e:I[3800,["7829","static/chunks/7829-b7b9eb1dbe0d40e4.js","2153","static/chunks/2153-45fd9844831c6348.js","7177","static/chunks/app/layout-ea91c2d128ec48c2.js"],"default"]
f:I[6213,[],"OutletBoundary"]
11:I[6213,[],"MetadataBoundary"]
13:I[6213,[],"ViewportBoundary"]
15:I[4835,[],""]
:HL["/e2-next/_next/static/css/d3df112486f97f47.css","style"]
:HL["/e2-next/_next/static/css/c3624a693ae5a0c4.css","style"]
:HL["/e2-next/_next/static/css/952e59b04e0cf1ba.css","style"]
0:{"P":null,"b":"X5bjo5zAGx15RUpHPrWh9","p":"/e2-next","c":["","blog","kafka-cli"],"i":false,"f":[[["",{"children":["blog",{"children":["(2021-09)",{"children":["kafka-cli",{"children":["__PAGE__",{}]}]}]}]},"$undefined","$undefined",true],["",["$","$1","c",{"children":[[["$","link","0",{"rel":"stylesheet","href":"/e2-next/_next/static/css/d3df112486f97f47.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}],["$","link","1",{"rel":"stylesheet","href":"/e2-next/_next/static/css/c3624a693ae5a0c4.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}]],["$","html",null,{"lang":"en","children":[["$","head",null,{"children":[["$","link",null,{"href":"https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap","rel":"stylesheet"}],["$","link",null,{"rel":"stylesheet","href":"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css"}]]}],["$","body",null,{"children":["$","$L2",null,{"children":["$","$L3",null,{"gap":5,"children":[["$","$L3",null,{"gap":5,"className":"text-center","children":[["$","div",null,{"children":[["$","code",null,{"className":"SiteHeader_name__cwQmL","children":"Chung Cheuk Hang Michael"}],["$","code",null,{"className":"SiteHeader_title__CCfvI","children":"Java Web Developer"}]]}],["$","$L4",null,{}]]}],["$","$L5",null,{"parallelRouterKey":"children","segmentPath":["children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L6",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":[[],[["$","title",null,{"children":"404: This page could not be found."}],["$","div",null,{"style":{"fontFamily":"system-ui,\"Segoe UI\",Roboto,Helvetica,Arial,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\"","height":"100vh","textAlign":"center","display":"flex","flexDirection":"column","alignItems":"center","justifyContent":"center"},"children":["$","div",null,{"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}"}}],["$","h1",null,{"className":"next-error-h1","style":{"display":"inline-block","margin":"0 20px 0 0","padding":"0 23px 0 0","fontSize":24,"fontWeight":500,"verticalAlign":"top","lineHeight":"49px"},"children":404}],["$","div",null,{"style":{"display":"inline-block"},"children":["$","h2",null,{"style":{"fontSize":14,"fontWeight":400,"lineHeight":"49px","margin":0},"children":"This page could not be found."}]}]]}]}]]],"forbidden":"$undefined","unauthorized":"$undefined"}],["$","hr",null,{}],["$","$L3",null,{"gap":3,"children":["$","$L7",null,{"className":"text-center","children":["$","$L8",null,{"xs":1,"sm":2,"md":3,"className":"justify-content-center g-3","children":[["$","$L9","0",{"children":["$","$La",null,{"as":"$b","href":"tel:+85263301333","target":"_blank","rel":"external nofollow noopener noreferrer","className":"SiteFooter_contact-item__2JRRr","children":["$","$Lc",null,{"children":[["$","$Ld",null,{"children":["$","i",null,{"className":"fa-solid fa-phone","style":{"color":"#009688"}}]}],["$","$Le",null,{"className":"text-muted","children":["6330 1333"," "]}]]}]}]}],["$","$L9","1",{"children":["$","$La",null,{"as":"$b","href":"mailto:michaelboyboy@gmail.com","target":"_blank","rel":"external nofollow noopener noreferrer","className":"SiteFooter_contact-item__2JRRr","children":["$","$Lc",null,{"children":[["$","$Ld",null,{"children":["$","i",null,{"className":"fa-solid fa-envelope","style":{"color":"#f44336"}}]}],["$","$Le",null,{"className":"text-muted","children":["michaelboyboy@gmail.com"," "]}]]}]}]}],["$","$L9","2",{"children":["$","$La",null,{"as":"$b","href":"https://www.linkedin.com/in/mickchung","target":"_blank","rel":"external nofollow noopener noreferrer","className":"SiteFooter_contact-item__2JRRr","children":["$","$Lc",null,{"children":[["$","$Ld",null,{"children":["$","i",null,{"className":"fa-brands fa-linkedin","style":{"color":"#2196f3"}}]}],["$","$Le",null,{"className":"text-muted","children":["www.linkedin.com/in/mickchung"," "]}]]}]}]}]]}]}]}]]}]}]}]]}]]}],{"children":["blog",["$","$1","c",{"children":[null,["$","$L5",null,{"parallelRouterKey":"children","segmentPath":["children","blog","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L6",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","forbidden":"$undefined","unauthorized":"$undefined"}]]}],{"children":["(2021-09)",["$","$1","c",{"children":[null,["$","$L5",null,{"parallelRouterKey":"children","segmentPath":["children","blog","children","(2021-09)","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L6",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","forbidden":"$undefined","unauthorized":"$undefined"}]]}],{"children":["kafka-cli",["$","$1","c",{"children":[null,["$","$L5",null,{"parallelRouterKey":"children","segmentPath":["children","blog","children","(2021-09)","children","kafka-cli","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L6",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","forbidden":"$undefined","unauthorized":"$undefined"}]]}],{"children":["__PAGE__",["$","$1","c",{"children":[[["$","h1",null,{"style":{"fontWeight":"bold"},"children":"1 Kafka 簡介"}],"\n",["$","p",null,{"className":"mdx-components_paragraph__AUxxF","children":"Microservices 之間除左即時、同步既溝通，有啲情況下用異步（async）既溝通就已經足夠。而 Kafka 係一個同時支援 message queue + publish-subscribe 既工具。"}],"\n",["$","p",null,{"className":"mdx-components_paragraph__AUxxF","children":["Kafka 既設計應用左 ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"2"}]," 種 messaging 模式："]}],"\n",["$","table",null,{"className":"mdx-components_table__bAy19","children":[["$","thead",null,{"children":["$","tr",null,{"children":[["$","th",null,{"style":{"textAlign":"center"},"children":"模式"}],["$","th",null,{"children":"描述（以 Kafka 術語）"}]]}]}],["$","tbody",null,{"children":[["$","tr",null,{"children":[["$","td",null,{"style":{"textAlign":"center"},"children":"Publish-subscribe"}],["$","td",null,{"children":"每個訊息都會 broadcast 去所有 consumer groups。"}]]}],["$","tr",null,{"children":[["$","td",null,{"style":{"textAlign":"center"},"children":"Message queue"}],["$","td",null,{"children":["每個訊息喺每個 consumer group 都只會有 ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"1"}]," 個 consumer 接收到。"]}]]}]]}]]}],"\n",["$","p",null,{"className":"mdx-components_paragraph__AUxxF","children":"Kafka 強大之處："}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":"高性能、高吞吐量"}],"\n",["$","li",null,{"children":"支援 broker horizontal scaling"}],"\n",["$","li",null,{"children":["支援 producer horizontal scaling","\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":"一個 topic 可以分成多個 partitions。"}],"\n"]}],"\n"]}],"\n",["$","li",null,{"children":["支援 consumer horizontal scaling","\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":"多個 consumers 可以 form 成一個 consumer group。"}],"\n"]}],"\n"]}],"\n",["$","li",null,{"children":"作為一個 MQ，支援 consumer 重新啟動之後可以即時接收返斷線果陣 producer 所產生但又未被接收既訊息。"}],"\n"]}],"\n",["$","p",null,{"className":"mdx-components_paragraph__AUxxF","children":"註：Horizontal scaling 即係我地可以喺多過一部機器上面 deploy 一模一樣既 application，而呢啲機器以及 application 係唔知道其他機器既存在。咁做既目的係想避免有啲機器行行下突然 fail 左，影響業務。"}],"\n",["$","hr",null,{}],"\n",["$","h1",null,{"style":{"fontWeight":"bold"},"children":"2 安裝 Kafka"}],"\n",["$","h2",null,{"style":{"fontWeight":"bold"},"children":"2.1 本地（免安裝）"}],"\n",["$","p",null,{"className":"mdx-components_paragraph__AUxxF","children":["$","a",null,{"href":"https://kafka.apache.org/downloads","children":"Kafka 官網 - Download"}]}],"\n",["$","p",null,{"className":"mdx-components_paragraph__AUxxF","children":["建議將 Kafka 既 binaries 解壓縮去 ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"C:/"}],"，因為如果條 path 太長，行 command 果陣可能會有 error。"]}],"\n",["$","hr",null,{}],"\n",["$","h2",null,{"style":{"fontWeight":"bold"},"children":"2.2 Docker image"}],"\n",["$","h3",null,{"style":{"fontWeight":"bold"},"children":"2.2.1 ZooKeeper"}],"\n",["$","p",null,{"className":"mdx-components_paragraph__AUxxF","children":"可以選擇："}],"\n",["$","pre",null,{"children":["$","div",null,{"className":"mdx-components_code__3gNm1","style":{"color":"black","background":"#f5f2f0","textShadow":"0 1px white","fontFamily":"Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace","fontSize":"1em","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","wordWrap":"normal","lineHeight":"1.5","MozTabSize":"4","OTabSize":"4","tabSize":"4","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1em","margin":".5em 0","overflow":"auto"},"children":["$","code",null,{"className":"language-bash","style":{"whiteSpace":"pre","color":"black","background":"none","textShadow":"0 1px white","fontFamily":"Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace","fontSize":"1em","textAlign":"left","wordSpacing":"normal","wordBreak":"normal","wordWrap":"normal","lineHeight":"1.5","MozTabSize":"4","OTabSize":"4","tabSize":"4","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none"},"children":[false,[["$","span","code-segement0",{"className":"token","style":{"color":"#DD4A68"},"children":["docker"]}],["$","span","code-segement1",{"className":"$undefined","style":{},"children":[" image pull zookeeper"]}]]]}]}]}],"\n",["$","pre",null,{"children":["$","div",null,{"className":"mdx-components_code__3gNm1","style":{"color":"black","background":"#f5f2f0","textShadow":"0 1px white","fontFamily":"Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace","fontSize":"1em","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","wordWrap":"normal","lineHeight":"1.5","MozTabSize":"4","OTabSize":"4","tabSize":"4","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1em","margin":".5em 0","overflow":"auto"},"children":["$","code",null,{"className":"language-bash","style":{"whiteSpace":"pre","color":"black","background":"none","textShadow":"0 1px white","fontFamily":"Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace","fontSize":"1em","textAlign":"left","wordSpacing":"normal","wordBreak":"normal","wordWrap":"normal","lineHeight":"1.5","MozTabSize":"4","OTabSize":"4","tabSize":"4","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none"},"children":[false,[["$","span","code-segement0",{"className":"token","style":{"color":"#DD4A68"},"children":["docker"]}],["$","span","code-segement1",{"className":"$undefined","style":{},"children":[" image pull wurstmeister/zookeeper"]}]]]}]}]}],"\n",["$","pre",null,{"children":["$","div",null,{"className":"mdx-components_code__3gNm1","style":{"color":"black","background":"#f5f2f0","textShadow":"0 1px white","fontFamily":"Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace","fontSize":"1em","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","wordWrap":"normal","lineHeight":"1.5","MozTabSize":"4","OTabSize":"4","tabSize":"4","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1em","margin":".5em 0","overflow":"auto"},"children":["$","code",null,{"className":"language-bash","style":{"whiteSpace":"pre","color":"black","background":"none","textShadow":"0 1px white","fontFamily":"Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace","fontSize":"1em","textAlign":"left","wordSpacing":"normal","wordBreak":"normal","wordWrap":"normal","lineHeight":"1.5","MozTabSize":"4","OTabSize":"4","tabSize":"4","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none"},"children":[false,[["$","span","code-segement0",{"className":"token","style":{"color":"#DD4A68"},"children":["docker"]}],["$","span","code-segement1",{"className":"$undefined","style":{},"children":[" image pull confluentinc/cp-zookeeper"]}]]]}]}]}],"\n",["$","hr",null,{}],"\n",["$","h3",null,{"style":{"fontWeight":"bold"},"children":"2.2.2 Kafka"}],"\n",["$","p",null,{"className":"mdx-components_paragraph__AUxxF","children":"可以選擇："}],"\n",["$","pre",null,{"children":["$","div",null,{"className":"mdx-components_code__3gNm1","style":{"color":"black","background":"#f5f2f0","textShadow":"0 1px white","fontFamily":"Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace","fontSize":"1em","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","wordWrap":"normal","lineHeight":"1.5","MozTabSize":"4","OTabSize":"4","tabSize":"4","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1em","margin":".5em 0","overflow":"auto"},"children":["$","code",null,{"className":"language-bash","style":{"whiteSpace":"pre","color":"black","background":"none","textShadow":"0 1px white","fontFamily":"Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace","fontSize":"1em","textAlign":"left","wordSpacing":"normal","wordBreak":"normal","wordWrap":"normal","lineHeight":"1.5","MozTabSize":"4","OTabSize":"4","tabSize":"4","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none"},"children":[false,[["$","span","code-segement0",{"className":"token","style":{"color":"#DD4A68"},"children":["docker"]}],["$","span","code-segement1",{"className":"$undefined","style":{},"children":[" image pull wurstmeister/kafka"]}]]]}]}]}],"\n",["$","pre",null,{"children":["$","div",null,{"className":"mdx-components_code__3gNm1","style":{"color":"black","background":"#f5f2f0","textShadow":"0 1px white","fontFamily":"Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace","fontSize":"1em","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","wordWrap":"normal","lineHeight":"1.5","MozTabSize":"4","OTabSize":"4","tabSize":"4","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1em","margin":".5em 0","overflow":"auto"},"children":["$","code",null,{"className":"language-bash","style":{"whiteSpace":"pre","color":"black","background":"none","textShadow":"0 1px white","fontFamily":"Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace","fontSize":"1em","textAlign":"left","wordSpacing":"normal","wordBreak":"normal","wordWrap":"normal","lineHeight":"1.5","MozTabSize":"4","OTabSize":"4","tabSize":"4","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none"},"children":[false,[["$","span","code-segement0",{"className":"token","style":{"color":"#DD4A68"},"children":["docker"]}],["$","span","code-segement1",{"className":"$undefined","style":{},"children":[" image pull confluentinc/cp-kafka"]}]]]}]}]}],"\n",["$","hr",null,{}],"\n",["$","h1",null,{"style":{"fontWeight":"bold"},"children":"3 Commands"}],"\n",["$","p",null,{"className":"mdx-components_paragraph__AUxxF","children":["Windows 版既 CLI 喺 ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"bin/windows"}]," folder。"]}],"\n",["$","p",null,{"className":"mdx-components_paragraph__AUxxF","children":["如果想模擬到有多部機器同時運作，即係 horizontal scaling 既效果，穩陣啲可以用 Docker containers（保證獨立運行），而簡單啲既就可以複製成個 Kafka binaries 既 folder（不過其實複製啲 properties 檔已經足夠，因為啲數據檔案默認係儲存喺 ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"/tmp"}],"（Windows 版就係 ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"C:/tmp"}],"），而唔係儲存喺 Kafka 安裝檔既 folders 裡面）。"]}],"\n",["$","h2",null,{"style":{"fontWeight":"bold"},"children":"3.1 ZooKeeper"}],"\n",["$","h3",null,{"style":{"fontWeight":"bold"},"children":"3.1.1 啟動"}],"\n",["$","pre",null,{"children":["$","div",null,{"className":"mdx-components_code__3gNm1","style":{"color":"black","background":"#f5f2f0","textShadow":"0 1px white","fontFamily":"Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace","fontSize":"1em","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","wordWrap":"normal","lineHeight":"1.5","MozTabSize":"4","OTabSize":"4","tabSize":"4","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1em","margin":".5em 0","overflow":"auto"},"children":["$","code",null,{"className":"language-bash","style":{"whiteSpace":"pre","color":"black","background":"none","textShadow":"0 1px white","fontFamily":"Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace","fontSize":"1em","textAlign":"left","wordSpacing":"normal","wordBreak":"normal","wordWrap":"normal","lineHeight":"1.5","MozTabSize":"4","OTabSize":"4","tabSize":"4","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none"},"children":[false,[["$","span","code-segement0",{"className":"$undefined","style":{},"children":["bin/zookeeper-server-start.sh config/zookeeper.properties"]}]]]}]}]}],"\n",["$","pre",null,{"children":["$","div",null,{"className":"mdx-components_code__3gNm1","style":{"color":"black","background":"#f5f2f0","textShadow":"0 1px white","fontFamily":"Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace","fontSize":"1em","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","wordWrap":"normal","lineHeight":"1.5","MozTabSize":"4","OTabSize":"4","tabSize":"4","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1em","margin":".5em 0","overflow":"auto"},"children":["$","code",null,{"className":"language-powershell","style":{"whiteSpace":"pre","color":"black","background":"none","textShadow":"0 1px white","fontFamily":"Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace","fontSize":"1em","textAlign":"left","wordSpacing":"normal","wordBreak":"normal","wordWrap":"normal","lineHeight":"1.5","MozTabSize":"4","OTabSize":"4","tabSize":"4","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none"},"children":[false,[["$","span","code-segement0",{"className":"$undefined","style":{},"children":["bin\\windows\\zookeeper-server-"]}],["$","span","code-segement1",{"className":"token","style":{"color":"#DD4A68"},"children":["start"]}],["$","span","code-segement2",{"className":"token","style":{"color":"#999"},"children":["."]}],["$","span","code-segement3",{"className":"$undefined","style":{},"children":["bat config\\zookeeper"]}],["$","span","code-segement4",{"className":"token","style":{"color":"#999"},"children":["."]}],["$","span","code-segement5",{"className":"$undefined","style":{},"children":["properties"]}]]]}]}]}],"\n",["$","hr",null,{}],"\n",["$","h2",null,{"style":{"fontWeight":"bold"},"children":"3.2 Kafka broker"}],"\n",["$","p",null,{"className":"mdx-components_paragraph__AUxxF","children":["想要模擬多部 broker 機器同時運作，就需要修改每個 broker 既 Kafka binaries 裡面既 ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"config/server.properties"}],"："]}],"\n",["$","pre",null,{"children":["$","div",null,{"className":"mdx-components_code__3gNm1","style":{"color":"black","background":"#f5f2f0","textShadow":"0 1px white","fontFamily":"Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace","fontSize":"1em","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","wordWrap":"normal","lineHeight":"1.5","MozTabSize":"4","OTabSize":"4","tabSize":"4","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1em","margin":".5em 0","overflow":"auto"},"children":["$","code",null,{"className":"language-plaintext","style":{"whiteSpace":"pre","color":"black","background":"none","textShadow":"0 1px white","fontFamily":"Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace","fontSize":"1em","textAlign":"left","wordSpacing":"normal","wordBreak":"normal","wordWrap":"normal","lineHeight":"1.5","MozTabSize":"4","OTabSize":"4","tabSize":"4","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none"},"children":[false,[["$","span","code-segement0",{"className":"$undefined","style":{},"children":["# 唔同既 broker 要 assign 唔同既 ID\r\n"]}],"broker.id=9\r\n","\r\n","# 唔同既 broker 要 assign 唔同既 port\r\n","listeners=PLAINTEXT://:9999\r\n","\r\n","# 唔同既 broker 要 assign 唔同既 log directory\r\n","log.dirs=/tmp/kafka-logs-9"]]}]}]}],"\n",["$","p",null,{"className":"mdx-components_paragraph__AUxxF","children":["我地會起 ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"2"}],"個 brokers："]}],"\n",["$","table",null,{"className":"mdx-components_table__bAy19","children":[["$","thead",null,{"children":["$","tr",null,{"children":[["$","th",null,{"style":{"textAlign":"center"},"children":"Broker"}],["$","th",null,{"style":{"textAlign":"center"},"children":["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"broker.id"}]}],["$","th",null,{"style":{"textAlign":"center"},"children":[["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"listeners"}]," 既 port"]}],["$","th",null,{"children":["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"log.dirs"}]}]]}]}],["$","tbody",null,{"children":[["$","tr",null,{"children":[["$","td",null,{"style":{"textAlign":"center"},"children":"1"}],["$","td",null,{"style":{"textAlign":"center"},"children":["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"111"}]}],["$","td",null,{"style":{"textAlign":"center"},"children":["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"9991"}]}],["$","td",null,{"children":["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"/tmp/kafka-logs-1"}]}]]}],["$","tr",null,{"children":[["$","td",null,{"style":{"textAlign":"center"},"children":"2"}],["$","td",null,{"style":{"textAlign":"center"},"children":["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"222"}]}],["$","td",null,{"style":{"textAlign":"center"},"children":["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"9992"}]}],["$","td",null,{"children":["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"/tmp/kafka-logs-2"}]}]]}]]}]]}],"\n",["$","p",null,{"className":"mdx-components_paragraph__AUxxF","children":"註："}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":["Windows 既話都可以用上面既 log dir，啲 Kafka 數據會去左 ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"C:/tmp"}],"。"]}],"\n",["$","li",null,{"children":["因為有啲 ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"--describe"}]," 既 commands 會顯示數字（例如列出所有 topics 會顯示 leaders、replicas、in-sync replicas），果啲數字其實係 broker ID。","\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":"所以為左容易啲分辨，broker ID 可以用長啲既數字（只可以用純數字）。"}],"\n"]}],"\n"]}],"\n"]}],"\n",["$","h3",null,{"style":{"fontWeight":"bold"},"children":"3.2.1 啟動"}],"\n",["$","pre",null,{"children":["$","div",null,{"className":"mdx-components_code__3gNm1","style":{"color":"black","background":"#f5f2f0","textShadow":"0 1px white","fontFamily":"Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace","fontSize":"1em","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","wordWrap":"normal","lineHeight":"1.5","MozTabSize":"4","OTabSize":"4","tabSize":"4","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1em","margin":".5em 0","overflow":"auto"},"children":["$","code",null,{"className":"language-bash","style":{"whiteSpace":"pre","color":"black","background":"none","textShadow":"0 1px white","fontFamily":"Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace","fontSize":"1em","textAlign":"left","wordSpacing":"normal","wordBreak":"normal","wordWrap":"normal","lineHeight":"1.5","MozTabSize":"4","OTabSize":"4","tabSize":"4","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none"},"children":[false,[["$","span","code-segement0",{"className":"$undefined","style":{},"children":["bin/kafka-server-start.sh config/server.properties"]}]]]}]}]}],"\n",["$","pre",null,{"children":["$","div",null,{"className":"mdx-components_code__3gNm1","style":{"color":"black","background":"#f5f2f0","textShadow":"0 1px white","fontFamily":"Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace","fontSize":"1em","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","wordWrap":"normal","lineHeight":"1.5","MozTabSize":"4","OTabSize":"4","tabSize":"4","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1em","margin":".5em 0","overflow":"auto"},"children":["$","code",null,{"className":"language-powershell","style":{"whiteSpace":"pre","color":"black","background":"none","textShadow":"0 1px white","fontFamily":"Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace","fontSize":"1em","textAlign":"left","wordSpacing":"normal","wordBreak":"normal","wordWrap":"normal","lineHeight":"1.5","MozTabSize":"4","OTabSize":"4","tabSize":"4","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none"},"children":[false,[["$","span","code-segement0",{"className":"$undefined","style":{},"children":["bin\\windows\\kafka-server-"]}],["$","span","code-segement1",{"className":"token","style":{"color":"#DD4A68"},"children":["start"]}],["$","span","code-segement2",{"className":"token","style":{"color":"#999"},"children":["."]}],["$","span","code-segement3",{"className":"$undefined","style":{},"children":["bat config\\server"]}],["$","span","code-segement4",{"className":"token","style":{"color":"#999"},"children":["."]}],["$","span","code-segement5",{"className":"$undefined","style":{},"children":["properties"]}]]]}]}]}],"\n",["$","h3",null,{"style":{"fontWeight":"bold"},"children":"3.2.2 停止"}],"\n",["$","p",null,{"className":"mdx-components_paragraph__AUxxF","children":"想要停止 broker 既話，一定要 gracefully shutdown broker。"}],"\n",["$","p",null,{"className":"mdx-components_paragraph__AUxxF","children":["可以撳 ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"Ctrl+C"}],"，佢會顯示 ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"shut down completed"}],"。"]}],"\n",["$","hr",null,{}],"\n",["$","h2",null,{"style":{"fontWeight":"bold"},"children":"3.3 Topic"}],"\n",["$","h3",null,{"style":{"fontWeight":"bold"},"children":"3.3.1 建立新 topic"}],"\n",["$","p",null,{"className":"mdx-components_paragraph__AUxxF","children":["我地會起 ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"1"}]," 個 topic，而呢個 topic 會有 ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"2"}]," 個 partitions。"]}],"\n",["$","p",null,{"className":"mdx-components_paragraph__AUxxF","children":"我地可以喺個 ZooKeeper 度執行以下既 command："}],"\n",["$","pre",null,{"children":["$","div",null,{"className":"mdx-components_code__3gNm1","style":{"color":"black","background":"#f5f2f0","textShadow":"0 1px white","fontFamily":"Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace","fontSize":"1em","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","wordWrap":"normal","lineHeight":"1.5","MozTabSize":"4","OTabSize":"4","tabSize":"4","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1em","margin":".5em 0","overflow":"auto"},"children":["$","code",null,{"className":"language-bash","style":{"whiteSpace":"pre","color":"black","background":"none","textShadow":"0 1px white","fontFamily":"Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace","fontSize":"1em","textAlign":"left","wordSpacing":"normal","wordBreak":"normal","wordWrap":"normal","lineHeight":"1.5","MozTabSize":"4","OTabSize":"4","tabSize":"4","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none"},"children":[false,[["$","span","code-segement0",{"className":"$undefined","style":{},"children":["bin/kafka-topics.sh --bootstrap-server localhost:9991,localhost:9992 --create --topic new-topic-name --partitions "]}],["$","span","code-segement1",{"className":"token","style":{"color":"#905"},"children":["2"]}]]]}]}]}],"\n",["$","pre",null,{"children":["$","div",null,{"className":"mdx-components_code__3gNm1","style":{"color":"black","background":"#f5f2f0","textShadow":"0 1px white","fontFamily":"Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace","fontSize":"1em","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","wordWrap":"normal","lineHeight":"1.5","MozTabSize":"4","OTabSize":"4","tabSize":"4","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1em","margin":".5em 0","overflow":"auto"},"children":["$","code",null,{"className":"language-powershell","style":{"whiteSpace":"pre","color":"black","background":"none","textShadow":"0 1px white","fontFamily":"Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace","fontSize":"1em","textAlign":"left","wordSpacing":"normal","wordBreak":"normal","wordWrap":"normal","lineHeight":"1.5","MozTabSize":"4","OTabSize":"4","tabSize":"4","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none"},"children":[false,[["$","span","code-segement0",{"className":"$undefined","style":{},"children":["bin\\windows\\kafka-topics"]}],["$","span","code-segement1",{"className":"token","style":{"color":"#999"},"children":["."]}],["$","span","code-segement2",{"className":"$undefined","style":{},"children":["bat "]}],["$","span","code-segement3",{"className":"token","style":{"color":"#9a6e3a","background":"hsla(0, 0%, 100%, .5)"},"children":["--"]}],["$","span","code-segement4",{"className":"$undefined","style":{},"children":["bootstrap-server localhost:9991"]}],["$","span","code-segement5",{"className":"token","style":{"color":"#999"},"children":[","]}],["$","span","code-segement6",{"className":"$undefined","style":{},"children":["localhost:9992 "]}],["$","span","code-segement7",{"className":"token","style":{"color":"#9a6e3a","background":"hsla(0, 0%, 100%, .5)"},"children":["--"]}],["$","span","code-segement8",{"className":"$undefined","style":{},"children":["create "]}],["$","span","code-segement9",{"className":"token","style":{"color":"#9a6e3a","background":"hsla(0, 0%, 100%, .5)"},"children":["--"]}],["$","span","code-segement10",{"className":"$undefined","style":{},"children":["topic "]}],["$","span","code-segement11",{"className":"token","style":{"color":"#DD4A68"},"children":["new-topic"]}],["$","span","code-segement12",{"className":"token","style":{"color":"#9a6e3a","background":"hsla(0, 0%, 100%, .5)"},"children":["-"]}],["$","span","code-segement13",{"className":"$undefined","style":{},"children":["name "]}],["$","span","code-segement14",{"className":"token","style":{"color":"#9a6e3a","background":"hsla(0, 0%, 100%, .5)"},"children":["--"]}],["$","span","code-segement15",{"className":"$undefined","style":{},"children":["partitions 2"]}]]]}]}]}],"\n",["$","hr",null,{}],"\n",["$","h3",null,{"style":{"fontWeight":"bold"},"children":"3.3.2 列出所有 topics"}],"\n",["$","pre",null,{"children":["$","div",null,{"className":"mdx-components_code__3gNm1","style":{"color":"black","background":"#f5f2f0","textShadow":"0 1px white","fontFamily":"Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace","fontSize":"1em","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","wordWrap":"normal","lineHeight":"1.5","MozTabSize":"4","OTabSize":"4","tabSize":"4","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1em","margin":".5em 0","overflow":"auto"},"children":["$","code",null,{"className":"language-bash","style":{"whiteSpace":"pre","color":"black","background":"none","textShadow":"0 1px white","fontFamily":"Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace","fontSize":"1em","textAlign":"left","wordSpacing":"normal","wordBreak":"normal","wordWrap":"normal","lineHeight":"1.5","MozTabSize":"4","OTabSize":"4","tabSize":"4","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none"},"children":[false,[["$","span","code-segement0",{"className":"$undefined","style":{},"children":["bin/kafka-topics.sh --bootstrap-server localhost:9991,localhost:9992 --list\r\n"]}],"bin/kafka-topics.sh --bootstrap-server localhost:9991,localhost:9992 --describe"]]}]}]}],"\n",["$","pre",null,{"children":["$","div",null,{"className":"mdx-components_code__3gNm1","style":{"color":"black","background":"#f5f2f0","textShadow":"0 1px white","fontFamily":"Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace","fontSize":"1em","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","wordWrap":"normal","lineHeight":"1.5","MozTabSize":"4","OTabSize":"4","tabSize":"4","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1em","margin":".5em 0","overflow":"auto"},"children":["$","code",null,{"className":"language-powershell","style":{"whiteSpace":"pre","color":"black","background":"none","textShadow":"0 1px white","fontFamily":"Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace","fontSize":"1em","textAlign":"left","wordSpacing":"normal","wordBreak":"normal","wordWrap":"normal","lineHeight":"1.5","MozTabSize":"4","OTabSize":"4","tabSize":"4","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none"},"children":[false,[["$","span","code-segement0",{"className":"$undefined","style":{},"children":["bin\\windows\\kafka-topics"]}],["$","span","code-segement1",{"className":"token","style":{"color":"#999"},"children":["."]}],["$","span","code-segement2",{"className":"$undefined","style":{},"children":["bat "]}],["$","span","code-segement3",{"className":"token","style":{"color":"#9a6e3a","background":"hsla(0, 0%, 100%, .5)"},"children":["--"]}],["$","span","code-segement4",{"className":"$undefined","style":{},"children":["bootstrap-server localhost:9991"]}],["$","span","code-segement5",{"className":"token","style":{"color":"#999"},"children":[","]}],["$","span","code-segement6",{"className":"$undefined","style":{},"children":["localhost:9992 "]}],["$","span","code-segement7",{"className":"token","style":{"color":"#9a6e3a","background":"hsla(0, 0%, 100%, .5)"},"children":["--"]}],["$","span","code-segement8",{"className":"$undefined","style":{},"children":["list\r\n"]}],["$","span","code-segement9",{"className":"$undefined","style":{},"children":["bin\\windows\\kafka-topics"]}],["$","span","code-segement10",{"className":"token","style":{"color":"#999"},"children":["."]}],["$","span","code-segement11",{"className":"$undefined","style":{},"children":["bat "]}],["$","span","code-segement12",{"className":"token","style":{"color":"#9a6e3a","background":"hsla(0, 0%, 100%, .5)"},"children":["--"]}],["$","span","code-segement13",{"className":"$undefined","style":{},"children":["bootstrap-server localhost:9991"]}],["$","span","code-segement14",{"className":"token","style":{"color":"#999"},"children":[","]}],["$","span","code-segement15",{"className":"$undefined","style":{},"children":["localhost:9992 "]}],["$","span","code-segement16",{"className":"token","style":{"color":"#9a6e3a","background":"hsla(0, 0%, 100%, .5)"},"children":["--"]}],["$","span","code-segement17",{"className":"$undefined","style":{},"children":["describe"]}]]]}]}]}],"\n",["$","hr",null,{}],"\n",["$","h2",null,{"style":{"fontWeight":"bold"},"children":"3.4 Kafka producer"}],"\n",["$","p",null,{"className":"mdx-components_paragraph__AUxxF","children":["Kafka 既 producer 係有 retry 機制，默認既 producer 配置下係會無限 retry 發送訊息，而必須注意既係，喺默認既 producer 配置下，",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"1"}]," 個 connection 最多可以有 ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"5"}]," 個等待發送既訊息。而如果有發送失敗既情況，例如發送第一個訊息出去果陣失敗左，但係發送排喺後面既訊息成功左既話，呢個情況下就會令最終條 MQ 裡面既訊息既次序同本來唔同。所以有啲配置係好重要，一定要設定。"]}],"\n",["$","p",null,{"className":"mdx-components_paragraph__AUxxF","children":[["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"config/producer.properties"}],"："]}],"\n",["$","pre",null,{"children":["$","div",null,{"className":"mdx-components_code__3gNm1","style":{"color":"black","background":"#f5f2f0","textShadow":"0 1px white","fontFamily":"Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace","fontSize":"1em","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","wordWrap":"normal","lineHeight":"1.5","MozTabSize":"4","OTabSize":"4","tabSize":"4","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1em","margin":".5em 0","overflow":"auto"},"children":["$","code",null,{"className":"language-plaintext","style":{"whiteSpace":"pre","color":"black","background":"none","textShadow":"0 1px white","fontFamily":"Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace","fontSize":"1em","textAlign":"left","wordSpacing":"normal","wordBreak":"normal","wordWrap":"normal","lineHeight":"1.5","MozTabSize":"4","OTabSize":"4","tabSize":"4","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none"},"children":[false,[["$","span","code-segement0",{"className":"$undefined","style":{},"children":["max.in.flight.requests.per.connection=1"]}]]]}]}]}],"\n",["$","p",null,{"className":"mdx-components_paragraph__AUxxF","children":"參考資料："}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":["$","a",null,{"href":"https://docs.confluent.io/platform/current/installation/configuration/producer-configs.html#retries","children":["Confluent - Producer Configurations - ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"retries"}]]}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"https://docs.confluent.io/platform/current/installation/configuration/producer-configs.html#max-in-flight-requests-per-connection","children":["Confluent - Producer Configurations - ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"max.in.flight.requests.per.connection"}]]}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"https://blog.softwaremill.com/does-kafka-really-guarantee-the-order-of-messages-3ca849fd19d2","children":"Does Kafka really guarantee the order of messages?"}]}],"\n"]}],"\n",["$","h3",null,{"style":{"fontWeight":"bold"},"children":"3.4.1 發送訊息"}],"\n",["$","p",null,{"className":"mdx-components_paragraph__AUxxF","children":"Kafka 既訊息係 key-value pair。"}],"\n",["$","p",null,{"className":"mdx-components_paragraph__AUxxF","children":["如果訊息需要順次序，有 ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"2"}]," 個方法，視乎情況而用："]}],"\n",["$","table",null,{"className":"mdx-components_table__bAy19","children":[["$","thead",null,{"children":["$","tr",null,{"children":[["$","th",null,{"children":"場景"}],["$","th",null,{"children":"方法"}]]}]}],["$","tbody",null,{"children":[["$","tr",null,{"children":[["$","td",null,{"children":"所有訊息都要順次序。"}],["$","td",null,{"children":["每個 topic 只有 ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"1"}]," 個 partition，而每個 consumer group 亦只需要 ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"1"}]," 個 consumer。"]}]]}],["$","tr",null,{"children":[["$","td",null,{"children":"只需要相同業務 ID（例如用戶 ID）既訊息順次序。"}],["$","td",null,{"children":"每個 topic 可以有多個 partitions，但係每個訊息都要提供業務 ID（例如用戶 ID）作為 key，用黎計算應該落入邊個 partition。因為 producer partitioner 係用 hashing algorithm 黎計算，所以相同既 key 一定會落入相同既 partition。"}]]}]]}]]}],"\n",["$","p",null,{"className":"mdx-components_paragraph__AUxxF","children":"用下面既 command 就可以發送訊息："}],"\n",["$","pre",null,{"children":["$","div",null,{"className":"mdx-components_code__3gNm1","style":{"color":"black","background":"#f5f2f0","textShadow":"0 1px white","fontFamily":"Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace","fontSize":"1em","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","wordWrap":"normal","lineHeight":"1.5","MozTabSize":"4","OTabSize":"4","tabSize":"4","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1em","margin":".5em 0","overflow":"auto"},"children":["$","code",null,{"className":"language-bash","style":{"whiteSpace":"pre","color":"black","background":"none","textShadow":"0 1px white","fontFamily":"Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace","fontSize":"1em","textAlign":"left","wordSpacing":"normal","wordBreak":"normal","wordWrap":"normal","lineHeight":"1.5","MozTabSize":"4","OTabSize":"4","tabSize":"4","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none"},"children":[false,[["$","span","code-segement0",{"className":"$undefined","style":{},"children":["bin/kafka-console-producer.sh --bootstrap-server localhost:9991,localhost:9992 --topic new-topic-name --property parse.key"]}],["$","span","code-segement1",{"className":"token","style":{"color":"#9a6e3a","background":"hsla(0, 0%, 100%, .5)"},"children":["="]}],["$","span","code-segement2",{"className":"$undefined","style":{},"children":["true --property key.separator"]}],["$","span","code-segement3",{"className":"token","style":{"color":"#9a6e3a","background":"hsla(0, 0%, 100%, .5)"},"children":["="]}],["$","span","code-segement4",{"className":"token","style":{"color":"#690"},"children":["\"|\""]}]]]}]}]}],"\n",["$","pre",null,{"children":["$","div",null,{"className":"mdx-components_code__3gNm1","style":{"color":"black","background":"#f5f2f0","textShadow":"0 1px white","fontFamily":"Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace","fontSize":"1em","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","wordWrap":"normal","lineHeight":"1.5","MozTabSize":"4","OTabSize":"4","tabSize":"4","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1em","margin":".5em 0","overflow":"auto"},"children":["$","code",null,{"className":"language-powershell","style":{"whiteSpace":"pre","color":"black","background":"none","textShadow":"0 1px white","fontFamily":"Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace","fontSize":"1em","textAlign":"left","wordSpacing":"normal","wordBreak":"normal","wordWrap":"normal","lineHeight":"1.5","MozTabSize":"4","OTabSize":"4","tabSize":"4","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none"},"children":[false,[["$","span","code-segement0",{"className":"$undefined","style":{},"children":["bin\\windows\\kafka-console-producer"]}],["$","span","code-segement1",{"className":"token","style":{"color":"#999"},"children":["."]}],["$","span","code-segement2",{"className":"$undefined","style":{},"children":["bat "]}],["$","span","code-segement3",{"className":"token","style":{"color":"#9a6e3a","background":"hsla(0, 0%, 100%, .5)"},"children":["--"]}],["$","span","code-segement4",{"className":"$undefined","style":{},"children":["bootstrap-server localhost:9991"]}],["$","span","code-segement5",{"className":"token","style":{"color":"#999"},"children":[","]}],["$","span","code-segement6",{"className":"$undefined","style":{},"children":["localhost:9992 "]}],["$","span","code-segement7",{"className":"token","style":{"color":"#9a6e3a","background":"hsla(0, 0%, 100%, .5)"},"children":["--"]}],["$","span","code-segement8",{"className":"$undefined","style":{},"children":["topic "]}],["$","span","code-segement9",{"className":"token","style":{"color":"#DD4A68"},"children":["new-topic"]}],["$","span","code-segement10",{"className":"token","style":{"color":"#9a6e3a","background":"hsla(0, 0%, 100%, .5)"},"children":["-"]}],["$","span","code-segement11",{"className":"$undefined","style":{},"children":["name "]}],["$","span","code-segement12",{"className":"token","style":{"color":"#9a6e3a","background":"hsla(0, 0%, 100%, .5)"},"children":["--"]}],["$","span","code-segement13",{"className":"$undefined","style":{},"children":["property parse"]}],["$","span","code-segement14",{"className":"token","style":{"color":"#999"},"children":["."]}],["$","span","code-segement15",{"className":"$undefined","style":{},"children":["key=true "]}],["$","span","code-segement16",{"className":"token","style":{"color":"#9a6e3a","background":"hsla(0, 0%, 100%, .5)"},"children":["--"]}],["$","span","code-segement17",{"className":"$undefined","style":{},"children":["property key"]}],["$","span","code-segement18",{"className":"token","style":{"color":"#999"},"children":["."]}],["$","span","code-segement19",{"className":"$undefined","style":{},"children":["separator="]}],["$","span","code-segement20",{"className":"token","style":{"color":"#690"},"children":["\"|\""]}]]]}]}]}],"\n",["$","p",null,{"className":"mdx-components_paragraph__AUxxF","children":["之後輸入訊息內容，例如 ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"1|foo"}],"、",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"2|bar"}],"，撳 ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"Enter"}]," 掣可以立即發送訊息。想退出既話可以撳 ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"Ctrl+C"}],"。"]}],"\n",["$","p",null,{"className":"mdx-components_paragraph__AUxxF","children":"我地可以喺 producer 度不停發送相同 key 既訊息，又夾雜下唔同 key 既訊息，睇下有冇出現同一個 key 既訊息畀每個 consumer group 裡面唔同既 consumers 接收既情況，但正常係唔會出現，因為 Kafka 保證相同 key 既訊息只會由每個 consumer group 裡面既同一個 consumer 接收，咁就保障到 message ordering。"}],"\n",["$","p",null,{"className":"mdx-components_paragraph__AUxxF","children":"註："}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":[["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"key.separator"}]," 默認係 tab。"]}],"\n",["$","li",null,{"children":[["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"--property parse.key=true --property key.separator=\"|\""}]," 係用黎話畀 producer 知我地既訊息既 key、value 用 ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"|"}]," 黎分隔。","\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":["如果唔加上呢 ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"2"}]," 個配置，咁訊息既 key 就會係 ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"null"}],"，而 producer partitioner 會用 round-robin 既方式將訊息發送去某個 partition。"]}],"\n"]}],"\n"]}],"\n"]}],"\n",["$","hr",null,{}],"\n",["$","h2",null,{"style":{"fontWeight":"bold"},"children":"3.5 Kafka consumer"}],"\n",["$","p",null,{"className":"mdx-components_paragraph__AUxxF","children":["我地會起 ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"2"}]," 個 consumer groups，各有 ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"2"}]," 個 consumers，總共 ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"4"}]," 個 consumers。"]}],"\n",["$","p",null,{"className":"mdx-components_paragraph__AUxxF","children":"每個 consumer group 都會收到一樣的訊息，而同一個 consumer group 裡面既每個 consumer 都會收到 Kafka assign 畀佢對應既 partition 既訊息。"}],"\n",["$","table",null,{"className":"mdx-components_table__bAy19","children":[["$","thead",null,{"children":["$","tr",null,{"children":[["$","th",null,{"style":{"textAlign":"center"},"children":"Consumer"}],["$","th",null,{"style":{"textAlign":"center"},"children":"Group ID"}]]}]}],["$","tbody",null,{"children":[["$","tr",null,{"children":[["$","td",null,{"style":{"textAlign":"center"},"children":"1"}],["$","td",null,{"style":{"textAlign":"center"},"children":["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"group1"}]}]]}],["$","tr",null,{"children":[["$","td",null,{"style":{"textAlign":"center"},"children":"2"}],["$","td",null,{"style":{"textAlign":"center"},"children":["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"group1"}]}]]}],["$","tr",null,{"children":[["$","td",null,{"style":{"textAlign":"center"},"children":"3"}],["$","td",null,{"style":{"textAlign":"center"},"children":["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"group2"}]}]]}],["$","tr",null,{"children":[["$","td",null,{"style":{"textAlign":"center"},"children":"4"}],["$","td",null,{"style":{"textAlign":"center"},"children":["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"group2"}]}]]}]]}]]}],"\n",["$","h3",null,{"style":{"fontWeight":"bold"},"children":"3.5.1 接收訊息"}],"\n",["$","p",null,{"className":"mdx-components_paragraph__AUxxF","children":["執行 ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"4"}]," 次以下既 command："]}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":["Consumer ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"1"}]," 用 ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"--consumer-property group.id=group1"}],"。"]}],"\n",["$","li",null,{"children":["Consumer ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"2"}]," 用 ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"--consumer-property group.id=group1"}],"。"]}],"\n",["$","li",null,{"children":["Consumer ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"3"}]," 用 ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"--consumer-property group.id=group2"}],"。"]}],"\n",["$","li",null,{"children":["Consumer ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"4"}]," 用 ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"--consumer-property group.id=group2"}],"。"]}],"\n"]}],"\n",["$","pre",null,{"children":["$","div",null,{"className":"mdx-components_code__3gNm1","style":{"color":"black","background":"#f5f2f0","textShadow":"0 1px white","fontFamily":"Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace","fontSize":"1em","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","wordWrap":"normal","lineHeight":"1.5","MozTabSize":"4","OTabSize":"4","tabSize":"4","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1em","margin":".5em 0","overflow":"auto"},"children":["$","code",null,{"className":"language-bash","style":{"whiteSpace":"pre","color":"black","background":"none","textShadow":"0 1px white","fontFamily":"Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace","fontSize":"1em","textAlign":"left","wordSpacing":"normal","wordBreak":"normal","wordWrap":"normal","lineHeight":"1.5","MozTabSize":"4","OTabSize":"4","tabSize":"4","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none"},"children":[false,[["$","span","code-segement0",{"className":"$undefined","style":{},"children":["bin/kafka-console-consumer.sh --bootstrap-server localhost:9991,localhost:9992 --topic new-topic-name --consumer-property group.id"]}],["$","span","code-segement1",{"className":"token","style":{"color":"#9a6e3a","background":"hsla(0, 0%, 100%, .5)"},"children":["="]}],["$","span","code-segement2",{"className":"$undefined","style":{},"children":["group1"]}]]]}]}]}],"\n",["$","pre",null,{"children":["$","div",null,{"className":"mdx-components_code__3gNm1","style":{"color":"black","background":"#f5f2f0","textShadow":"0 1px white","fontFamily":"Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace","fontSize":"1em","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","wordWrap":"normal","lineHeight":"1.5","MozTabSize":"4","OTabSize":"4","tabSize":"4","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1em","margin":".5em 0","overflow":"auto"},"children":["$","code",null,{"className":"language-powershell","style":{"whiteSpace":"pre","color":"black","background":"none","textShadow":"0 1px white","fontFamily":"Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace","fontSize":"1em","textAlign":"left","wordSpacing":"normal","wordBreak":"normal","wordWrap":"normal","lineHeight":"1.5","MozTabSize":"4","OTabSize":"4","tabSize":"4","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none"},"children":[false,[["$","span","code-segement0",{"className":"$undefined","style":{},"children":["bin\\windows\\kafka-console-consumer"]}],["$","span","code-segement1",{"className":"token","style":{"color":"#999"},"children":["."]}],["$","span","code-segement2",{"className":"$undefined","style":{},"children":["bat "]}],["$","span","code-segement3",{"className":"token","style":{"color":"#9a6e3a","background":"hsla(0, 0%, 100%, .5)"},"children":["--"]}],["$","span","code-segement4",{"className":"$undefined","style":{},"children":["bootstrap-server localhost:9991"]}],["$","span","code-segement5",{"className":"token","style":{"color":"#999"},"children":[","]}],["$","span","code-segement6",{"className":"$undefined","style":{},"children":["localhost:9992 "]}],["$","span","code-segement7",{"className":"token","style":{"color":"#9a6e3a","background":"hsla(0, 0%, 100%, .5)"},"children":["--"]}],["$","span","code-segement8",{"className":"$undefined","style":{},"children":["topic "]}],["$","span","code-segement9",{"className":"token","style":{"color":"#DD4A68"},"children":["new-topic"]}],["$","span","code-segement10",{"className":"token","style":{"color":"#9a6e3a","background":"hsla(0, 0%, 100%, .5)"},"children":["-"]}],["$","span","code-segement11",{"className":"$undefined","style":{},"children":["name "]}],["$","span","code-segement12",{"className":"token","style":{"color":"#9a6e3a","background":"hsla(0, 0%, 100%, .5)"},"children":["--"]}],["$","span","code-segement13",{"className":"$undefined","style":{},"children":["consumer-property "]}],["$","span","code-segement14",{"className":"token","style":{"color":"#DD4A68"},"children":["group"]}],["$","span","code-segement15",{"className":"token","style":{"color":"#999"},"children":["."]}],["$","span","code-segement16",{"className":"$undefined","style":{},"children":["id=group1"]}]]]}]}]}],"\n",["$","hr",null,{}],"\n",["$","h3",null,{"style":{"fontWeight":"bold"},"children":"3.5.2 列出 consumer groups"}],"\n",["$","pre",null,{"children":["$","div",null,{"className":"mdx-components_code__3gNm1","style":{"color":"black","background":"#f5f2f0","textShadow":"0 1px white","fontFamily":"Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace","fontSize":"1em","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","wordWrap":"normal","lineHeight":"1.5","MozTabSize":"4","OTabSize":"4","tabSize":"4","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1em","margin":".5em 0","overflow":"auto"},"children":["$","code",null,{"className":"language-bash","style":{"whiteSpace":"pre","color":"black","background":"none","textShadow":"0 1px white","fontFamily":"Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace","fontSize":"1em","textAlign":"left","wordSpacing":"normal","wordBreak":"normal","wordWrap":"normal","lineHeight":"1.5","MozTabSize":"4","OTabSize":"4","tabSize":"4","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none"},"children":[false,[["$","span","code-segement0",{"className":"$undefined","style":{},"children":["bin/kafka-consumer-groups.sh --bootstrap-server localhost:9991,localhost:9992 --describe --all-groups"]}]]]}]}]}],"\n",["$","pre",null,{"children":["$","div",null,{"className":"mdx-components_code__3gNm1","style":{"color":"black","background":"#f5f2f0","textShadow":"0 1px white","fontFamily":"Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace","fontSize":"1em","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","wordWrap":"normal","lineHeight":"1.5","MozTabSize":"4","OTabSize":"4","tabSize":"4","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1em","margin":".5em 0","overflow":"auto"},"children":["$","code",null,{"className":"language-powershell","style":{"whiteSpace":"pre","color":"black","background":"none","textShadow":"0 1px white","fontFamily":"Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace","fontSize":"1em","textAlign":"left","wordSpacing":"normal","wordBreak":"normal","wordWrap":"normal","lineHeight":"1.5","MozTabSize":"4","OTabSize":"4","tabSize":"4","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none"},"children":[false,[["$","span","code-segement0",{"className":"$undefined","style":{},"children":["bin\\windows\\kafka-consumer-groups"]}],["$","span","code-segement1",{"className":"token","style":{"color":"#999"},"children":["."]}],["$","span","code-segement2",{"className":"$undefined","style":{},"children":["bat "]}],["$","span","code-segement3",{"className":"token","style":{"color":"#9a6e3a","background":"hsla(0, 0%, 100%, .5)"},"children":["--"]}],["$","span","code-segement4",{"className":"$undefined","style":{},"children":["bootstrap-server localhost:9991"]}],["$","span","code-segement5",{"className":"token","style":{"color":"#999"},"children":[","]}],["$","span","code-segement6",{"className":"$undefined","style":{},"children":["localhost:9992 "]}],["$","span","code-segement7",{"className":"token","style":{"color":"#9a6e3a","background":"hsla(0, 0%, 100%, .5)"},"children":["--"]}],["$","span","code-segement8",{"className":"$undefined","style":{},"children":["describe "]}],["$","span","code-segement9",{"className":"token","style":{"color":"#9a6e3a","background":"hsla(0, 0%, 100%, .5)"},"children":["--"]}],["$","span","code-segement10",{"className":"$undefined","style":{},"children":["all-groups"]}]]]}]}]}],"\n",["$","hr",null,{}],"\n",["$","h1",null,{"style":{"fontWeight":"bold"},"children":"4 測試"}],"\n",["$","p",null,{"className":"mdx-components_paragraph__AUxxF","children":"先複製好所有安裝檔既 folders，然後跟次序啟用以下既 components："}],"\n",["$","ol",null,{"children":["\n",["$","li",null,{"children":"ZooKeeper"}],"\n",["$","li",null,{"children":"Broker 1"}],"\n",["$","li",null,{"children":"Broker 2"}],"\n",["$","li",null,{"children":"Producer 1"}],"\n",["$","li",null,{"children":"Producer 2"}],"\n",["$","li",null,{"children":"Consumer 1 (group 1)"}],"\n",["$","li",null,{"children":"Consumer 2 (group 1)"}],"\n",["$","li",null,{"children":"Consumer 3 (group 2)"}],"\n",["$","li",null,{"children":"Consumer 4 (group 2)"}],"\n"]}],"\n",["$","p",null,{"className":"mdx-components_paragraph__AUxxF","children":["$","img",null,{"src":"/e2-next/blog/2021-09/kafka-cli/kafka-cli-binaries.png","className":"mdx-components_image__4jSiz"}]}],"\n",["$","h2",null,{"style":{"fontWeight":"bold"},"children":"4.1 相同數量既 partitions、consumers"}],"\n",["$","p",null,{"className":"mdx-components_paragraph__AUxxF","children":["將以下既 command prompt script 保存做 ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"start-all.bat"}],"，然後執行："]}],"\n",["$","pre",null,{"children":["$","div",null,{"className":"mdx-components_code__3gNm1","style":{"color":"black","background":"#f5f2f0","textShadow":"0 1px white","fontFamily":"Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace","fontSize":"1em","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","wordWrap":"normal","lineHeight":"1.5","MozTabSize":"4","OTabSize":"4","tabSize":"4","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1em","margin":".5em 0","overflow":"auto"},"children":["$","code",null,{"className":"language-powershell","style":{"whiteSpace":"pre","color":"black","background":"none","textShadow":"0 1px white","fontFamily":"Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace","fontSize":"1em","textAlign":"left","wordSpacing":"normal","wordBreak":"normal","wordWrap":"normal","lineHeight":"1.5","MozTabSize":"4","OTabSize":"4","tabSize":"4","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none"},"children":[false,[["$","span","code-segement0",{"className":"$undefined","style":{},"children":["@"]}],["$","span","code-segement1",{"className":"token","style":{"color":"#DD4A68"},"children":["ECHO"]}],["$","span","code-segement2",{"className":"$undefined","style":{},"children":[" OFF\r\n"]}],"\r\n",["$","span","code-segement4",{"className":"$undefined","style":{},"children":[""]}],["$","span","code-segement5",{"className":"token","style":{"color":"#DD4A68"},"children":["PUSHD"]}],["$","span","code-segement6",{"className":"$undefined","style":{},"children":[" zookeeper\r\n"]}],["$","span","code-segement7",{"className":"$undefined","style":{},"children":[""]}],["$","span","code-segement8",{"className":"token","style":{"color":"#DD4A68"},"children":["START"]}],["$","span","code-segement9",{"className":"$undefined","style":{},"children":[" bin\\windows\\zookeeper-server-"]}],["$","span","code-segement10",{"className":"token","style":{"color":"#DD4A68"},"children":["start"]}],["$","span","code-segement11",{"className":"token","style":{"color":"#999"},"children":["."]}],["$","span","code-segement12",{"className":"$undefined","style":{},"children":["bat config\\zookeeper"]}],["$","span","code-segement13",{"className":"token","style":{"color":"#999"},"children":["."]}],["$","span","code-segement14",{"className":"$undefined","style":{},"children":["properties\r\n"]}],["$","span","code-segement15",{"className":"$undefined","style":{},"children":[""]}],["$","span","code-segement16",{"className":"token","style":{"color":"#DD4A68"},"children":["POPD"]}],["$","span","code-segement17",{"className":"$undefined","style":{},"children":["\r\n"]}],"\r\n",["$","span","code-segement19",{"className":"$undefined","style":{},"children":["TIMEOUT "]}],["$","span","code-segement20",{"className":"token","style":{"color":"#9a6e3a","background":"hsla(0, 0%, 100%, .5)"},"children":["/"]}],["$","span","code-segement21",{"className":"$undefined","style":{},"children":["NOBREAK "]}],["$","span","code-segement22",{"className":"token","style":{"color":"#9a6e3a","background":"hsla(0, 0%, 100%, .5)"},"children":["/"]}],["$","span","code-segement23",{"className":"$undefined","style":{},"children":["T 8\r\n"]}],"\r\n",["$","span","code-segement25",{"className":"$undefined","style":{},"children":[""]}],["$","span","code-segement26",{"className":"token","style":{"color":"#DD4A68"},"children":["PUSHD"]}],["$","span","code-segement27",{"className":"$undefined","style":{},"children":[" broker-1\r\n"]}],["$","span","code-segement28",{"className":"$undefined","style":{},"children":[""]}],["$","span","code-segement29",{"className":"token","style":{"color":"#DD4A68"},"children":["START"]}],["$","span","code-segement30",{"className":"$undefined","style":{},"children":[" bin\\windows\\kafka-server-"]}],["$","span","code-segement31",{"className":"token","style":{"color":"#DD4A68"},"children":["start"]}],["$","span","code-segement32",{"className":"token","style":{"color":"#999"},"children":["."]}],["$","span","code-segement33",{"className":"$undefined","style":{},"children":["bat config\\server"]}],["$","span","code-segement34",{"className":"token","style":{"color":"#999"},"children":["."]}],["$","span","code-segement35",{"className":"$undefined","style":{},"children":["properties\r\n"]}],["$","span","code-segement36",{"className":"$undefined","style":{},"children":[""]}],["$","span","code-segement37",{"className":"token","style":{"color":"#DD4A68"},"children":["POPD"]}],["$","span","code-segement38",{"className":"$undefined","style":{},"children":["\r\n"]}],"\r\n",["$","span","code-segement40",{"className":"$undefined","style":{},"children":[""]}],["$","span","code-segement41",{"className":"token","style":{"color":"#DD4A68"},"children":["PUSHD"]}],["$","span","code-segement42",{"className":"$undefined","style":{},"children":[" broker-2\r\n"]}],["$","span","code-segement43",{"className":"$undefined","style":{},"children":[""]}],["$","span","code-segement44",{"className":"token","style":{"color":"#DD4A68"},"children":["START"]}],["$","span","code-segement45",{"className":"$undefined","style":{},"children":[" bin\\windows\\kafka-server-"]}],["$","span","code-segement46",{"className":"token","style":{"color":"#DD4A68"},"children":["start"]}],["$","span","code-segement47",{"className":"token","style":{"color":"#999"},"children":["."]}],["$","span","code-segement48",{"className":"$undefined","style":{},"children":["bat config\\server"]}],["$","span","code-segement49",{"className":"token","style":{"color":"#999"},"children":["."]}],["$","span","code-segement50",{"className":"$undefined","style":{},"children":["properties\r\n"]}],["$","span","code-segement51",{"className":"$undefined","style":{},"children":[""]}],["$","span","code-segement52",{"className":"token","style":{"color":"#DD4A68"},"children":["POPD"]}],["$","span","code-segement53",{"className":"$undefined","style":{},"children":["\r\n"]}],"\r\n",["$","span","code-segement55",{"className":"$undefined","style":{},"children":["TIMEOUT "]}],["$","span","code-segement56",{"className":"token","style":{"color":"#9a6e3a","background":"hsla(0, 0%, 100%, .5)"},"children":["/"]}],["$","span","code-segement57",{"className":"$undefined","style":{},"children":["NOBREAK "]}],["$","span","code-segement58",{"className":"token","style":{"color":"#9a6e3a","background":"hsla(0, 0%, 100%, .5)"},"children":["/"]}],["$","span","code-segement59",{"className":"$undefined","style":{},"children":["T 8\r\n"]}],"\r\n",["$","span","code-segement61",{"className":"$undefined","style":{},"children":[""]}],["$","span","code-segement62",{"className":"token","style":{"color":"#DD4A68"},"children":["PUSHD"]}],["$","span","code-segement63",{"className":"$undefined","style":{},"children":[" zookeeper\r\n"]}],["$","span","code-segement64",{"className":"$undefined","style":{},"children":["CALL bin\\windows\\kafka-topics"]}],["$","span","code-segement65",{"className":"token","style":{"color":"#999"},"children":["."]}],["$","span","code-segement66",{"className":"$undefined","style":{},"children":["bat "]}],["$","span","code-segement67",{"className":"token","style":{"color":"#9a6e3a","background":"hsla(0, 0%, 100%, .5)"},"children":["--"]}],["$","span","code-segement68",{"className":"$undefined","style":{},"children":["bootstrap-server localhost:9991"]}],["$","span","code-segement69",{"className":"token","style":{"color":"#999"},"children":[","]}],["$","span","code-segement70",{"className":"$undefined","style":{},"children":["localhost:9992 "]}],["$","span","code-segement71",{"className":"token","style":{"color":"#9a6e3a","background":"hsla(0, 0%, 100%, .5)"},"children":["--"]}],["$","span","code-segement72",{"className":"$undefined","style":{},"children":["create "]}],["$","span","code-segement73",{"className":"token","style":{"color":"#9a6e3a","background":"hsla(0, 0%, 100%, .5)"},"children":["--"]}],["$","span","code-segement74",{"className":"$undefined","style":{},"children":["topic "]}],["$","span","code-segement75",{"className":"token","style":{"color":"#DD4A68"},"children":["new-topic"]}],["$","span","code-segement76",{"className":"token","style":{"color":"#9a6e3a","background":"hsla(0, 0%, 100%, .5)"},"children":["-"]}],["$","span","code-segement77",{"className":"$undefined","style":{},"children":["name "]}],["$","span","code-segement78",{"className":"token","style":{"color":"#9a6e3a","background":"hsla(0, 0%, 100%, .5)"},"children":["--"]}],["$","span","code-segement79",{"className":"$undefined","style":{},"children":["partitions 2\r\n"]}],["$","span","code-segement80",{"className":"$undefined","style":{},"children":["CALL bin\\windows\\kafka-topics"]}],["$","span","code-segement81",{"className":"token","style":{"color":"#999"},"children":["."]}],["$","span","code-segement82",{"className":"$undefined","style":{},"children":["bat "]}],["$","span","code-segement83",{"className":"token","style":{"color":"#9a6e3a","background":"hsla(0, 0%, 100%, .5)"},"children":["--"]}],["$","span","code-segement84",{"className":"$undefined","style":{},"children":["bootstrap-server localhost:9991"]}],["$","span","code-segement85",{"className":"token","style":{"color":"#999"},"children":[","]}],["$","span","code-segement86",{"className":"$undefined","style":{},"children":["localhost:9992 "]}],["$","span","code-segement87",{"className":"token","style":{"color":"#9a6e3a","background":"hsla(0, 0%, 100%, .5)"},"children":["--"]}],["$","span","code-segement88",{"className":"$undefined","style":{},"children":["list\r\n"]}],["$","span","code-segement89",{"className":"$undefined","style":{},"children":["CALL bin\\windows\\kafka-topics"]}],["$","span","code-segement90",{"className":"token","style":{"color":"#999"},"children":["."]}],["$","span","code-segement91",{"className":"$undefined","style":{},"children":["bat "]}],["$","span","code-segement92",{"className":"token","style":{"color":"#9a6e3a","background":"hsla(0, 0%, 100%, .5)"},"children":["--"]}],["$","span","code-segement93",{"className":"$undefined","style":{},"children":["bootstrap-server localhost:9991"]}],["$","span","code-segement94",{"className":"token","style":{"color":"#999"},"children":[","]}],["$","span","code-segement95",{"className":"$undefined","style":{},"children":["localhost:9992 "]}],["$","span","code-segement96",{"className":"token","style":{"color":"#9a6e3a","background":"hsla(0, 0%, 100%, .5)"},"children":["--"]}],["$","span","code-segement97",{"className":"$undefined","style":{},"children":["describe\r\n"]}],["$","span","code-segement98",{"className":"$undefined","style":{},"children":[""]}],["$","span","code-segement99",{"className":"token","style":{"color":"#DD4A68"},"children":["POPD"]}],["$","span","code-segement100",{"className":"$undefined","style":{},"children":["\r\n"]}],"\r\n",["$","span","code-segement102",{"className":"$undefined","style":{},"children":[""]}],["$","span","code-segement103",{"className":"token","style":{"color":"#DD4A68"},"children":["START"]}],["$","span","code-segement104",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement105",{"className":"token","style":{"color":"#690"},"children":["\"Producer 1\""]}],["$","span","code-segement106",{"className":"$undefined","style":{},"children":[" producer-1\\bin\\windows\\kafka-console-producer"]}],["$","span","code-segement107",{"className":"token","style":{"color":"#999"},"children":["."]}],["$","span","code-segement108",{"className":"$undefined","style":{},"children":["bat "]}],["$","span","code-segement109",{"className":"token","style":{"color":"#9a6e3a","background":"hsla(0, 0%, 100%, .5)"},"children":["--"]}],["$","span","code-segement110",{"className":"$undefined","style":{},"children":["bootstrap-server localhost:9991"]}],["$","span","code-segement111",{"className":"token","style":{"color":"#999"},"children":[","]}],["$","span","code-segement112",{"className":"$undefined","style":{},"children":["localhost:9992 "]}],["$","span","code-segement113",{"className":"token","style":{"color":"#9a6e3a","background":"hsla(0, 0%, 100%, .5)"},"children":["--"]}],["$","span","code-segement114",{"className":"$undefined","style":{},"children":["topic "]}],["$","span","code-segement115",{"className":"token","style":{"color":"#DD4A68"},"children":["new-topic"]}],["$","span","code-segement116",{"className":"token","style":{"color":"#9a6e3a","background":"hsla(0, 0%, 100%, .5)"},"children":["-"]}],["$","span","code-segement117",{"className":"$undefined","style":{},"children":["name "]}],["$","span","code-segement118",{"className":"token","style":{"color":"#9a6e3a","background":"hsla(0, 0%, 100%, .5)"},"children":["--"]}],["$","span","code-segement119",{"className":"$undefined","style":{},"children":["property parse"]}],["$","span","code-segement120",{"className":"token","style":{"color":"#999"},"children":["."]}],["$","span","code-segement121",{"className":"$undefined","style":{},"children":["key=true "]}],["$","span","code-segement122",{"className":"token","style":{"color":"#9a6e3a","background":"hsla(0, 0%, 100%, .5)"},"children":["--"]}],["$","span","code-segement123",{"className":"$undefined","style":{},"children":["property key"]}],["$","span","code-segement124",{"className":"token","style":{"color":"#999"},"children":["."]}],["$","span","code-segement125",{"className":"$undefined","style":{},"children":["separator="]}],["$","span","code-segement126",{"className":"token","style":{"color":"#690"},"children":["\"|\""]}],["$","span","code-segement127",{"className":"$undefined","style":{},"children":["\r\n"]}],["$","span","code-segement128",{"className":"$undefined","style":{},"children":[""]}],["$","span","code-segement129",{"className":"token","style":{"color":"#DD4A68"},"children":["START"]}],["$","span","code-segement130",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement131",{"className":"token","style":{"color":"#690"},"children":["\"Producer 2\""]}],["$","span","code-segement132",{"className":"$undefined","style":{},"children":[" producer-2\\bin\\windows\\kafka-console-producer"]}],["$","span","code-segement133",{"className":"token","style":{"color":"#999"},"children":["."]}],["$","span","code-segement134",{"className":"$undefined","style":{},"children":["bat "]}],["$","span","code-segement135",{"className":"token","style":{"color":"#9a6e3a","background":"hsla(0, 0%, 100%, .5)"},"children":["--"]}],["$","span","code-segement136",{"className":"$undefined","style":{},"children":["bootstrap-server localhost:9991"]}],["$","span","code-segement137",{"className":"token","style":{"color":"#999"},"children":[","]}],["$","span","code-segement138",{"className":"$undefined","style":{},"children":["localhost:9992 "]}],["$","span","code-segement139",{"className":"token","style":{"color":"#9a6e3a","background":"hsla(0, 0%, 100%, .5)"},"children":["--"]}],["$","span","code-segement140",{"className":"$undefined","style":{},"children":["topic "]}],["$","span","code-segement141",{"className":"token","style":{"color":"#DD4A68"},"children":["new-topic"]}],["$","span","code-segement142",{"className":"token","style":{"color":"#9a6e3a","background":"hsla(0, 0%, 100%, .5)"},"children":["-"]}],["$","span","code-segement143",{"className":"$undefined","style":{},"children":["name "]}],["$","span","code-segement144",{"className":"token","style":{"color":"#9a6e3a","background":"hsla(0, 0%, 100%, .5)"},"children":["--"]}],["$","span","code-segement145",{"className":"$undefined","style":{},"children":["property parse"]}],["$","span","code-segement146",{"className":"token","style":{"color":"#999"},"children":["."]}],["$","span","code-segement147",{"className":"$undefined","style":{},"children":["key=true "]}],["$","span","code-segement148",{"className":"token","style":{"color":"#9a6e3a","background":"hsla(0, 0%, 100%, .5)"},"children":["--"]}],["$","span","code-segement149",{"className":"$undefined","style":{},"children":["property key"]}],["$","span","code-segement150",{"className":"token","style":{"color":"#999"},"children":["."]}],["$","span","code-segement151",{"className":"$undefined","style":{},"children":["separator="]}],["$","span","code-segement152",{"className":"token","style":{"color":"#690"},"children":["\"|\""]}],["$","span","code-segement153",{"className":"$undefined","style":{},"children":["\r\n"]}],"\r\n",["$","span","code-segement155",{"className":"$undefined","style":{},"children":[""]}],["$","span","code-segement156",{"className":"token","style":{"color":"#DD4A68"},"children":["START"]}],["$","span","code-segement157",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement158",{"className":"token","style":{"color":"#690"},"children":["\"Group 1 - Consumer 1\""]}],["$","span","code-segement159",{"className":"$undefined","style":{},"children":[" consumer-1\\bin\\windows\\kafka-console-consumer"]}],["$","span","code-segement160",{"className":"token","style":{"color":"#999"},"children":["."]}],["$","span","code-segement161",{"className":"$undefined","style":{},"children":["bat "]}],["$","span","code-segement162",{"className":"token","style":{"color":"#9a6e3a","background":"hsla(0, 0%, 100%, .5)"},"children":["--"]}],["$","span","code-segement163",{"className":"$undefined","style":{},"children":["bootstrap-server localhost:9991"]}],["$","span","code-segement164",{"className":"token","style":{"color":"#999"},"children":[","]}],["$","span","code-segement165",{"className":"$undefined","style":{},"children":["localhost:9992 "]}],["$","span","code-segement166",{"className":"token","style":{"color":"#9a6e3a","background":"hsla(0, 0%, 100%, .5)"},"children":["--"]}],["$","span","code-segement167",{"className":"$undefined","style":{},"children":["topic "]}],["$","span","code-segement168",{"className":"token","style":{"color":"#DD4A68"},"children":["new-topic"]}],["$","span","code-segement169",{"className":"token","style":{"color":"#9a6e3a","background":"hsla(0, 0%, 100%, .5)"},"children":["-"]}],["$","span","code-segement170",{"className":"$undefined","style":{},"children":["name "]}],["$","span","code-segement171",{"className":"token","style":{"color":"#9a6e3a","background":"hsla(0, 0%, 100%, .5)"},"children":["--"]}],["$","span","code-segement172",{"className":"$undefined","style":{},"children":["consumer-property "]}],["$","span","code-segement173",{"className":"token","style":{"color":"#DD4A68"},"children":["group"]}],["$","span","code-segement174",{"className":"token","style":{"color":"#999"},"children":["."]}],["$","span","code-segement175",{"className":"$undefined","style":{},"children":["id=group1\r\n"]}],["$","span","code-segement176",{"className":"$undefined","style":{},"children":[""]}],["$","span","code-segement177",{"className":"token","style":{"color":"#DD4A68"},"children":["START"]}],["$","span","code-segement178",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement179",{"className":"token","style":{"color":"#690"},"children":["\"Group 1 - Consumer 2\""]}],["$","span","code-segement180",{"className":"$undefined","style":{},"children":[" consumer-2\\bin\\windows\\kafka-console-consumer"]}],["$","span","code-segement181",{"className":"token","style":{"color":"#999"},"children":["."]}],["$","span","code-segement182",{"className":"$undefined","style":{},"children":["bat "]}],["$","span","code-segement183",{"className":"token","style":{"color":"#9a6e3a","background":"hsla(0, 0%, 100%, .5)"},"children":["--"]}],["$","span","code-segement184",{"className":"$undefined","style":{},"children":["bootstrap-server localhost:9991"]}],["$","span","code-segement185",{"className":"token","style":{"color":"#999"},"children":[","]}],["$","span","code-segement186",{"className":"$undefined","style":{},"children":["localhost:9992 "]}],["$","span","code-segement187",{"className":"token","style":{"color":"#9a6e3a","background":"hsla(0, 0%, 100%, .5)"},"children":["--"]}],["$","span","code-segement188",{"className":"$undefined","style":{},"children":["topic "]}],["$","span","code-segement189",{"className":"token","style":{"color":"#DD4A68"},"children":["new-topic"]}],["$","span","code-segement190",{"className":"token","style":{"color":"#9a6e3a","background":"hsla(0, 0%, 100%, .5)"},"children":["-"]}],["$","span","code-segement191",{"className":"$undefined","style":{},"children":["name "]}],["$","span","code-segement192",{"className":"token","style":{"color":"#9a6e3a","background":"hsla(0, 0%, 100%, .5)"},"children":["--"]}],["$","span","code-segement193",{"className":"$undefined","style":{},"children":["consumer-property "]}],["$","span","code-segement194",{"className":"token","style":{"color":"#DD4A68"},"children":["group"]}],["$","span","code-segement195",{"className":"token","style":{"color":"#999"},"children":["."]}],["$","span","code-segement196",{"className":"$undefined","style":{},"children":["id=group1\r\n"]}],["$","span","code-segement197",{"className":"$undefined","style":{},"children":[""]}],["$","span","code-segement198",{"className":"token","style":{"color":"#DD4A68"},"children":["START"]}],["$","span","code-segement199",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement200",{"className":"token","style":{"color":"#690"},"children":["\"Group 2 - Consumer 1\""]}],["$","span","code-segement201",{"className":"$undefined","style":{},"children":[" consumer-3\\bin\\windows\\kafka-console-consumer"]}],["$","span","code-segement202",{"className":"token","style":{"color":"#999"},"children":["."]}],["$","span","code-segement203",{"className":"$undefined","style":{},"children":["bat "]}],["$","span","code-segement204",{"className":"token","style":{"color":"#9a6e3a","background":"hsla(0, 0%, 100%, .5)"},"children":["--"]}],["$","span","code-segement205",{"className":"$undefined","style":{},"children":["bootstrap-server localhost:9991"]}],["$","span","code-segement206",{"className":"token","style":{"color":"#999"},"children":[","]}],["$","span","code-segement207",{"className":"$undefined","style":{},"children":["localhost:9992 "]}],["$","span","code-segement208",{"className":"token","style":{"color":"#9a6e3a","background":"hsla(0, 0%, 100%, .5)"},"children":["--"]}],["$","span","code-segement209",{"className":"$undefined","style":{},"children":["topic "]}],["$","span","code-segement210",{"className":"token","style":{"color":"#DD4A68"},"children":["new-topic"]}],["$","span","code-segement211",{"className":"token","style":{"color":"#9a6e3a","background":"hsla(0, 0%, 100%, .5)"},"children":["-"]}],["$","span","code-segement212",{"className":"$undefined","style":{},"children":["name "]}],["$","span","code-segement213",{"className":"token","style":{"color":"#9a6e3a","background":"hsla(0, 0%, 100%, .5)"},"children":["--"]}],["$","span","code-segement214",{"className":"$undefined","style":{},"children":["consumer-property "]}],["$","span","code-segement215",{"className":"token","style":{"color":"#DD4A68"},"children":["group"]}],["$","span","code-segement216",{"className":"token","style":{"color":"#999"},"children":["."]}],["$","span","code-segement217",{"className":"$undefined","style":{},"children":["id=group2\r\n"]}],["$","span","code-segement218",{"className":"$undefined","style":{},"children":[""]}],["$","span","code-segement219",{"className":"token","style":{"color":"#DD4A68"},"children":["START"]}],["$","span","code-segement220",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement221",{"className":"token","style":{"color":"#690"},"children":["\"Group 2 - Consumer 2\""]}],["$","span","code-segement222",{"className":"$undefined","style":{},"children":[" consumer-4\\bin\\windows\\kafka-console-consumer"]}],["$","span","code-segement223",{"className":"token","style":{"color":"#999"},"children":["."]}],["$","span","code-segement224",{"className":"$undefined","style":{},"children":["bat "]}],["$","span","code-segement225",{"className":"token","style":{"color":"#9a6e3a","background":"hsla(0, 0%, 100%, .5)"},"children":["--"]}],["$","span","code-segement226",{"className":"$undefined","style":{},"children":["bootstrap-server localhost:9991"]}],["$","span","code-segement227",{"className":"token","style":{"color":"#999"},"children":[","]}],["$","span","code-segement228",{"className":"$undefined","style":{},"children":["localhost:9992 "]}],["$","span","code-segement229",{"className":"token","style":{"color":"#9a6e3a","background":"hsla(0, 0%, 100%, .5)"},"children":["--"]}],["$","span","code-segement230",{"className":"$undefined","style":{},"children":["topic "]}],["$","span","code-segement231",{"className":"token","style":{"color":"#DD4A68"},"children":["new-topic"]}],["$","span","code-segement232",{"className":"token","style":{"color":"#9a6e3a","background":"hsla(0, 0%, 100%, .5)"},"children":["-"]}],["$","span","code-segement233",{"className":"$undefined","style":{},"children":["name "]}],["$","span","code-segement234",{"className":"token","style":{"color":"#9a6e3a","background":"hsla(0, 0%, 100%, .5)"},"children":["--"]}],["$","span","code-segement235",{"className":"$undefined","style":{},"children":["consumer-property "]}],["$","span","code-segement236",{"className":"token","style":{"color":"#DD4A68"},"children":["group"]}],["$","span","code-segement237",{"className":"token","style":{"color":"#999"},"children":["."]}],["$","span","code-segement238",{"className":"$undefined","style":{},"children":["id=group2\r\n"]}],"\r\n",["$","span","code-segement240",{"className":"$undefined","style":{},"children":["TIMEOUT "]}],["$","span","code-segement241",{"className":"token","style":{"color":"#9a6e3a","background":"hsla(0, 0%, 100%, .5)"},"children":["/"]}],["$","span","code-segement242",{"className":"$undefined","style":{},"children":["NOBREAK "]}],["$","span","code-segement243",{"className":"token","style":{"color":"#9a6e3a","background":"hsla(0, 0%, 100%, .5)"},"children":["/"]}],["$","span","code-segement244",{"className":"$undefined","style":{},"children":["T 8\r\n"]}],"\r\n",["$","span","code-segement246",{"className":"$undefined","style":{},"children":[""]}],["$","span","code-segement247",{"className":"token","style":{"color":"#DD4A68"},"children":["PUSHD"]}],["$","span","code-segement248",{"className":"$undefined","style":{},"children":[" zookeeper\r\n"]}],["$","span","code-segement249",{"className":"$undefined","style":{},"children":["bin\\windows\\kafka-consumer-groups"]}],["$","span","code-segement250",{"className":"token","style":{"color":"#999"},"children":["."]}],["$","span","code-segement251",{"className":"$undefined","style":{},"children":["bat "]}],["$","span","code-segement252",{"className":"token","style":{"color":"#9a6e3a","background":"hsla(0, 0%, 100%, .5)"},"children":["--"]}],["$","span","code-segement253",{"className":"$undefined","style":{},"children":["bootstrap-server localhost:9991"]}],["$","span","code-segement254",{"className":"token","style":{"color":"#999"},"children":[","]}],["$","span","code-segement255",{"className":"$undefined","style":{},"children":["localhost:9992 "]}],["$","span","code-segement256",{"className":"token","style":{"color":"#9a6e3a","background":"hsla(0, 0%, 100%, .5)"},"children":["--"]}],["$","span","code-segement257",{"className":"$undefined","style":{},"children":["describe "]}],["$","span","code-segement258",{"className":"token","style":{"color":"#9a6e3a","background":"hsla(0, 0%, 100%, .5)"},"children":["--"]}],["$","span","code-segement259",{"className":"$undefined","style":{},"children":["all-groups\r\n"]}],["$","span","code-segement260",{"className":"$undefined","style":{},"children":[""]}],["$","span","code-segement261",{"className":"token","style":{"color":"#DD4A68"},"children":["POPD"]}],["$","span","code-segement262",{"className":"$undefined","style":{},"children":["\r\n"]}],"\r\n","PAUSE"]]}]}]}],"\n",["$","p",null,{"className":"mdx-components_paragraph__AUxxF","children":"之後發送訊息："}],"\n",["$","ol",null,{"children":["\n",["$","li",null,{"children":["Producer 1 發送 ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"1|message should go to partition A"}],"。"]}],"\n",["$","li",null,{"children":["Producer 1 發送 ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"2|message should go to partition B"}],"。"]}],"\n",["$","li",null,{"children":["Producer 2 發送 ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"1|message should go to partition A (producer 2)"}],"。"]}],"\n",["$","li",null,{"children":["Producer 2 發送 ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"2|message should go to partition B (producer 2)"}],"。"]}],"\n"]}],"\n",["$","p",null,{"className":"mdx-components_paragraph__AUxxF","children":"結果："}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":["唔會有一個 consumer 又收到 ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"partition A"}]," 既訊息，又收到 ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"partition B"}]," 既訊息。"]}],"\n"]}],"\n",["$","p",null,{"className":"mdx-components_paragraph__AUxxF","children":"解釋："}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":["因為每個 consumer group 裡面既 consumer 數量同 partition 數量一樣，所以我地見到訊息 ID 係 ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"1"}]," 既訊息只會去同一個 consumer，而訊息 ID 係 ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"2"}]," 既訊息就會去另一個 consumer。"]}],"\n"]}],"\n",["$","p",null,{"className":"mdx-components_paragraph__AUxxF","children":["$","img",null,{"src":"/e2-next/blog/2021-09/kafka-cli/producers-publish-messages.png","className":"mdx-components_image__4jSiz"}]}],"\n",["$","p",null,{"className":"mdx-components_paragraph__AUxxF","children":["$","img",null,{"src":"/e2-next/blog/2021-09/kafka-cli/consumers-receive-messages.png","className":"mdx-components_image__4jSiz"}]}],"\n",["$","hr",null,{}],"\n",["$","h2",null,{"style":{"fontWeight":"bold"},"children":"4.2 Partition 數量多過 consumer（只維持一段時間）"}],"\n",["$","p",null,{"className":"mdx-components_paragraph__AUxxF","children":"關於呢個測試："}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":["承接上面既測試，我地可以停止某一個 consumer，令到佢既 consumer group 得返 ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"1"}]," 個 consumer。"]}],"\n",["$","li",null,{"children":["因為 partitions 有 ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"2"}]," 個，但係呢個 consumer group 只有 ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"1"}]," 個 consumer，咁之後既所有訊息發送去呢個 consumer group 既時候都只會發送到呢 ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"1"}]," 個 consumer 度。"]}],"\n",["$","li",null,{"children":["不過，過一排之後，當呢個 consumer group 回復返係 ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"2"}]," 個 consumers，咁之後既所有訊息發送去呢個 consumer group 既時候又會再次平均分配到呢 ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"2"}]," 個 consumers 度。"]}],"\n"]}],"\n",["$","p",null,{"className":"mdx-components_paragraph__AUxxF","children":"具體既測試步驟："}],"\n",["$","ol",null,{"children":["\n",["$","li",null,{"children":["承接上面既測試，我地而家有 ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"2"}]," 個 consumer groups，各有 ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"2"}]," 個 consumers，總共有 ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"4"}]," 個 consumers。"]}],"\n",["$","li",null,{"children":["喺 consumer ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"3"}],"（group 2）既 command prompt window 度撳 ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"Ctrl+C"}],"。"]}],"\n",["$","li",null,{"children":["喺任意既一個 producer 發送：",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"1|message should go to partition A (testing single consumer in group)"}],"。"]}],"\n",["$","li",null,{"children":["喺任意既一個 producer 發送：",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"2|message should go to partition B (testing single consumer in group)"}],"。"]}],"\n",["$","li",null,{"children":["檢查 consumer ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"4"}],"（group 2）既 command prompt window，應該會見到佢收到曬 ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"2"}]," 個訊息。"]}],"\n",["$","li",null,{"children":["喺 consumer ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"3"}],"（group 2）既 command prompt window 度執行返啟動既 command。"]}],"\n",["$","li",null,{"children":["喺任意既一個 producer 發送：",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"1|message should go to partition A (testing two consumers in group again)"}],"。"]}],"\n",["$","li",null,{"children":["喺任意既一個 producer 發送：",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"2|message should go to partition B (testing two consumers in group again)"}],"。"]}],"\n",["$","li",null,{"children":["檢查 consumer ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"3"}],"、",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"4"}],"（group 2）既 command prompt windows，應該會見到佢地各自都收到 ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"1"}]," 個訊息。"]}],"\n",["$","li",null,{"children":["檢查 consumer ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"1"}],"、",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"2"}],"（group 1）既 command prompt windows，應該會見到佢地各自都收到 ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"2"}]," 個訊息。","\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":["收開 ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"partition A"}]," 訊息既 consumer 會收到呢個測試新增既 ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"2"}]," 個 ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"partition A"}]," 訊息。"]}],"\n",["$","li",null,{"children":["收開 ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"partition B"}]," 訊息既 consumer 會收到呢個測試新增既 ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"2"}]," 個 ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"partition B"}]," 訊息。"]}],"\n"]}],"\n"]}],"\n"]}],"\n",["$","p",null,{"className":"mdx-components_paragraph__AUxxF","children":"註："}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":["就算 consumer ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"3"}]," 回復運作，佢都唔一定會收返同最開始相同既 partition 既訊息，而係可能會同 consumer ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"4"}]," 交換左。","\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":"不過唔需要擔心，因為相同 partition 既訊息都仲係保持到 message ordering。"}],"\n"]}],"\n"]}],"\n"]}],"\n",["$","p",null,{"className":"mdx-components_paragraph__AUxxF","children":["$","img",null,{"src":"/e2-next/blog/2021-09/kafka-cli/consumers-receive-messages-2.png","className":"mdx-components_image__4jSiz"}]}],"\n",["$","hr",null,{}],"\n",["$","h1",null,{"style":{"fontWeight":"bold"},"children":"5 參考資料"}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":["$","a",null,{"href":"https://www.cloudkarafka.com/blog/cloudkarafka-what-is-zookeeper.html","children":"What is Zookeeper and why is it needed for Apache Kafka?"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"https://docs.confluent.io/platform/current/kafka/kafka-basics.html#single-machine-multi-broker-and-multi-cluster-configurations","children":"Confluent - Single machine, multi-broker and multi-cluster configurations"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"https://www.instaclustr.com/a-visual-understanding-to-ensuring-your-kafka-data-is-literally-in-order/","children":"A Visual Understanding to Ensuring Your Kafka Data is (Literally) in Order"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"https://docs.confluent.io/platform/current/installation/configuration/producer-configs.html#partitioner-class","children":["Confluent - Producer Configurations - ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"partitioner.class"}]]}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"https://github.com/apache/kafka/blob/trunk/clients/src/main/java/org/apache/kafka/clients/producer/internals/DefaultPartitioner.java","children":["Kafka GitHub - ",["$","code",null,{"className":"undefined mdx-components_normal-code__lOvs9","children":"DefaultPartitioner.java"}]]}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"https://dzone.com/articles/custom-partitioner-in-kafka-lets-take-quick-tour","children":"Custom Partitioner in Kafka: Let's Take a Quick Tour!"}]}],"\n"]}]],[["$","link","0",{"rel":"stylesheet","href":"/e2-next/_next/static/css/952e59b04e0cf1ba.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}]],["$","$Lf",null,{"children":"$L10"}]]}],{},null,false]},null,false]},null,false]},null,false]},null,false],["$","$1","h",{"children":[null,["$","$1","3PK-WJJlsTy-8QywCwVfr",{"children":[["$","$L11",null,{"children":"$L12"}],["$","$L13",null,{"children":"$L14"}],null]}]]}],false]],"m":"$undefined","G":["$15","$undefined"],"s":false,"S":true}
14:[["$","meta","0",{"name":"viewport","content":"width=device-width, initial-scale=1"}]]
12:[["$","meta","0",{"charSet":"utf-8"}],["$","title","1",{"children":"Michael Chung's e-Portfolio"}],["$","meta","2",{"name":"description","content":"Powered by Next.js and React"}]]
10:null
