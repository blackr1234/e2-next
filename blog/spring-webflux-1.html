<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="/e2-next/_next/static/css/d3df112486f97f47.css" data-precedence="next"/><link rel="stylesheet" href="/e2-next/_next/static/css/c3624a693ae5a0c4.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/e2-next/_next/static/chunks/webpack-f088da4552bcc253.js"/><script src="/e2-next/_next/static/chunks/4bd1b696-120f4d9c40d223dd.js" async=""></script><script src="/e2-next/_next/static/chunks/1517-c8d232d43a11224c.js" async=""></script><script src="/e2-next/_next/static/chunks/main-app-05c45cc8f30d6cea.js" async=""></script><script src="/e2-next/_next/static/chunks/7829-b7b9eb1dbe0d40e4.js" async=""></script><script src="/e2-next/_next/static/chunks/2153-45fd9844831c6348.js" async=""></script><script src="/e2-next/_next/static/chunks/app/layout-ea91c2d128ec48c2.js" async=""></script><script src="/e2-next/_next/static/chunks/app/page-c8b940db14fac9a0.js" async=""></script><title>Michael Chung&#x27;s e-Portfolio</title><meta name="description" content="Powered by Next.js and React"/><link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&amp;display=swap" rel="stylesheet"/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css"/><script src="/e2-next/_next/static/chunks/polyfills-42372ed130431b0a.js" noModule=""></script></head><body><div class="vstack gap-5"><div class="text-center vstack gap-5"><div><code class="SiteHeader_name__cwQmL">Chung Cheuk Hang Michael</code><code class="SiteHeader_title__CCfvI">Java Web Developer</code></div><nav class="justify-content-center navbar navbar-expand-md navbar-dark"><button type="button" aria-label="Toggle navigation" class="navbar-toggler collapsed"><span class="navbar-toggler-icon"></span></button><div class="justify-content-center navbar-collapse collapse"><div class="justify-content-center navbar-nav nav-underline"><div class="nav-item"><a draggable="false" data-rr-ui-event-key="/" class="nav-link" href="/e2-next">Home</a></div><div class="nav-item"><a draggable="false" data-rr-ui-event-key="/work" class="nav-link" href="/e2-next/work">Work</a></div><div class="nav-item"><a draggable="false" data-rr-ui-event-key="/hobbyProjects" class="nav-link" href="/e2-next/hobbyProjects">Hobby projects</a></div><div class="nav-item"><a draggable="false" data-rr-ui-event-key="/personality" class="nav-link" href="/e2-next/personality">Personality</a></div><div class="nav-item"><a draggable="false" data-rr-ui-event-key="/blog" class="nav-link" href="/e2-next/blog">Blog</a></div></div></div></nav></div><h1>1 Spring Webflux</h1>
<p>Reactive programming 可以畀我地靈活啲咁使用系統資源，</p>
<p>根據 <a href="https://docs.spring.io/spring-framework/docs/current/reference/html/web-reactive.html#webflux-new-framework">Spring 官網 - Web on Reactive Stack</a>：</p>
<blockquote>
<p>Why was Spring WebFlux created?</p>
<p>Part of the answer is the need for a non-blocking web stack to handle concurrency with a small number of threads and scale with fewer hardware resources.</p>
</blockquote>
<blockquote>
<p>The other part of the answer is functional programming.</p>
</blockquote>
<h2>1.1 應用場景（vs 傳統 Spring MVC）</h2>
<p>到底我地應唔應該由傳統 Spring MVC 一下子轉曬做 reactive 既 Spring Webflux？</p>
<p>根據 <a href="https://docs.spring.io/spring-framework/docs/current/reference/html/web-reactive.html#webflux-framework-choice">Spring 官網 - Web on Reactive Stack</a>：</p>
<blockquote>
<p>Spring MVC or WebFlux?</p>
</blockquote>
<blockquote>
<ul>
<li>If you have a Spring MVC application that works fine, there is no need to change. Imperative programming is the easiest way to write, understand, and debug code. You have maximum choice of libraries, since, historically, most are blocking.</li>
</ul>
</blockquote>
<blockquote>
<ul>
<li>In a microservice architecture, you can have a mix of applications with either Spring MVC or Spring WebFlux controllers or with Spring WebFlux functional endpoints. Having support for the same annotation-based programming model in both frameworks makes it easier to re-use knowledge while also selecting the right tool for the right job.</li>
</ul>
</blockquote>
<blockquote>
<ul>
<li>A simple way to evaluate an application is to check its dependencies. If you have blocking persistence APIs (JPA, JDBC) or networking APIs to use, Spring MVC is the best choice for common architectures at least. It is technically feasible with both Reactor and RxJava to perform blocking calls on a separate thread but you would not be making the most of a non-blocking web stack.</li>
</ul>
</blockquote>
<blockquote>
<ul>
<li>If you have a Spring MVC application with calls to remote services, try the reactive WebClient. You can return reactive types (Reactor, RxJava, or other) directly from Spring MVC controller methods. The greater the latency per call or the interdependency among calls, the more dramatic the benefits. Spring MVC controllers can call other reactive components too.</li>
</ul>
</blockquote>
<blockquote>
<ul>
<li>If you have a large team, keep in mind the steep learning curve in the shift to non-blocking, functional, and declarative programming. A practical way to start without a full switch is to use the reactive WebClient. Beyond that, start small and measure the benefits. We expect that, for a wide range of applications, the shift is unnecessary.</li>
</ul>
</blockquote>
<hr/>
<h1>2 動手寫</h1>
<h2>2.1 Maven dependencies</h2>
<pre><code class="language-xml">&lt;dependencyManagement&gt;
	&lt;dependencies&gt;
		&lt;dependency&gt;
			&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
			&lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;
			&lt;version&gt;2.7.1&lt;/version&gt;
			&lt;type&gt;pom&lt;/type&gt;
			&lt;scope&gt;import&lt;/scope&gt;
		&lt;/dependency&gt;
	&lt;/dependencies&gt;
&lt;/dependencyManagement&gt;

&lt;dependencies&gt;
	&lt;dependency&gt;
		&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
		&lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;
	&lt;/dependency&gt;

	&lt;dependency&gt;
		&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;
		&lt;artifactId&gt;lombok&lt;/artifactId&gt;
		&lt;scope&gt;provided&lt;/scope&gt;
	&lt;/dependency&gt;
&lt;/dependencies&gt;
</code></pre>
<hr/>
<h2>2.2 寫 Java code</h2>
<p>Project structure：</p>
<ul>
<li><code>src/main/java</code>
<ul>
<li><code>/code</code>
<ul>
<li><code>/config</code>
<ul>
<li><code>ApiConfig.java</code></li>
</ul>
</li>
<li><code>/controller</code>
<ul>
<li><code>OrderController.java</code></li>
<li><code>OrderControllerRx.java</code></li>
</ul>
</li>
<li><code>/dao</code>
<ul>
<li><code>OrderDao.java</code></li>
</ul>
</li>
<li><code>/model</code>
<ul>
<li><code>Order.java</code></li>
</ul>
</li>
<li><code>MainApplication.java</code></li>
</ul>
</li>
</ul>
</li>
</ul>
<p><code>OrderController.java</code>：</p>
<pre><code class="language-java">@RestController
@RequestMapping(path = &quot;orders&quot;, produces = MediaType.APPLICATION_JSON_VALUE)
public class OrderController {

    @Autowired OrderDao orderDao;

    @GetMapping
    public List&lt;Order&gt; getAllOrders() {
        return orderDao.getAllOrders();
    }
}
</code></pre>
<p><code>OrderControllerRx.java</code>：</p>
<pre><code class="language-java">@RestController
@RequestMapping(path = &quot;rx/orders&quot;, produces = MediaType.TEXT_EVENT_STREAM_VALUE)
public class OrderControllerRx {

    @Autowired OrderDao orderDao;
    @Autowired WebClient orderApi;

    @GetMapping
    public Flux&lt;Order&gt; getAllOrdersRx() {
        return orderDao.getAllOrdersRx();
    }

    @GetMapping(&quot;v2&quot;)
    public Flux&lt;Order&gt; getAllOrdersRxFromSelf() {
        return orderApi.get().uri(&quot;/rx/orders&quot;).exchangeToFlux(res -&gt; {
            if (res.statusCode()==HttpStatus.OK) {
                return res.bodyToFlux(Order.class);
            } else {
                return res.createException().flatMapMany(Mono::error);
            }
        });
    }
}
</code></pre>
<p><code>OrderDao.java</code>：</p>
<pre><code class="language-java">@Repository
public class OrderDao {

    public List&lt;Order&gt; getAllOrders() {
        return range(0, 10).mapToObj(e -&gt; new Order().setId(UUID.randomUUID().toString())
                .setDate(LocalDateTime.now())
                .setTotal(new BigDecimal(new Random().nextInt(10000)+&quot;&quot;)))
                .peek(e -&gt; {
                    try {
                        Thread.sleep(1000);
                    } catch (InterruptedException ex) {
                    }
                })
                .collect(toList());
    }

    public Flux&lt;Order&gt; getAllOrdersRx() {
        return Flux.range(0, 10)
                .delayElements(Duration.ofSeconds(1))
                .doOnNext(e -&gt; {
                    System.out.println(e);
                })
                .map(e -&gt; new Order().setId(UUID.randomUUID().toString())
                    .setDate(LocalDateTime.now())
                    .setTotal(new BigDecimal(new Random().nextInt(10000)+&quot;&quot;)));
    }
}
</code></pre>
<p><code>ApiConfig</code>：</p>
<pre><code class="language-java">@Configuration
public class ApiConfig {

    @Bean
    public WebClient orderApi() {
        return WebClient.create(&quot;http://localhost:8080&quot;);
    }
}
</code></pre>
<p><code>Order.java</code>：</p>
<pre><code class="language-java">@Data
@Accessors(chain = true)
@FieldDefaults(level = PRIVATE)
public class Order {
    String id;
    LocalDateTime date;
    BigDecimal total;
}
</code></pre>
<hr/>
<h1>3 測試</h1>
<h2>3.1 Postman</h2>
<p>現時 Postman 唔支援 streaming events 既 API。</p>
<hr/>
<h2>3.2 cURL</h2>
<p>傳統 Spring MVC，會 block：</p>
<pre><code class="language-bash">curl -v http://localhost:8080/orders
</code></pre>
<p>Reactive 既 Spring Webflux，唔會 block，逐啲逐啲咁返回：</p>
<pre><code class="language-bash">curl -v http://localhost:8080/rx/orders
</code></pre>
<pre><code class="language-bash">curl -v http://localhost:8080/rx/orders/v2
</code></pre>
<hr/>
<h2>3.3 瀏覽器</h2>
<h3>3.3.1 直接打開</h3>
<p>傳統 Spring MVC API（<code>10</code> 秒後一口氣返回）：</p>
<ul>
<li><a href="http://localhost:8080/orders">http://localhost:8080/orders</a></li>
</ul>
<p>Reactive 既 Spring Webflux APIs（每過 <code>1</code> 秒就返回 stream event data，total <code>10</code> 次）：</p>
<ul>
<li><a href="http://localhost:8080/rx/orders">http://localhost:8080/rx/orders</a></li>
<li><a href="http://localhost:8080/rx/orders/v2">http://localhost:8080/rx/orders/v2</a></li>
</ul>
<hr/>
<h3>3.3.2 JavaScript Fetch API</h3>
<h4>3.3.2.1 傳統 Spring MVC API</h4>
<p>執行下面既 JavaScript（可以用 NodeJS CLI 執行）：</p>
<pre><code class="language-js">async function printOrders() {
	const response = await fetch(&quot;http://localhost:8080/orders&quot;);
	const data = await response.json();
	console.log(data);
}

printOrders();
</code></pre>
<h4>3.3.2.2 Reactive 既 Spring Webflux APIs</h4>
<p>API 用其中一個都可以：</p>
<ul>
<li><a href="http://localhost:8080/rx/orders">http://localhost:8080/rx/orders</a></li>
<li><a href="http://localhost:8080/rx/orders/v2">http://localhost:8080/rx/orders/v2</a></li>
</ul>
<p>執行下面既 JavaScript（可以用 NodeJS CLI 執行）：</p>
<pre><code class="language-js">async function printOrders() {
	const response = await fetch(&quot;http://localhost:8080/rx/orders/v2&quot;);
	const stream = response.body.pipeThrough(new TextDecoderStream());
	const reader = stream.getReader();

	while (true) {
		const { value, done } = await reader.read();
		console.log(done);
		console.log(value);

		if (done) {
			break;
		}
	}
}

printOrders();
</code></pre>
<p>如果想不停咁 stream：</p>
<pre><code class="language-js">// 用 NodeJS 既話要 npm install eventsource，再加下面果句：
// global.EventSource = require(&quot;eventsource&quot;);

const eventSource = new EventSource(&quot;http://localhost:8080/rx/orders/v2&quot;);

eventSource.onopen = () =&gt; {
	console.log(&quot;Open&quot;);
};

eventSource.onmessage = ({ data }) =&gt; {
	console.log(data);
};
</code></pre>
<p>註：</p>
<ul>
<li>用 <code>EventSource</code> 既話，就會見到佢每過 <code>1</code> 秒就會收到 event data，而 <code>10</code> 次之後佢會再 <code>Open</code>，然後又會重複再收多 <code>10</code> 次，無限 loop。</li>
</ul><hr/><div class="vstack gap-3"><div class="text-center container"><div class="justify-content-center g-3 row row-cols-md-3 row-cols-sm-2 row-cols-1"><div class="col"><a target="_blank" rel="external nofollow noopener noreferrer" class="SiteFooter_contact-item__2JRRr card" href="tel:+85263301333"><div class="card-body"><div class="card-title h5"><i class="fa-solid fa-phone" style="color:#009688"></i></div><p class="text-muted card-text">6330 1333<!-- --> </p></div></a></div><div class="col"><a target="_blank" rel="external nofollow noopener noreferrer" class="SiteFooter_contact-item__2JRRr card" href="mailto:michaelboyboy@gmail.com"><div class="card-body"><div class="card-title h5"><i class="fa-solid fa-envelope" style="color:#f44336"></i></div><p class="text-muted card-text">michaelboyboy@gmail.com<!-- --> </p></div></a></div><div class="col"><a target="_blank" rel="external nofollow noopener noreferrer" class="SiteFooter_contact-item__2JRRr card" href="https://www.linkedin.com/in/mickchung"><div class="card-body"><div class="card-title h5"><i class="fa-brands fa-linkedin" style="color:#2196f3"></i></div><p class="text-muted card-text">www.linkedin.com/in/mickchung<!-- --> </p></div></a></div></div></div></div></div><script src="/e2-next/_next/static/chunks/webpack-f088da4552bcc253.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:\"$Sreact.fragment\"\n2:I[8287,[\"7829\",\"static/chunks/7829-b7b9eb1dbe0d40e4.js\",\"2153\",\"static/chunks/2153-45fd9844831c6348.js\",\"7177\",\"static/chunks/app/layout-ea91c2d128ec48c2.js\"],\"default\"]\n3:I[3339,[\"7829\",\"static/chunks/7829-b7b9eb1dbe0d40e4.js\",\"8974\",\"static/chunks/app/page-c8b940db14fac9a0.js\"],\"default\"]\n4:I[1367,[\"7829\",\"static/chunks/7829-b7b9eb1dbe0d40e4.js\",\"2153\",\"static/chunks/2153-45fd9844831c6348.js\",\"7177\",\"static/chunks/app/layout-ea91c2d128ec48c2.js\"],\"default\"]\n5:I[5244,[],\"\"]\n6:I[3866,[],\"\"]\n7:I[4798,[\"7829\",\"static/chunks/7829-b7b9eb1dbe0d40e4.js\",\"8974\",\"static/chunks/app/page-c8b940db14fac9a0.js\"],\"default\"]\n8:I[6121,[\"7829\",\"static/chunks/7829-b7b9eb1dbe0d40e4.js\",\"8974\",\"static/chunks/app/page-c8b940db14fac9a0.js\"],\"default\"]\n9:I[3667,[\"7829\",\"static/chunks/7829-b7b9eb1dbe0d40e4.js\",\"8974\",\"static/chunks/app/page-c8b940db14fac9a0.js\"],\"default\"]\na:I[8407,[\"7829\",\"static/chunks/7829-b7b9eb1dbe0d40e4.js\",\"2153\",\"static/chunks/2153-45fd9844831c6348.js\",\"7177\",\"static/chunks/app/layout-ea91c2d128ec48c2.js\"],\"default\"]\nb:I[8173,[\"7829\",\"static/chunks/7829-b7b9eb1dbe0d40e4.js\",\"8974\",\"static/chunks/app/page-c8b940db14fac9a0.js\"],\"\"]\nc:I[3197,[\"7829\",\"static/chunks/7829-b7b9eb1dbe0d40e4.js\",\"2153\",\"static/chunks/2153-45fd9844831c6348.js\",\"7177\",\"static/chunks/app/layout-ea91c2d128ec48c2.js\"],\"default\"]\nd:I[7933,[\"7829\",\"static/chunks/7829-b7b9eb1dbe0d40e4.js\",\"2153\",\"static/chunks/2153-45fd9844831c6348.js\",\"7177\",\"static/chunks/app/layout-ea91c2d128ec48c2.js\"],\"default\"]\ne:I[3800,[\"7829\",\"static/chunks/7829-b7b9eb1dbe0d40e4.js\",\"2153\",\"static/chunks/2153-45fd9844831c6348.js\",\"7177\",\"static/chunks/app/layout-ea91c2d128ec48c2.js\"],\"default\"]\nf:I[6213,[],\"OutletBoundary\"]\n11:I[6213,[],\"MetadataBoundary\"]\n13:I[6213,[],\"ViewportBoundary\"]\n15:I[4835,[],\"\"]\n:HL[\"/e2-next/_next/static/css/d3df112486f97f47.css\",\"style\"]\n:HL[\"/e2-next/_next/static/css/c3624a693ae5a0c4.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"0:{\"P\":null,\"b\":\"wfZ4FdS4ntgGvzjeKJhfw\",\"p\":\"/e2-next\",\"c\":[\"\",\"blog\",\"spring-webflux-1\"],\"i\":false,\"f\":[[[\"\",{\"children\":[\"blog\",{\"children\":[\"(2022-07)\",{\"children\":[\"spring-webflux-1\",{\"children\":[\"__PAGE__\",{}]}]}]}]},\"$undefined\",\"$undefined\",true],[\"\",[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/e2-next/_next/static/css/d3df112486f97f47.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}],[\"$\",\"link\",\"1\",{\"rel\":\"stylesheet\",\"href\":\"/e2-next/_next/static/css/c3624a693ae5a0c4.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"en\",\"children\":[[\"$\",\"head\",null,{\"children\":[[\"$\",\"link\",null,{\"href\":\"https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900\u0026display=swap\",\"rel\":\"stylesheet\"}],[\"$\",\"link\",null,{\"rel\":\"stylesheet\",\"href\":\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css\"}]]}],[\"$\",\"body\",null,{\"children\":[\"$\",\"$L2\",null,{\"children\":[\"$\",\"$L3\",null,{\"gap\":5,\"children\":[[\"$\",\"$L3\",null,{\"gap\":5,\"className\":\"text-center\",\"children\":[[\"$\",\"div\",null,{\"children\":[[\"$\",\"code\",null,{\"className\":\"SiteHeader_name__cwQmL\",\"children\":\"Chung Cheuk Hang Michael\"}],[\"$\",\"code\",null,{\"className\":\"SiteHeader_title__CCfvI\",\"children\":\"Java Web Developer\"}]]}],[\"$\",\"$L4\",null,{}]]}],[\"$\",\"$L5\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L6\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[],[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":404}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}],[\"$\",\"hr\",null,{}],[\"$\",\"$L3\",null,{\"gap\":3,\"children\":[\"$\",\"$L7\",null,{\"className\":\"text-center\",\"children\":[\"$\",\"$L8\",null,{\"xs\":1,\"sm\":2,\"md\":3,\"className\":\"justify-content-center g-3\",\"children\":[[\"$\",\"$L9\",\"0\",{\"children\":[\"$\",\"$La\",null,{\"as\":\"$b\",\"href\":\"tel:+85263301333\",\"target\":\"_blank\",\"rel\":\"external nofollow noopener noreferrer\",\"className\":\"SiteFooter_contact-item__2JRRr\",\"children\":[\"$\",\"$Lc\",null,{\"children\":[[\"$\",\"$Ld\",null,{\"children\":[\"$\",\"i\",null,{\"className\":\"fa-solid fa-phone\",\"style\":{\"color\":\"#009688\"}}]}],[\"$\",\"$Le\",null,{\"className\":\"text-muted\",\"children\":[\"6330 1333\",\" \"]}]]}]}]}],[\"$\",\"$L9\",\"1\",{\"children\":[\"$\",\"$La\",null,{\"as\":\"$b\",\"href\":\"mailto:michaelboyboy@gmail.com\",\"target\":\"_blank\",\"rel\":\"external nofollow noopener noreferrer\",\"className\":\"SiteFooter_contact-item__2JRRr\",\"children\":[\"$\",\"$Lc\",null,{\"children\":[[\"$\",\"$Ld\",null,{\"children\":[\"$\",\"i\",null,{\"className\":\"fa-solid fa-envelope\",\"style\":{\"color\":\"#f44336\"}}]}],[\"$\",\"$Le\",null,{\"className\":\"text-muted\",\"children\":[\"michaelboyboy@gmail.com\",\" \"]}]]}]}]}],[\"$\",\"$L9\",\"2\",{\"children\":[\"$\",\"$La\",null,{\"as\":\"$b\",\"href\":\"https://www.linkedin.com/in/mickchung\",\"target\":\"_blank\",\"rel\":\"external nofollow noopener noreferrer\",\"className\":\"SiteFooter_contact-item__2JRRr\",\"children\":[\"$\",\"$Lc\",null,{\"children\":[[\"$\",\"$Ld\",null,{\"children\":[\"$\",\"i\",null,{\"className\":\"fa-brands fa-linkedin\",\"style\":{\"color\":\"#2196f3\"}}]}],[\"$\",\"$Le\",null,{\"className\":\"text-muted\",\"children\":[\"www.linkedin.com/in/mickchung\",\" \"]}]]}]}]}]]}]}]}]]}]}]}]]}]]}],{\"children\":[\"blog\",[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L5\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"blog\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L6\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[\"(2022-07)\",[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L5\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"blog\",\"children\",\"(2022-07)\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L6\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[\"spring-webflux-1\",[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L5\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"blog\",\"children\",\"(2022-07)\",\"children\",\"spring-webflux-1\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L6\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[\"__PAGE__\",[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"h1\",null,{\"children\":\"1 Spring Webflux\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Reactive programming 可以畀我地靈活啲咁使用系統資源，\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"根據 \",[\"$\",\"a\",null,{\"href\":\"https://docs.spring.io/spring-framework/docs/current/reference/html/web-reactive.html#webflux-new-framework\",\"children\":\"Spring 官網 - Web on Reactive Stack\"}],\"：\"]}],\"\\n\",[\"$\",\"blockquote\",null,{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":\"Why was Spring WebFlux created?\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Part of the answer is the need for a non-blocking web stack to handle concurrency with a small number of threads and scale with fewer hardware resources.\"}],\"\\n\"]}],\"\\n\",[\"$\",\"blockquote\",null,{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":\"The other part of the answer is functional programming.\"}],\"\\n\"]}],\"\\n\",[\"$\",\"h2\",null,{\"children\":\"1.1 應用場景（vs 傳統 Spring MVC）\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"到底我地應唔應該由傳統 Spring MVC 一下子轉曬做 reactive 既 Spring Webflux？\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"根據 \",[\"$\",\"a\",null,{\"href\":\"https://docs.spring.io/spring-framework/docs/current/reference/html/web-reactive.html#webflux-framework-choice\",\"children\":\"Spring 官網 - Web on Reactive Stack\"}],\"：\"]}],\"\\n\",[\"$\",\"blockquote\",null,{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":\"Spring MVC or WebFlux?\"}],\"\\n\"]}],\"\\n\",[\"$\",\"blockquote\",null,{\"children\":[\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"If you have a Spring MVC application that works fine, there is no need to change. Imperative programming is the easiest way to write, understand, and debug code. You have maximum choice of libraries, since, historically, most are blocking.\"}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"blockquote\",null,{\"children\":[\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"In a microservice architecture, you can have a mix of applications with either Spring MVC or Spring WebFlux controllers or with Spring WebFlux functional endpoints. Having support for the same annotation-based programming model in both frameworks makes it easier to re-use knowledge while also selecting the right tool for the right job.\"}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"blockquote\",null,{\"children\":[\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"A simple way to evaluate an application is to check its dependencies. If you have blocking persistence APIs (JPA, JDBC) or networking APIs to use, Spring MVC is the best choice for common architectures at least. It is technically feasible with both Reactor and RxJava to perform blocking calls on a separate thread but you would not be making the most of a non-blocking web stack.\"}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"blockquote\",null,{\"children\":[\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"If you have a Spring MVC application with calls to remote services, try the reactive WebClient. You can return reactive types (Reactor, RxJava, or other) directly from Spring MVC controller methods. The greater the latency per call or the interdependency among calls, the more dramatic the benefits. Spring MVC controllers can call other reactive components too.\"}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"blockquote\",null,{\"children\":[\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"If you have a large team, keep in mind the steep learning curve in the shift to non-blocking, functional, and declarative programming. A practical way to start without a full switch is to use the reactive WebClient. Beyond that, start small and measure the benefits. We expect that, for a wide range of applications, the shift is unnecessary.\"}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"hr\",null,{}],\"\\n\",[\"$\",\"h1\",null,{\"children\":\"2 動手寫\"}],\"\\n\",[\"$\",\"h2\",null,{\"children\":\"2.1 Maven dependencies\"}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-xml\",\"children\":\"\u003cdependencyManagement\u003e\\r\\n\\t\u003cdependencies\u003e\\r\\n\\t\\t\u003cdependency\u003e\\r\\n\\t\\t\\t\u003cgroupId\u003eorg.springframework.boot\u003c/groupId\u003e\\r\\n\\t\\t\\t\u003cartifactId\u003espring-boot-dependencies\u003c/artifactId\u003e\\r\\n\\t\\t\\t\u003cversion\u003e2.7.1\u003c/version\u003e\\r\\n\\t\\t\\t\u003ctype\u003epom\u003c/type\u003e\\r\\n\\t\\t\\t\u003cscope\u003eimport\u003c/scope\u003e\\r\\n\\t\\t\u003c/dependency\u003e\\r\\n\\t\u003c/dependencies\u003e\\r\\n\u003c/dependencyManagement\u003e\\r\\n\\r\\n\u003cdependencies\u003e\\r\\n\\t\u003cdependency\u003e\\r\\n\\t\\t\u003cgroupId\u003eorg.springframework.boot\u003c/groupId\u003e\\r\\n\\t\\t\u003cartifactId\u003espring-boot-starter-webflux\u003c/artifactId\u003e\\r\\n\\t\u003c/dependency\u003e\\r\\n\\r\\n\\t\u003cdependency\u003e\\r\\n\\t\\t\u003cgroupId\u003eorg.projectlombok\u003c/groupId\u003e\\r\\n\\t\\t\u003cartifactId\u003elombok\u003c/artifactId\u003e\\r\\n\\t\\t\u003cscope\u003eprovided\u003c/scope\u003e\\r\\n\\t\u003c/dependency\u003e\\r\\n\u003c/dependencies\u003e\\n\"}]}],\"\\n\",[\"$\",\"hr\",null,{}],\"\\n\",[\"$\",\"h2\",null,{\"children\":\"2.2 寫 Java code\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Project structure：\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"src/main/java\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"/code\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"/config\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"ApiConfig.java\"}]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"/controller\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"OrderController.java\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"OrderControllerRx.java\"}]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"/dao\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"OrderDao.java\"}]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"/model\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"Order.java\"}]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"MainApplication.java\"}]}],\"\\n\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"OrderController.java\"}],\"：\"]}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-java\",\"children\":\"@RestController\\r\\n@RequestMapping(path = \\\"orders\\\", produces = MediaType.APPLICATION_JSON_VALUE)\\r\\npublic class OrderController {\\r\\n\\r\\n    @Autowired OrderDao orderDao;\\r\\n\\r\\n    @GetMapping\\r\\n    public List\u003cOrder\u003e getAllOrders() {\\r\\n        return orderDao.getAllOrders();\\r\\n    }\\r\\n}\\n\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"OrderControllerRx.java\"}],\"：\"]}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-java\",\"children\":\"@RestController\\r\\n@RequestMapping(path = \\\"rx/orders\\\", produces = MediaType.TEXT_EVENT_STREAM_VALUE)\\r\\npublic class OrderControllerRx {\\r\\n\\r\\n    @Autowired OrderDao orderDao;\\r\\n    @Autowired WebClient orderApi;\\r\\n\\r\\n    @GetMapping\\r\\n    public Flux\u003cOrder\u003e getAllOrdersRx() {\\r\\n        return orderDao.getAllOrdersRx();\\r\\n    }\\r\\n\\r\\n    @GetMapping(\\\"v2\\\")\\r\\n    public Flux\u003cOrder\u003e getAllOrdersRxFromSelf() {\\r\\n        return orderApi.get().uri(\\\"/rx/orders\\\").exchangeToFlux(res -\u003e {\\r\\n            if (res.statusCode()==HttpStatus.OK) {\\r\\n                return res.bodyToFlux(Order.class);\\r\\n            } else {\\r\\n                return res.createException().flatMapMany(Mono::error);\\r\\n            }\\r\\n        });\\r\\n    }\\r\\n}\\n\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"OrderDao.java\"}],\"：\"]}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-java\",\"children\":\"@Repository\\r\\npublic class OrderDao {\\r\\n\\r\\n    public List\u003cOrder\u003e getAllOrders() {\\r\\n        return range(0, 10).mapToObj(e -\u003e new Order().setId(UUID.randomUUID().toString())\\r\\n                .setDate(LocalDateTime.now())\\r\\n                .setTotal(new BigDecimal(new Random().nextInt(10000)+\\\"\\\")))\\r\\n                .peek(e -\u003e {\\r\\n                    try {\\r\\n                        Thread.sleep(1000);\\r\\n                    } catch (InterruptedException ex) {\\r\\n                    }\\r\\n                })\\r\\n                .collect(toList());\\r\\n    }\\r\\n\\r\\n    public Flux\u003cOrder\u003e getAllOrdersRx() {\\r\\n        return Flux.range(0, 10)\\r\\n                .delayElements(Duration.ofSeconds(1))\\r\\n                .doOnNext(e -\u003e {\\r\\n                    System.out.println(e);\\r\\n                })\\r\\n                .map(e -\u003e new Order().setId(UUID.randomUUID().toString())\\r\\n                    .setDate(LocalDateTime.now())\\r\\n                    .setTotal(new BigDecimal(new Random().nextInt(10000)+\\\"\\\")));\\r\\n    }\\r\\n}\\n\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"ApiConfig\"}],\"：\"]}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-java\",\"children\":\"@Configuration\\r\\npublic class ApiConfig {\\r\\n\\r\\n    @Bean\\r\\n    public WebClient orderApi() {\\r\\n        return WebClient.create(\\\"http://localhost:8080\\\");\\r\\n    }\\r\\n}\\n\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"Order.java\"}],\"：\"]}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-java\",\"children\":\"@Data\\r\\n@Accessors(chain = true)\\r\\n@FieldDefaults(level = PRIVATE)\\r\\npublic class Order {\\r\\n    String id;\\r\\n    LocalDateTime date;\\r\\n    BigDecimal total;\\r\\n}\\n\"}]}],\"\\n\",[\"$\",\"hr\",null,{}],\"\\n\",[\"$\",\"h1\",null,{\"children\":\"3 測試\"}],\"\\n\",[\"$\",\"h2\",null,{\"children\":\"3.1 Postman\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"現時 Postman 唔支援 streaming events 既 API。\"}],\"\\n\",[\"$\",\"hr\",null,{}],\"\\n\",[\"$\",\"h2\",null,{\"children\":\"3.2 cURL\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"傳統 Spring MVC，會 block：\"}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-bash\",\"children\":\"curl -v http://localhost:8080/orders\\n\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Reactive 既 Spring Webflux，唔會 block，逐啲逐啲咁返回：\"}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-bash\",\"children\":\"curl -v http://localhost:8080/rx/orders\\n\"}]}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-bash\",\"children\":\"curl -v http://localhost:8080/rx/orders/v2\\n\"}]}],\"\\n\",[\"$\",\"hr\",null,{}],\"\\n\",[\"$\",\"h2\",null,{\"children\":\"3.3 瀏覽器\"}],\"\\n\",[\"$\",\"h3\",null,{\"children\":\"3.3.1 直接打開\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"傳統 Spring MVC API（\",[\"$\",\"code\",null,{\"children\":\"10\"}],\" 秒後一口氣返回）：\"]}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"http://localhost:8080/orders\",\"children\":\"http://localhost:8080/orders\"}]}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Reactive 既 Spring Webflux APIs（每過 \",[\"$\",\"code\",null,{\"children\":\"1\"}],\" 秒就返回 stream event data，total \",[\"$\",\"code\",null,{\"children\":\"10\"}],\" 次）：\"]}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"http://localhost:8080/rx/orders\",\"children\":\"http://localhost:8080/rx/orders\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"http://localhost:8080/rx/orders/v2\",\"children\":\"http://localhost:8080/rx/orders/v2\"}]}],\"\\n\"]}],\"\\n\",[\"$\",\"hr\",null,{}],\"\\n\",[\"$\",\"h3\",null,{\"children\":\"3.3.2 JavaScript Fetch API\"}],\"\\n\",[\"$\",\"h4\",null,{\"children\":\"3.3.2.1 傳統 Spring MVC API\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"執行下面既 JavaScript（可以用 NodeJS CLI 執行）：\"}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-js\",\"children\":\"async function printOrders() {\\r\\n\\tconst response = await fetch(\\\"http://localhost:8080/orders\\\");\\r\\n\\tconst data = await response.json();\\r\\n\\tconsole.log(data);\\r\\n}\\r\\n\\r\\nprintOrders();\\n\"}]}],\"\\n\",[\"$\",\"h4\",null,{\"children\":\"3.3.2.2 Reactive 既 Spring Webflux APIs\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"API 用其中一個都可以：\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"http://localhost:8080/rx/orders\",\"children\":\"http://localhost:8080/rx/orders\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"http://localhost:8080/rx/orders/v2\",\"children\":\"http://localhost:8080/rx/orders/v2\"}]}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"執行下面既 JavaScript（可以用 NodeJS CLI 執行）：\"}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-js\",\"children\":\"async function printOrders() {\\r\\n\\tconst response = await fetch(\\\"http://localhost:8080/rx/orders/v2\\\");\\r\\n\\tconst stream = response.body.pipeThrough(new TextDecoderStream());\\r\\n\\tconst reader = stream.getReader();\\r\\n\\r\\n\\twhile (true) {\\r\\n\\t\\tconst { value, done } = await reader.read();\\r\\n\\t\\tconsole.log(done);\\r\\n\\t\\tconsole.log(value);\\r\\n\\r\\n\\t\\tif (done) {\\r\\n\\t\\t\\tbreak;\\r\\n\\t\\t}\\r\\n\\t}\\r\\n}\\r\\n\\r\\nprintOrders();\\n\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"如果想不停咁 stream：\"}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-js\",\"children\":\"// 用 NodeJS 既話要 npm install eventsource，再加下面果句：\\r\\n// global.EventSource = require(\\\"eventsource\\\");\\r\\n\\r\\nconst eventSource = new EventSource(\\\"http://localhost:8080/rx/orders/v2\\\");\\r\\n\\r\\neventSource.onopen = () =\u003e {\\r\\n\\tconsole.log(\\\"Open\\\");\\r\\n};\\r\\n\\r\\neventSource.onmessage = ({ data }) =\u003e {\\r\\n\\tconsole.log(data);\\r\\n};\\n\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"註：\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"用 \",[\"$\",\"code\",null,{\"children\":\"EventSource\"}],\" 既話，就會見到佢每過 \",[\"$\",\"code\",null,{\"children\":\"1\"}],\" 秒就會收到 event data，而 \",[\"$\",\"code\",null,{\"children\":\"10\"}],\" 次之後佢會再 \",[\"$\",\"code\",null,{\"children\":\"Open\"}],\"，然後又會重複再收多 \",[\"$\",\"code\",null,{\"children\":\"10\"}],\" 次，無限 loop。\"]}],\"\\n\"]}]],null,[\"$\",\"$Lf\",null,{\"children\":\"$L10\"}]]}],{},null,false]},null,false]},null,false]},null,false]},null,false],[\"$\",\"$1\",\"h\",{\"children\":[null,[\"$\",\"$1\",\"CmkqQHBFVbLIzoHZFHxCR\",{\"children\":[[\"$\",\"$L11\",null,{\"children\":\"$L12\"}],[\"$\",\"$L13\",null,{\"children\":\"$L14\"}],null]}]]}],false]],\"m\":\"$undefined\",\"G\":[\"$15\",\"$undefined\"],\"s\":false,\"S\":true}\n"])</script><script>self.__next_f.push([1,"14:[[\"$\",\"meta\",\"0\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\n12:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"1\",{\"children\":\"Michael Chung's e-Portfolio\"}],[\"$\",\"meta\",\"2\",{\"name\":\"description\",\"content\":\"Powered by Next.js and React\"}]]\n"])</script><script>self.__next_f.push([1,"10:null\n"])</script></body></html>