<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" as="image" href="/blog/2024-05/react-with-vite/node-modules-of-project-generated-by-create-react-app.png"/><link rel="preload" as="image" href="/blog/2024-05/react-with-vite/node-modules-of-project-generated-by-vite.png"/><link rel="stylesheet" href="/e2-next/_next/static/css/d3df112486f97f47.css" data-precedence="next"/><link rel="stylesheet" href="/e2-next/_next/static/css/c3624a693ae5a0c4.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/e2-next/_next/static/chunks/webpack-f088da4552bcc253.js"/><script src="/e2-next/_next/static/chunks/4bd1b696-120f4d9c40d223dd.js" async=""></script><script src="/e2-next/_next/static/chunks/1517-c8d232d43a11224c.js" async=""></script><script src="/e2-next/_next/static/chunks/main-app-05c45cc8f30d6cea.js" async=""></script><script src="/e2-next/_next/static/chunks/7829-b7b9eb1dbe0d40e4.js" async=""></script><script src="/e2-next/_next/static/chunks/2153-45fd9844831c6348.js" async=""></script><script src="/e2-next/_next/static/chunks/app/layout-ea91c2d128ec48c2.js" async=""></script><script src="/e2-next/_next/static/chunks/app/page-c8b940db14fac9a0.js" async=""></script><title>Michael Chung&#x27;s e-Portfolio</title><meta name="description" content="Powered by Next.js and React"/><link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&amp;display=swap" rel="stylesheet"/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css"/><script src="/e2-next/_next/static/chunks/polyfills-42372ed130431b0a.js" noModule=""></script></head><body><div class="vstack gap-5"><div class="text-center vstack gap-5"><div><code class="SiteHeader_name__cwQmL">Chung Cheuk Hang Michael</code><code class="SiteHeader_title__CCfvI">Java Web Developer</code></div><nav class="justify-content-center navbar navbar-expand-md navbar-dark"><button type="button" aria-label="Toggle navigation" class="navbar-toggler collapsed"><span class="navbar-toggler-icon"></span></button><div class="justify-content-center navbar-collapse collapse"><div class="justify-content-center navbar-nav nav-underline"><div class="nav-item"><a draggable="false" data-rr-ui-event-key="/" class="nav-link" href="/e2-next">Home</a></div><div class="nav-item"><a draggable="false" data-rr-ui-event-key="/work" class="nav-link" href="/e2-next/work">Work</a></div><div class="nav-item"><a draggable="false" data-rr-ui-event-key="/hobbyProjects" class="nav-link" href="/e2-next/hobbyProjects">Hobby projects</a></div><div class="nav-item"><a draggable="false" data-rr-ui-event-key="/personality" class="nav-link" href="/e2-next/personality">Personality</a></div><div class="nav-item"><a draggable="false" data-rr-ui-event-key="/blog" class="nav-link" href="/e2-next/blog">Blog</a></div></div></div></nav></div><h1>1 Vite 簡介</h1>
<p>幾年前，ReactJS 既開發者應該都會用 Create-React-App 呢一個 npm module 作為 React 項目既 template 項目生成器，不過 Create-React-App 已經超過 2 年冇更新，可以被視為已死既項目。</p>
<p>Vite 係由 VueJS 既原作者創立。因為 VueJS 既興起，Vite 近年取而代之，成為左主流既建立 React 項目既 template 項目生成器。</p>
<p>Vite 有以下既組件：</p>
<table><thead><tr><th>組件</th><th>用途</th></tr></thead><tbody><tr><td><code>create-vite</code></td><td>新 SPA 項目既生成器</td></tr><tr><td><code>vite</code></td><td>Build scripts</td></tr></tbody></table>
<h2>1.1 Vite 既優點</h2>
<p>用過 Vite 就會發現佢有唔少比起 Create-React-App 絕對既好處：</p>
<table><thead><tr><th>方面</th><th>Create-React-App</th><th>Vite</th></tr></thead><tbody><tr><td>生成出黎既項目既 <code>node_modules</code> 裡面既檔案、目錄數量</td><td>4000+ 檔案、5000+ 目錄</td><td>300+ 檔案、50+ 目錄</td></tr><tr><td>Module bundler</td><td>Webpack</td><td>較快既 Rollup</td></tr><tr><td>ReactJS transpiler</td><td>Babel</td><td>較快既 <code>@vitejs/plugin-react</code> 或者 <code>@vitejs/plugin-react-swc</code></td></tr><tr><td>Build scripts</td><td>非常笨重、已經超過 2 年冇更新既 React Scripts</td><td>輕量既 Vite</td></tr></tbody></table>
<p>以下係 Create-React-App 生成出黎既 ReactJS 項目既 <code>node_modules</code>：</p>
<p><img src="/blog/2024-05/react-with-vite/node-modules-of-project-generated-by-create-react-app.png" alt=""/></p>
<p>以下係 Create-Vite 生成出黎既 ReactJS 項目既 <code>node_modules</code>：</p>
<p><img src="/blog/2024-05/react-with-vite/node-modules-of-project-generated-by-vite.png" alt=""/></p>
<p>註：</p>
<ul>
<li>Create-React-App 之所以生成出黎既 ReactJS 項目有 npm modules，完全係因為 React Scripts 引入左大量既 transitive dependencies。</li>
</ul>
<hr/>
<h1>2 動手做</h1>
<h2>2.1 安裝 Create-Vite</h2>
<pre><code class="language-bash">npm i -g create-vite
</code></pre>
<hr/>
<h2>2.2 生成 ReactJS 項目</h2>
<p>創建一個新 folder，然後喺裡面執行：</p>
<pre><code class="language-bash">create-vite my-react-app-vite
</code></pre>
<p>我地既項目名係 <code>my-react-app-vite</code>。</p>
<p>之後需要揀一啲選項：</p>
<ol>
<li>React</li>
<li>JavaScript + SWC</li>
</ol>
<hr/>
<h2>2.3 執行 ReactJS 項目</h2>
<p>喺生成出黎既 ReactJS 項目既 project root folder 度執行：</p>
<pre><code class="language-bash">npm i
</code></pre>
<p>等佢下載所有 npm modules，之後就可以執行：</p>
<pre><code class="language-bash">npm run dev
</code></pre>
<p>然後喺本地瀏覽器打開 <a href="http://localhost:5173">http://localhost:5173</a>。</p>
<p>但如果想 LAN 既其他裝置（例如手機、平板）既瀏覽器都可以連接到，就要執行：</p>
<pre><code class="language-bash">npm run dev -- --host
</code></pre>
<p>OS 既防火牆 allow 左 <code>node.exe</code> 之後，可以喺 LAN 既其他裝置打開 <a href="http://192.168.1.X:5173">http://192.168.1.X:5173</a>。</p>
<hr/>
<h2>2.4 部署到 GitHub Pages</h2>
<h3>2.4.1 創建 GitHub repository</h3>
<ol>
<li>登入 GitHub，然後新增一個 public repository。</li>
<li>喺本地 <code>git clone</code> 呢個新既 Git repo。</li>
<li>將 <code>.git</code> 檔案搬到我地用 Create-Vite 建立既項目既 project root folder 裡面。</li>
</ol>
<hr/>
<h3>2.4.2 喺 ReactJS 項目加入 gh-pages</h3>
<p>喺 ReactJS 項目既 project root folder 執行：</p>
<pre><code class="language-bash">npm i gh-pages
</code></pre>
<p>之後喺 <code>package.json</code> 加入 <code>homepage</code>，個 URL 後面既 path 係岩岩創建既 Git repo 名：</p>
<pre><code class="language-json">{
	&quot;homepage&quot;: &quot;http://blackr1234.github.io/my-react-app-vite&quot;
}
</code></pre>
<p>然後喺 <code>package.json</code> 既 <code>scripts</code> field 裡面加入 <code>predeploy</code> 以及 <code>deploy</code>：</p>
<pre><code class="language-json">{
	&quot;scripts&quot;: {
		&quot;dev&quot;: &quot;vite&quot;,
		&quot;build&quot;: &quot;vite build&quot;,
		&quot;preview&quot;: &quot;vite preview&quot;,

		&quot;predeploy&quot;: &quot;npm run build&quot;,
		&quot;deploy&quot;: &quot;gh-pages -d dist&quot;
	}
}
</code></pre>
<p>註：</p>
<ul>
<li><code>predeploy</code> 呢個 script 名係 <code>deploy</code> 既 pre script，而 pre script 係 npm 提供既功能。<!-- -->
<ul>
<li>Pre script 會喺佢「pre」既對象既 script 執行之前執行。</li>
<li><code>predeploy</code> 會喺 <code>deploy</code> 執行之前執行。</li>
</ul>
</li>
<li>部署流程：<!-- -->
<ol>
<li><code>predeploy</code> script 會幫我地執行 <code>npm run build</code>，而 <code>npm run build</code> 對應 <code>build</code> script，會執行 <code>vite build</code>，生成 <code>dist</code> folder。</li>
<li><code>deploy</code> script 會執行 <code>gh-pages</code> 既邏輯，將 <code>-d</code> 既 <code>dist</code> folder 部署上我地 Git repo 作為 GitHub Pages。</li>
</ol>
</li>
</ul>
<hr/>
<h3>2.4.3 修改 Vite 配置</h3>
<p>我地要將 base path 寫落 <code>vite.config.js</code>：</p>
<pre><code class="language-js">import { defineConfig } from &quot;vite&quot;;
import react from &quot;@vitejs/plugin-react-swc&quot;;

export default defineConfig({
	base: &quot;/my-react-app-vite&quot;, // 要加呢個 config
	plugins: [react()],
});
</code></pre>
<hr/>
<h3>2.4.4 部署 ReactJS 項目到 GitHub Pages</h3>
<p>喺 ReactJS 項目既 project root folder 執行：</p>
<pre><code class="language-bash">npm run deploy
</code></pre>
<hr/>
<h1>3 檢視結果</h1>
<h2>3.1 Source map</h2>
<p>Production build 唔應該有 source map，我地可以睇下 <code>dist</code> folder 裡面有冇 source map。</p>
<p>答案係冇既，因為 Vite 默認既 <code>build.sourcemap</code> 配置係 <code>false</code>，所以 Vite 打包 <code>dist</code> folder 既時候默認係唔會生成 source map。</p>
<hr/>
<h2>3.2 GitHub Pages 網站</h2>
<p>等一陣，GitHub Pages 會 host 我地既網站：</p>
<p><a href="https://blackr1234.github.io/my-react-app-vite/">https://blackr1234.github.io/my-react-app-vite/</a></p>
<hr/>
<h1>4 參考資料</h1>
<ul>
<li><a href="https://vitejs.dev/config/">Vite 官方文檔 - Configuring Vite</a></li>
<li><a href="https://vitejs.dev/guide/static-deploy#github-pages">Vite 官方文檔 - Deploying a Static Site - GitHub Pages</a></li>
<li><a href="https://vitejs.dev/config/build-options#build-sourcemap">Vite 官方文檔 - Build Options - build.sourcemap</a></li>
<li><a href="https://www.dhiwise.com/post/maximize-performance-how-swc-enhances-vite-and-react">Maximize Performance: How SWC Enhances Vite and React</a></li>
<li><a href="https://blog.seancoughlin.me/deploying-to-github-pages-using-gh-pages">Deploying to GitHub Pages using gh-pages</a></li>
<li><a href="https://docs.npmjs.com/cli/v10/using-npm/scripts#pre--post-scripts">NPM 官方文檔 - scripts - Pre &amp; Post Scripts</a></li>
<li><a href="https://stackoverflow.com/questions/71703933/what-is-the-difference-between-vite-and-vite-preview">StackOverflow - What is the difference between &quot;vite&quot; and &quot;vite preview&quot;?</a></li>
<li><a href="https://web.dev/articles/source-maps">What are source maps?</a>
<ul>
<li><a href="https://web.dev/articles/source-maps#generate">What are source maps? - Generate source maps</a></li>
</ul>
</li>
</ul><hr/><div class="vstack gap-3"><div class="text-center container"><div class="justify-content-center g-3 row row-cols-md-3 row-cols-sm-2 row-cols-1"><div class="col"><a target="_blank" rel="external nofollow noopener noreferrer" class="SiteFooter_contact-item__2JRRr card" href="tel:+85263301333"><div class="card-body"><div class="card-title h5"><i class="fa-solid fa-phone" style="color:#009688"></i></div><p class="text-muted card-text">6330 1333<!-- --> </p></div></a></div><div class="col"><a target="_blank" rel="external nofollow noopener noreferrer" class="SiteFooter_contact-item__2JRRr card" href="mailto:michaelboyboy@gmail.com"><div class="card-body"><div class="card-title h5"><i class="fa-solid fa-envelope" style="color:#f44336"></i></div><p class="text-muted card-text">michaelboyboy@gmail.com<!-- --> </p></div></a></div><div class="col"><a target="_blank" rel="external nofollow noopener noreferrer" class="SiteFooter_contact-item__2JRRr card" href="https://www.linkedin.com/in/mickchung"><div class="card-body"><div class="card-title h5"><i class="fa-brands fa-linkedin" style="color:#2196f3"></i></div><p class="text-muted card-text">www.linkedin.com/in/mickchung<!-- --> </p></div></a></div></div></div></div></div><script src="/e2-next/_next/static/chunks/webpack-f088da4552bcc253.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:\"$Sreact.fragment\"\n2:I[8287,[\"7829\",\"static/chunks/7829-b7b9eb1dbe0d40e4.js\",\"2153\",\"static/chunks/2153-45fd9844831c6348.js\",\"7177\",\"static/chunks/app/layout-ea91c2d128ec48c2.js\"],\"default\"]\n3:I[3339,[\"7829\",\"static/chunks/7829-b7b9eb1dbe0d40e4.js\",\"8974\",\"static/chunks/app/page-c8b940db14fac9a0.js\"],\"default\"]\n4:I[1367,[\"7829\",\"static/chunks/7829-b7b9eb1dbe0d40e4.js\",\"2153\",\"static/chunks/2153-45fd9844831c6348.js\",\"7177\",\"static/chunks/app/layout-ea91c2d128ec48c2.js\"],\"default\"]\n5:I[5244,[],\"\"]\n6:I[3866,[],\"\"]\n7:I[4798,[\"7829\",\"static/chunks/7829-b7b9eb1dbe0d40e4.js\",\"8974\",\"static/chunks/app/page-c8b940db14fac9a0.js\"],\"default\"]\n8:I[6121,[\"7829\",\"static/chunks/7829-b7b9eb1dbe0d40e4.js\",\"8974\",\"static/chunks/app/page-c8b940db14fac9a0.js\"],\"default\"]\n9:I[3667,[\"7829\",\"static/chunks/7829-b7b9eb1dbe0d40e4.js\",\"8974\",\"static/chunks/app/page-c8b940db14fac9a0.js\"],\"default\"]\na:I[8407,[\"7829\",\"static/chunks/7829-b7b9eb1dbe0d40e4.js\",\"2153\",\"static/chunks/2153-45fd9844831c6348.js\",\"7177\",\"static/chunks/app/layout-ea91c2d128ec48c2.js\"],\"default\"]\nb:I[8173,[\"7829\",\"static/chunks/7829-b7b9eb1dbe0d40e4.js\",\"8974\",\"static/chunks/app/page-c8b940db14fac9a0.js\"],\"\"]\nc:I[3197,[\"7829\",\"static/chunks/7829-b7b9eb1dbe0d40e4.js\",\"2153\",\"static/chunks/2153-45fd9844831c6348.js\",\"7177\",\"static/chunks/app/layout-ea91c2d128ec48c2.js\"],\"default\"]\nd:I[7933,[\"7829\",\"static/chunks/7829-b7b9eb1dbe0d40e4.js\",\"2153\",\"static/chunks/2153-45fd9844831c6348.js\",\"7177\",\"static/chunks/app/layout-ea91c2d128ec48c2.js\"],\"default\"]\ne:I[3800,[\"7829\",\"static/chunks/7829-b7b9eb1dbe0d40e4.js\",\"2153\",\"static/chunks/2153-45fd9844831c6348.js\",\"7177\",\"static/chunks/app/layout-ea91c2d128ec48c2.js\"],\"default\"]\nf:I[6213,[],\"OutletBoundary\"]\n11:I[6213,[],\"MetadataBoundary\"]\n13:I[6213,[],\"ViewportBoundary\"]\n15:I[4835,[],\"\"]\n:HL[\"/e2-next/_next/static/css/d3df112486f97f47.css\",\"style\"]\n:HL[\"/e2-next/_next/static/css/c3624a693ae5a0c4.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"0:{\"P\":null,\"b\":\"wfZ4FdS4ntgGvzjeKJhfw\",\"p\":\"/e2-next\",\"c\":[\"\",\"blog\",\"react-with-vite\"],\"i\":false,\"f\":[[[\"\",{\"children\":[\"blog\",{\"children\":[\"(2024-05)\",{\"children\":[\"react-with-vite\",{\"children\":[\"__PAGE__\",{}]}]}]}]},\"$undefined\",\"$undefined\",true],[\"\",[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/e2-next/_next/static/css/d3df112486f97f47.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}],[\"$\",\"link\",\"1\",{\"rel\":\"stylesheet\",\"href\":\"/e2-next/_next/static/css/c3624a693ae5a0c4.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"en\",\"children\":[[\"$\",\"head\",null,{\"children\":[[\"$\",\"link\",null,{\"href\":\"https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900\u0026display=swap\",\"rel\":\"stylesheet\"}],[\"$\",\"link\",null,{\"rel\":\"stylesheet\",\"href\":\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css\"}]]}],[\"$\",\"body\",null,{\"children\":[\"$\",\"$L2\",null,{\"children\":[\"$\",\"$L3\",null,{\"gap\":5,\"children\":[[\"$\",\"$L3\",null,{\"gap\":5,\"className\":\"text-center\",\"children\":[[\"$\",\"div\",null,{\"children\":[[\"$\",\"code\",null,{\"className\":\"SiteHeader_name__cwQmL\",\"children\":\"Chung Cheuk Hang Michael\"}],[\"$\",\"code\",null,{\"className\":\"SiteHeader_title__CCfvI\",\"children\":\"Java Web Developer\"}]]}],[\"$\",\"$L4\",null,{}]]}],[\"$\",\"$L5\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L6\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[],[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":404}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}],[\"$\",\"hr\",null,{}],[\"$\",\"$L3\",null,{\"gap\":3,\"children\":[\"$\",\"$L7\",null,{\"className\":\"text-center\",\"children\":[\"$\",\"$L8\",null,{\"xs\":1,\"sm\":2,\"md\":3,\"className\":\"justify-content-center g-3\",\"children\":[[\"$\",\"$L9\",\"0\",{\"children\":[\"$\",\"$La\",null,{\"as\":\"$b\",\"href\":\"tel:+85263301333\",\"target\":\"_blank\",\"rel\":\"external nofollow noopener noreferrer\",\"className\":\"SiteFooter_contact-item__2JRRr\",\"children\":[\"$\",\"$Lc\",null,{\"children\":[[\"$\",\"$Ld\",null,{\"children\":[\"$\",\"i\",null,{\"className\":\"fa-solid fa-phone\",\"style\":{\"color\":\"#009688\"}}]}],[\"$\",\"$Le\",null,{\"className\":\"text-muted\",\"children\":[\"6330 1333\",\" \"]}]]}]}]}],[\"$\",\"$L9\",\"1\",{\"children\":[\"$\",\"$La\",null,{\"as\":\"$b\",\"href\":\"mailto:michaelboyboy@gmail.com\",\"target\":\"_blank\",\"rel\":\"external nofollow noopener noreferrer\",\"className\":\"SiteFooter_contact-item__2JRRr\",\"children\":[\"$\",\"$Lc\",null,{\"children\":[[\"$\",\"$Ld\",null,{\"children\":[\"$\",\"i\",null,{\"className\":\"fa-solid fa-envelope\",\"style\":{\"color\":\"#f44336\"}}]}],[\"$\",\"$Le\",null,{\"className\":\"text-muted\",\"children\":[\"michaelboyboy@gmail.com\",\" \"]}]]}]}]}],[\"$\",\"$L9\",\"2\",{\"children\":[\"$\",\"$La\",null,{\"as\":\"$b\",\"href\":\"https://www.linkedin.com/in/mickchung\",\"target\":\"_blank\",\"rel\":\"external nofollow noopener noreferrer\",\"className\":\"SiteFooter_contact-item__2JRRr\",\"children\":[\"$\",\"$Lc\",null,{\"children\":[[\"$\",\"$Ld\",null,{\"children\":[\"$\",\"i\",null,{\"className\":\"fa-brands fa-linkedin\",\"style\":{\"color\":\"#2196f3\"}}]}],[\"$\",\"$Le\",null,{\"className\":\"text-muted\",\"children\":[\"www.linkedin.com/in/mickchung\",\" \"]}]]}]}]}]]}]}]}]]}]}]}]]}]]}],{\"children\":[\"blog\",[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L5\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"blog\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L6\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[\"(2024-05)\",[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L5\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"blog\",\"children\",\"(2024-05)\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L6\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[\"react-with-vite\",[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L5\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"blog\",\"children\",\"(2024-05)\",\"children\",\"react-with-vite\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L6\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[\"__PAGE__\",[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"h1\",null,{\"children\":\"1 Vite 簡介\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"幾年前，ReactJS 既開發者應該都會用 Create-React-App 呢一個 npm module 作為 React 項目既 template 項目生成器，不過 Create-React-App 已經超過 2 年冇更新，可以被視為已死既項目。\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Vite 係由 VueJS 既原作者創立。因為 VueJS 既興起，Vite 近年取而代之，成為左主流既建立 React 項目既 template 項目生成器。\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Vite 有以下既組件：\"}],\"\\n\",[\"$\",\"table\",null,{\"children\":[[\"$\",\"thead\",null,{\"children\":[\"$\",\"tr\",null,{\"children\":[[\"$\",\"th\",null,{\"children\":\"組件\"}],[\"$\",\"th\",null,{\"children\":\"用途\"}]]}]}],[\"$\",\"tbody\",null,{\"children\":[[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"create-vite\"}]}],[\"$\",\"td\",null,{\"children\":\"新 SPA 項目既生成器\"}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"vite\"}]}],[\"$\",\"td\",null,{\"children\":\"Build scripts\"}]]}]]}]]}],\"\\n\",[\"$\",\"h2\",null,{\"children\":\"1.1 Vite 既優點\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"用過 Vite 就會發現佢有唔少比起 Create-React-App 絕對既好處：\"}],\"\\n\",[\"$\",\"table\",null,{\"children\":[[\"$\",\"thead\",null,{\"children\":[\"$\",\"tr\",null,{\"children\":[[\"$\",\"th\",null,{\"children\":\"方面\"}],[\"$\",\"th\",null,{\"children\":\"Create-React-App\"}],[\"$\",\"th\",null,{\"children\":\"Vite\"}]]}]}],[\"$\",\"tbody\",null,{\"children\":[[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"children\":[\"生成出黎既項目既 \",[\"$\",\"code\",null,{\"children\":\"node_modules\"}],\" 裡面既檔案、目錄數量\"]}],[\"$\",\"td\",null,{\"children\":\"4000+ 檔案、5000+ 目錄\"}],[\"$\",\"td\",null,{\"children\":\"300+ 檔案、50+ 目錄\"}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"children\":\"Module bundler\"}],[\"$\",\"td\",null,{\"children\":\"Webpack\"}],[\"$\",\"td\",null,{\"children\":\"較快既 Rollup\"}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"children\":\"ReactJS transpiler\"}],[\"$\",\"td\",null,{\"children\":\"Babel\"}],[\"$\",\"td\",null,{\"children\":[\"較快既 \",[\"$\",\"code\",null,{\"children\":\"@vitejs/plugin-react\"}],\" 或者 \",[\"$\",\"code\",null,{\"children\":\"@vitejs/plugin-react-swc\"}]]}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"children\":\"Build scripts\"}],[\"$\",\"td\",null,{\"children\":\"非常笨重、已經超過 2 年冇更新既 React Scripts\"}],[\"$\",\"td\",null,{\"children\":\"輕量既 Vite\"}]]}]]}]]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"以下係 Create-React-App 生成出黎既 ReactJS 項目既 \",[\"$\",\"code\",null,{\"children\":\"node_modules\"}],\"：\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"$\",\"img\",null,{\"src\":\"/blog/2024-05/react-with-vite/node-modules-of-project-generated-by-create-react-app.png\",\"alt\":\"\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"以下係 Create-Vite 生成出黎既 ReactJS 項目既 \",[\"$\",\"code\",null,{\"children\":\"node_modules\"}],\"：\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"$\",\"img\",null,{\"src\":\"/blog/2024-05/react-with-vite/node-modules-of-project-generated-by-vite.png\",\"alt\":\"\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"註：\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"Create-React-App 之所以生成出黎既 ReactJS 項目有 npm modules，完全係因為 React Scripts 引入左大量既 transitive dependencies。\"}],\"\\n\"]}],\"\\n\",[\"$\",\"hr\",null,{}],\"\\n\",[\"$\",\"h1\",null,{\"children\":\"2 動手做\"}],\"\\n\",[\"$\",\"h2\",null,{\"children\":\"2.1 安裝 Create-Vite\"}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-bash\",\"children\":\"npm i -g create-vite\\n\"}]}],\"\\n\",[\"$\",\"hr\",null,{}],\"\\n\",[\"$\",\"h2\",null,{\"children\":\"2.2 生成 ReactJS 項目\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"創建一個新 folder，然後喺裡面執行：\"}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-bash\",\"children\":\"create-vite my-react-app-vite\\n\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"我地既項目名係 \",[\"$\",\"code\",null,{\"children\":\"my-react-app-vite\"}],\"。\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"之後需要揀一啲選項：\"}],\"\\n\",[\"$\",\"ol\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"React\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"JavaScript + SWC\"}],\"\\n\"]}],\"\\n\",[\"$\",\"hr\",null,{}],\"\\n\",[\"$\",\"h2\",null,{\"children\":\"2.3 執行 ReactJS 項目\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"喺生成出黎既 ReactJS 項目既 project root folder 度執行：\"}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-bash\",\"children\":\"npm i\\n\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"等佢下載所有 npm modules，之後就可以執行：\"}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-bash\",\"children\":\"npm run dev\\n\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"然後喺本地瀏覽器打開 \",[\"$\",\"a\",null,{\"href\":\"http://localhost:5173\",\"children\":\"http://localhost:5173\"}],\"。\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"但如果想 LAN 既其他裝置（例如手機、平板）既瀏覽器都可以連接到，就要執行：\"}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-bash\",\"children\":\"npm run dev -- --host\\n\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"OS 既防火牆 allow 左 \",[\"$\",\"code\",null,{\"children\":\"node.exe\"}],\" 之後，可以喺 LAN 既其他裝置打開 \",[\"$\",\"a\",null,{\"href\":\"http://192.168.1.X:5173\",\"children\":\"http://192.168.1.X:5173\"}],\"。\"]}],\"\\n\",[\"$\",\"hr\",null,{}],\"\\n\",[\"$\",\"h2\",null,{\"children\":\"2.4 部署到 GitHub Pages\"}],\"\\n\",[\"$\",\"h3\",null,{\"children\":\"2.4.1 創建 GitHub repository\"}],\"\\n\",[\"$\",\"ol\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"登入 GitHub，然後新增一個 public repository。\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"喺本地 \",[\"$\",\"code\",null,{\"children\":\"git clone\"}],\" 呢個新既 Git repo。\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"將 \",[\"$\",\"code\",null,{\"children\":\".git\"}],\" 檔案搬到我地用 Create-Vite 建立既項目既 project root folder 裡面。\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"hr\",null,{}],\"\\n\",[\"$\",\"h3\",null,{\"children\":\"2.4.2 喺 ReactJS 項目加入 gh-pages\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"喺 ReactJS 項目既 project root folder 執行：\"}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-bash\",\"children\":\"npm i gh-pages\\n\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"之後喺 \",[\"$\",\"code\",null,{\"children\":\"package.json\"}],\" 加入 \",[\"$\",\"code\",null,{\"children\":\"homepage\"}],\"，個 URL 後面既 path 係岩岩創建既 Git repo 名：\"]}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-json\",\"children\":\"{\\r\\n\\t\\\"homepage\\\": \\\"http://blackr1234.github.io/my-react-app-vite\\\"\\r\\n}\\n\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"然後喺 \",[\"$\",\"code\",null,{\"children\":\"package.json\"}],\" 既 \",[\"$\",\"code\",null,{\"children\":\"scripts\"}],\" field 裡面加入 \",[\"$\",\"code\",null,{\"children\":\"predeploy\"}],\" 以及 \",[\"$\",\"code\",null,{\"children\":\"deploy\"}],\"：\"]}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-json\",\"children\":\"{\\r\\n\\t\\\"scripts\\\": {\\r\\n\\t\\t\\\"dev\\\": \\\"vite\\\",\\r\\n\\t\\t\\\"build\\\": \\\"vite build\\\",\\r\\n\\t\\t\\\"preview\\\": \\\"vite preview\\\",\\r\\n\\r\\n\\t\\t\\\"predeploy\\\": \\\"npm run build\\\",\\r\\n\\t\\t\\\"deploy\\\": \\\"gh-pages -d dist\\\"\\r\\n\\t}\\r\\n}\\n\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"註：\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"predeploy\"}],\" 呢個 script 名係 \",[\"$\",\"code\",null,{\"children\":\"deploy\"}],\" 既 pre script，而 pre script 係 npm 提供既功能。\",\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"Pre script 會喺佢「pre」既對象既 script 執行之前執行。\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"predeploy\"}],\" 會喺 \",[\"$\",\"code\",null,{\"children\":\"deploy\"}],\" 執行之前執行。\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"部署流程：\",\"\\n\",[\"$\",\"ol\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"predeploy\"}],\" script 會幫我地執行 \",[\"$\",\"code\",null,{\"children\":\"npm run build\"}],\"，而 \",[\"$\",\"code\",null,{\"children\":\"npm run build\"}],\" 對應 \",[\"$\",\"code\",null,{\"children\":\"build\"}],\" script，會執行 \",[\"$\",\"code\",null,{\"children\":\"vite build\"}],\"，生成 \",[\"$\",\"code\",null,{\"children\":\"dist\"}],\" folder。\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"deploy\"}],\" script 會執行 \",[\"$\",\"code\",null,{\"children\":\"gh-pages\"}],\" 既邏輯，將 \",[\"$\",\"code\",null,{\"children\":\"-d\"}],\" 既 \",[\"$\",\"code\",null,{\"children\":\"dist\"}],\" folder 部署上我地 Git repo 作為 GitHub Pages。\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"hr\",null,{}],\"\\n\",[\"$\",\"h3\",null,{\"children\":\"2.4.3 修改 Vite 配置\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"我地要將 base path 寫落 \",[\"$\",\"code\",null,{\"children\":\"vite.config.js\"}],\"：\"]}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-js\",\"children\":\"import { defineConfig } from \\\"vite\\\";\\r\\nimport react from \\\"@vitejs/plugin-react-swc\\\";\\r\\n\\r\\nexport default defineConfig({\\r\\n\\tbase: \\\"/my-react-app-vite\\\", // 要加呢個 config\\r\\n\\tplugins: [react()],\\r\\n});\\n\"}]}],\"\\n\",[\"$\",\"hr\",null,{}],\"\\n\",[\"$\",\"h3\",null,{\"children\":\"2.4.4 部署 ReactJS 項目到 GitHub Pages\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"喺 ReactJS 項目既 project root folder 執行：\"}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-bash\",\"children\":\"npm run deploy\\n\"}]}],\"\\n\",[\"$\",\"hr\",null,{}],\"\\n\",[\"$\",\"h1\",null,{\"children\":\"3 檢視結果\"}],\"\\n\",[\"$\",\"h2\",null,{\"children\":\"3.1 Source map\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Production build 唔應該有 source map，我地可以睇下 \",[\"$\",\"code\",null,{\"children\":\"dist\"}],\" folder 裡面有冇 source map。\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"答案係冇既，因為 Vite 默認既 \",[\"$\",\"code\",null,{\"children\":\"build.sourcemap\"}],\" 配置係 \",[\"$\",\"code\",null,{\"children\":\"false\"}],\"，所以 Vite 打包 \",[\"$\",\"code\",null,{\"children\":\"dist\"}],\" folder 既時候默認係唔會生成 source map。\"]}],\"\\n\",[\"$\",\"hr\",null,{}],\"\\n\",[\"$\",\"h2\",null,{\"children\":\"3.2 GitHub Pages 網站\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"等一陣，GitHub Pages 會 host 我地既網站：\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"https://blackr1234.github.io/my-react-app-vite/\",\"children\":\"https://blackr1234.github.io/my-react-app-vite/\"}]}],\"\\n\",[\"$\",\"hr\",null,{}],\"\\n\",[\"$\",\"h1\",null,{\"children\":\"4 參考資料\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"https://vitejs.dev/config/\",\"children\":\"Vite 官方文檔 - Configuring Vite\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"https://vitejs.dev/guide/static-deploy#github-pages\",\"children\":\"Vite 官方文檔 - Deploying a Static Site - GitHub Pages\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"https://vitejs.dev/config/build-options#build-sourcemap\",\"children\":\"Vite 官方文檔 - Build Options - build.sourcemap\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"https://www.dhiwise.com/post/maximize-performance-how-swc-enhances-vite-and-react\",\"children\":\"Maximize Performance: How SWC Enhances Vite and React\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"https://blog.seancoughlin.me/deploying-to-github-pages-using-gh-pages\",\"children\":\"Deploying to GitHub Pages using gh-pages\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"https://docs.npmjs.com/cli/v10/using-npm/scripts#pre--post-scripts\",\"children\":\"NPM 官方文檔 - scripts - Pre \u0026 Post Scripts\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"https://stackoverflow.com/questions/71703933/what-is-the-difference-between-vite-and-vite-preview\",\"children\":\"StackOverflow - What is the difference between \\\"vite\\\" and \\\"vite preview\\\"?\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"a\",null,{\"href\":\"https://web.dev/articles/source-maps\",\"children\":\"What are source maps?\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"https://web.dev/articles/source-maps#generate\",\"children\":\"What are source maps? - Generate source maps\"}]}],\"\\n\"]}],\"\\n\"]}],\"\\n\"]}]],null,[\"$\",\"$Lf\",null,{\"children\":\"$L10\"}]]}],{},null,false]},null,false]},null,false]},null,false]},null,false],[\"$\",\"$1\",\"h\",{\"children\":[null,[\"$\",\"$1\",\"b1LGRS8fZdEnAKpPYIYKA\",{\"children\":[[\"$\",\"$L11\",null,{\"children\":\"$L12\"}],[\"$\",\"$L13\",null,{\"children\":\"$L14\"}],null]}]]}],false]],\"m\":\"$undefined\",\"G\":[\"$15\",\"$undefined\"],\"s\":false,\"S\":true}\n"])</script><script>self.__next_f.push([1,"14:[[\"$\",\"meta\",\"0\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\n12:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"1\",{\"children\":\"Michael Chung's e-Portfolio\"}],[\"$\",\"meta\",\"2\",{\"name\":\"description\",\"content\":\"Powered by Next.js and React\"}]]\n"])</script><script>self.__next_f.push([1,"10:null\n"])</script></body></html>